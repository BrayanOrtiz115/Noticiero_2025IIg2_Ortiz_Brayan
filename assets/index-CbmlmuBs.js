(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var _m={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function cA(){if(zv)return Ul;zv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:h,ref:o!==void 0?o:null,props:c}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var Bv;function uA(){return Bv||(Bv=1,_m.exports=cA()),_m.exports}var f=uA(),vm={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function hA(){if(qv)return be;qv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function k(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,P={};function J(M,ee,re){this.props=M,this.context=ee,this.refs=P,this.updater=re||F}J.prototype.isReactComponent={},J.prototype.setState=function(M,ee){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ee,"setState")},J.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=J.prototype;function ie(M,ee,re){this.props=M,this.context=ee,this.refs=P,this.updater=re||F}var ge=ie.prototype=new ne;ge.constructor=ie,Q(ge,J.prototype),ge.isPureReactComponent=!0;var Ae=Array.isArray;function we(){}var I={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function R(M,ee,re){var ce=re.ref;return{$$typeof:a,type:M,key:ee,ref:ce!==void 0?ce:null,props:re}}function V(M,ee){return R(M.type,ee,M.props)}function j(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function U(M){var ee={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(re){return ee[re]})}var x=/\/+/g;function ot(M,ee){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):ee.toString(36)}function Mt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(we,we):(M.status="pending",M.then(function(ee){M.status==="pending"&&(M.status="fulfilled",M.value=ee)},function(ee){M.status==="pending"&&(M.status="rejected",M.reason=ee)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function $(M,ee,re,ce,Ee){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Le=!1;if(M===null)Le=!0;else switch(xe){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(M.$$typeof){case a:case e:Le=!0;break;case E:return Le=M._init,$(Le(M._payload),ee,re,ce,Ee)}}if(Le)return Ee=Ee(M),Le=ce===""?"."+ot(M,0):ce,Ae(Ee)?(re="",Le!=null&&(re=Le.replace(x,"$&/")+"/"),$(Ee,ee,re,"",function(Rs){return Rs})):Ee!=null&&(j(Ee)&&(Ee=V(Ee,re+(Ee.key==null||M&&M.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+Le)),ee.push(Ee)),1;Le=0;var Vt=ce===""?".":ce+":";if(Ae(M))for(var lt=0;lt<M.length;lt++)ce=M[lt],xe=Vt+ot(ce,lt),Le+=$(ce,ee,re,xe,Ee);else if(lt=k(M),typeof lt=="function")for(M=lt.call(M),lt=0;!(ce=M.next()).done;)ce=ce.value,xe=Vt+ot(ce,lt++),Le+=$(ce,ee,re,xe,Ee);else if(xe==="object"){if(typeof M.then=="function")return $(Mt(M),ee,re,ce,Ee);throw ee=String(M),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Le}function se(M,ee,re){if(M==null)return M;var ce=[],Ee=0;return $(M,ce,"","",function(xe){return ee.call(re,xe,Ee++)}),ce}function pe(M){if(M._status===-1){var ee=M._result;ee=ee(),ee.then(function(re){(M._status===0||M._status===-1)&&(M._status=1,M._result=re)},function(re){(M._status===0||M._status===-1)&&(M._status=2,M._result=re)}),M._status===-1&&(M._status=0,M._result=ee)}if(M._status===1)return M._result.default;throw M._result}var ze=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ke={map:se,forEach:function(M,ee,re){se(M,function(){ee.apply(this,arguments)},re)},count:function(M){var ee=0;return se(M,function(){ee++}),ee},toArray:function(M){return se(M,function(ee){return ee})||[]},only:function(M){if(!j(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return be.Activity=b,be.Children=Ke,be.Component=J,be.Fragment=n,be.Profiler=o,be.PureComponent=ie,be.StrictMode=s,be.Suspense=g,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,be.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},be.cache=function(M){return function(){return M.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(M,ee,re){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ce=Q({},M.props),Ee=M.key;if(ee!=null)for(xe in ee.key!==void 0&&(Ee=""+ee.key),ee)!N.call(ee,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ee.ref===void 0||(ce[xe]=ee[xe]);var xe=arguments.length-2;if(xe===1)ce.children=re;else if(1<xe){for(var Le=Array(xe),Vt=0;Vt<xe;Vt++)Le[Vt]=arguments[Vt+2];ce.children=Le}return R(M.type,Ee,ce)},be.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},be.createElement=function(M,ee,re){var ce,Ee={},xe=null;if(ee!=null)for(ce in ee.key!==void 0&&(xe=""+ee.key),ee)N.call(ee,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ee[ce]=ee[ce]);var Le=arguments.length-2;if(Le===1)Ee.children=re;else if(1<Le){for(var Vt=Array(Le),lt=0;lt<Le;lt++)Vt[lt]=arguments[lt+2];Ee.children=Vt}if(M&&M.defaultProps)for(ce in Le=M.defaultProps,Le)Ee[ce]===void 0&&(Ee[ce]=Le[ce]);return R(M,xe,Ee)},be.createRef=function(){return{current:null}},be.forwardRef=function(M){return{$$typeof:p,render:M}},be.isValidElement=j,be.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:pe}},be.memo=function(M,ee){return{$$typeof:y,type:M,compare:ee===void 0?null:ee}},be.startTransition=function(M){var ee=I.T,re={};I.T=re;try{var ce=M(),Ee=I.S;Ee!==null&&Ee(re,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(we,ze)}catch(xe){ze(xe)}finally{ee!==null&&re.types!==null&&(ee.types=re.types),I.T=ee}},be.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},be.use=function(M){return I.H.use(M)},be.useActionState=function(M,ee,re){return I.H.useActionState(M,ee,re)},be.useCallback=function(M,ee){return I.H.useCallback(M,ee)},be.useContext=function(M){return I.H.useContext(M)},be.useDebugValue=function(){},be.useDeferredValue=function(M,ee){return I.H.useDeferredValue(M,ee)},be.useEffect=function(M,ee){return I.H.useEffect(M,ee)},be.useEffectEvent=function(M){return I.H.useEffectEvent(M)},be.useId=function(){return I.H.useId()},be.useImperativeHandle=function(M,ee,re){return I.H.useImperativeHandle(M,ee,re)},be.useInsertionEffect=function(M,ee){return I.H.useInsertionEffect(M,ee)},be.useLayoutEffect=function(M,ee){return I.H.useLayoutEffect(M,ee)},be.useMemo=function(M,ee){return I.H.useMemo(M,ee)},be.useOptimistic=function(M,ee){return I.H.useOptimistic(M,ee)},be.useReducer=function(M,ee,re){return I.H.useReducer(M,ee,re)},be.useRef=function(M){return I.H.useRef(M)},be.useState=function(M){return I.H.useState(M)},be.useSyncExternalStore=function(M,ee,re){return I.H.useSyncExternalStore(M,ee,re)},be.useTransition=function(){return I.H.useTransition()},be.version="19.2.0",be}var Hv;function yp(){return Hv||(Hv=1,vm.exports=hA()),vm.exports}var D=yp(),Em={exports:{}},zl={},Tm={exports:{}},bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function dA(){return Fv||(Fv=1,(function(a){function e($,se){var pe=$.length;$.push(se);e:for(;0<pe;){var ze=pe-1>>>1,Ke=$[ze];if(0<o(Ke,se))$[ze]=se,$[pe]=Ke,pe=ze;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var se=$[0],pe=$.pop();if(pe!==se){$[0]=pe;e:for(var ze=0,Ke=$.length,M=Ke>>>1;ze<M;){var ee=2*(ze+1)-1,re=$[ee],ce=ee+1,Ee=$[ce];if(0>o(re,pe))ce<Ke&&0>o(Ee,re)?($[ze]=Ee,$[ce]=pe,ze=ce):($[ze]=re,$[ee]=pe,ze=ee);else if(ce<Ke&&0>o(Ee,pe))$[ze]=Ee,$[ce]=pe,ze=ce;else break e}}return se}function o($,se){var pe=$.sortIndex-se.sortIndex;return pe!==0?pe:$.id-se.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();a.unstable_now=function(){return h.now()-p}}var g=[],y=[],E=1,b=null,w=3,k=!1,F=!1,Q=!1,P=!1,J=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ge($){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=$)s(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(y)}}function Ae($){if(Q=!1,ge($),!F)if(n(g)!==null)F=!0,we||(we=!0,U());else{var se=n(y);se!==null&&Mt(Ae,se.startTime-$)}}var we=!1,I=-1,N=5,R=-1;function V(){return P?!0:!(a.unstable_now()-R<N)}function j(){if(P=!1,we){var $=a.unstable_now();R=$;var se=!0;try{e:{F=!1,Q&&(Q=!1,ne(I),I=-1),k=!0;var pe=w;try{t:{for(ge($),b=n(g);b!==null&&!(b.expirationTime>$&&V());){var ze=b.callback;if(typeof ze=="function"){b.callback=null,w=b.priorityLevel;var Ke=ze(b.expirationTime<=$);if($=a.unstable_now(),typeof Ke=="function"){b.callback=Ke,ge($),se=!0;break t}b===n(g)&&s(g),ge($)}else s(g);b=n(g)}if(b!==null)se=!0;else{var M=n(y);M!==null&&Mt(Ae,M.startTime-$),se=!1}}break e}finally{b=null,w=pe,k=!1}se=void 0}}finally{se?U():we=!1}}}var U;if(typeof ie=="function")U=function(){ie(j)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ot=x.port2;x.port1.onmessage=j,U=function(){ot.postMessage(null)}}else U=function(){J(j,0)};function Mt($,se){I=J(function(){$(a.unstable_now())},se)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function($){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var pe=w;w=se;try{return $()}finally{w=pe}},a.unstable_requestPaint=function(){P=!0},a.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=w;w=$;try{return se()}finally{w=pe}},a.unstable_scheduleCallback=function($,se,pe){var ze=a.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,$){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=pe+Ke,$={id:E++,callback:se,priorityLevel:$,startTime:pe,expirationTime:Ke,sortIndex:-1},pe>ze?($.sortIndex=pe,e(y,$),n(g)===null&&$===n(y)&&(Q?(ne(I),I=-1):Q=!0,Mt(Ae,pe-ze))):($.sortIndex=Ke,e(g,$),F||k||(F=!0,we||(we=!0,U()))),$},a.unstable_shouldYield=V,a.unstable_wrapCallback=function($){var se=w;return function(){var pe=w;w=se;try{return $.apply(this,arguments)}finally{w=pe}}}})(bm)),bm}var Gv;function fA(){return Gv||(Gv=1,Tm.exports=dA()),Tm.exports}var Sm={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function mA(){if(Kv)return en;Kv=1;var a=yp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},en.flushSync=function(g){var y=h.T,E=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=E,s.d.f()}},en.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},en.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},en.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=p(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:k}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},en.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},en.requestFormReset=function(g){s.d.r(g)},en.unstable_batchedUpdates=function(g,y){return g(y)},en.useFormState=function(g,y,E){return h.H.useFormState(g,y,E)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.2.0",en}var Qv;function pA(){if(Qv)return Sm.exports;Qv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Sm.exports=mA(),Sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function gA(){if(Yv)return zl;Yv=1;var a=fA(),e=yp(),n=pA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var r=t,l=i;;){var d=r.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){r=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===r)return g(d),t;if(m===l)return g(d),i;m=m.sibling}throw Error(s(188))}if(r.return!==l.return)r=d,l=m;else{for(var v=!1,S=d.child;S;){if(S===r){v=!0,r=d,l=m;break}if(S===l){v=!0,l=d,r=m;break}S=S.sibling}if(!v){for(S=m.child;S;){if(S===r){v=!0,r=m,l=d;break}if(S===l){v=!0,l=m,r=d;break}S=S.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case J:return"Profiler";case P:return"StrictMode";case Ae:return"Suspense";case we:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case ie:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:ot(t.type)||"Memo";case N:i=t._payload,t=t._init;try{return ot(t(i))}catch{}}return null}var Mt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],Ke=-1;function M(t){return{current:t}}function ee(t){0>Ke||(t.current=ze[Ke],ze[Ke]=null,Ke--)}function re(t,i){Ke++,ze[Ke]=t.current,t.current=i}var ce=M(null),Ee=M(null),xe=M(null),Le=M(null);function Vt(t,i){switch(re(xe,i),re(Ee,t),re(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?cv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=cv(i),t=uv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ce),re(ce,t)}function lt(){ee(ce),ee(Ee),ee(xe)}function Rs(t){t.memoizedState!==null&&re(Le,t);var i=ce.current,r=uv(i,t.type);i!==r&&(re(Ee,t),re(ce,r))}function Er(t){Ee.current===t&&(ee(ce),ee(Ee)),Le.current===t&&(ee(Le),Vl._currentValue=pe)}var Tr,br;function fi(t){if(Tr===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Tr=i&&i[1]||"",br=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tr+t+br}var Vo=!1;function xs(t,i){if(!t||Vo)return"";Vo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var H=K}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(K){H=K}t.call(Z.prototype)}}else{try{throw Error()}catch(K){H=K}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],S=m[1];if(v&&S){var C=v.split(`
`),q=S.split(`
`);for(d=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(l===C.length||d===q.length)for(l=C.length-1,d=q.length-1;1<=l&&0<=d&&C[l]!==q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(C[l]!==q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||C[l]!==q[d]){var Y=`
`+C[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=d);break}}}finally{Vo=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?fi(r):""}function ko(t,i){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return t.child!==i&&i!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return xs(t.type,!1);case 11:return xs(t.type.render,!1);case 1:return xs(t.type,!0);case 31:return fi("Activity");default:return""}}function Po(t){try{var i="",r=null;do i+=ko(t,r),r=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,kt=a.unstable_scheduleCallback,Na=a.unstable_cancelCallback,vd=a.unstable_shouldYield,Cc=a.unstable_requestPaint,ln=a.unstable_now,Cs=a.unstable_getCurrentPriorityLevel,Lo=a.unstable_ImmediatePriority,Uo=a.unstable_UserBlockingPriority,Ra=a.unstable_NormalPriority,Ed=a.unstable_LowPriority,Ic=a.unstable_IdlePriority,Dc=a.log,jc=a.unstable_setDisableYieldValue,Qn=null,Gt=null;function Dn(t){if(typeof Dc=="function"&&jc(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Qn,t)}catch{}}var gt=Math.clz32?Math.clz32:Mc,Oc=Math.log,Sr=Math.LN2;function Mc(t){return t>>>=0,t===0?32:31-(Oc(t)/Sr|0)|0}var mi=256,Is=262144,St=4194304;function pi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,i,r){var l=t.pendingLanes;if(l===0)return 0;var d=0,m=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?d=pi(l):(v&=S,v!==0?d=pi(v):r||(r=S&~t,r!==0&&(d=pi(r))))):(S=l&~m,S!==0?d=pi(S):v!==0?d=pi(v):r||(r=l&~t,r!==0&&(d=pi(r)))),d===0?0:i!==0&&i!==d&&(i&m)===0&&(m=d&-d,r=i&-i,m>=r||m===32&&(r&4194048)!==0)?i:d}function Yn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Td(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vc(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function yi(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function Ds(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bd(t,i,r,l,d,m){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(r=v&~r;0<r;){var Y=31-gt(r),Z=1<<Y;S[Y]=0,C[Y]=-1;var H=q[Y];if(H!==null)for(q[Y]=null,Y=0;Y<H.length;Y++){var K=H[Y];K!==null&&(K.lane&=-536870913)}r&=~Z}l!==0&&js(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(v&~i))}function js(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function zo(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var l=31-gt(r),d=1<<l;d&i|t[l]&i&&(t[l]|=i),r&=~d}}function Bo(t,i){var r=i&-i;return r=(r&42)!==0?1:Os(r),(r&(t.suspendedLanes|i))!==0?0:r}function Os(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function kc(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Ov(t.type))}function $n(t,i){var r=se.p;try{return se.p=t,i()}finally{se.p=r}}var Xn=Math.random().toString(36).slice(2),At="__reactFiber$"+Xn,zt="__reactProps$"+Xn,_i="__reactContainer$"+Xn,Ar="__reactEvents$"+Xn,Sd="__reactListeners$"+Xn,Pc="__reactHandles$"+Xn,Lc="__reactResources$"+Xn,vi="__reactMarker$"+Xn;function wr(t){delete t[At],delete t[zt],delete t[Ar],delete t[Sd],delete t[Pc]}function Ei(t){var i=t[At];if(i)return i;for(var r=t.parentNode;r;){if(i=r[_i]||r[At]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=yv(t);t!==null;){if(r=t[At])return r;t=yv(t)}return i}t=r,r=t.parentNode}return null}function jn(t){if(t=t[At]||t[_i]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function En(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ti(t){var i=t[Lc];return i||(i=t[Lc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[vi]=!0}var qo=new Set,Ho={};function bi(t,i){Si(t,i),Si(t+"Capture",i)}function Si(t,i){for(Ho[t]=i,t=0;t<i.length;t++)qo.add(i[t])}var Fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},Ko={};function Uc(t){return bt.call(Ko,t)?!0:bt.call(Go,t)?!1:Fo.test(t)?Ko[t]=!0:(Go[t]=!0,!1)}function Nr(t,i,r){if(Uc(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Tn(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function Nt(t,i,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+l)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xa(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Qo(t,i,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,m=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){r=""+v,m.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=xa(t)?"checked":"value";t._valueTracker=Qo(t,i,""+t[i])}}function Ms(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),l="";return t&&(l=xa(t)?t.checked?"true":"false":t.value),t=l,t!==r?(i.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vs=/[\n"\\]/g;function hn(t){return t.replace(Vs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Rr(t,i,r,l,d,m,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Bt(i)):t.value!==""+Bt(i)&&(t.value=""+Bt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Yo(t,v,Bt(i)):r!=null?Yo(t,v,Bt(r)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Bt(S):t.removeAttribute("name")}function zc(t,i,r,l,d,m,v,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Qe(t);return}r=r!=null?""+Bt(r):"",i=i!=null?""+Bt(i):r,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Qe(t)}function Yo(t,i,r){i==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ca(t,i,r,l){if(t=t.options,i){i={};for(var d=0;d<r.length;d++)i["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=i.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Bt(r),i=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Bc(t,i,r){if(i!=null&&(i=""+Bt(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+Bt(r):""}function Ia(t,i,r,l){if(i==null){if(l!=null){if(r!=null)throw Error(s(92));if(Mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),i=r}r=Bt(i),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Qe(t)}function dn(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var qc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(t,i,r){var l=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,r):typeof r!="number"||r===0||qc.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function Xo(t,i,r){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&r[d]!==l&&$o(t,d,l)}else for(var m in i)i.hasOwnProperty(m)&&$o(t,m,i[m])}function xr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Da=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cr(t){return Da.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var Jo=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ja=null,wi=null;function ks(t){var i=jn(t);if(i&&(t=i.stateNode)){var r=t[zt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Rr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var l=r[i];if(l!==t&&l.form===t.form){var d=l[zt]||null;if(!d)throw Error(s(90));Rr(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<r.length;i++)l=r[i],l.form===t.form&&Ms(l)}break e;case"textarea":Bc(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Ca(t,!!r.multiple,i,!1)}}}var Ir=!1;function Oa(t,i,r){if(Ir)return t(i,r);Ir=!0;try{var l=t(i);return l}finally{if(Ir=!1,(ja!==null||wi!==null)&&(ku(),ja&&(i=ja,t=wi,wi=ja=null,ks(i),t)))for(i=0;i<t.length;i++)ks(t[i])}}function Zn(t,i){var r=t.stateNode;if(r===null)return null;var l=r[zt]||null;if(l===null)return null;r=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,i,typeof r));return r}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(Mn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Ps=!1}var Ni=null,Zo=null,Ls=null;function Wo(){if(Ls)return Ls;var t,i=Zo,r=i.length,l,d="value"in Ni?Ni.value:Ni.textContent,m=d.length;for(t=0;t<r&&i[t]===d[t];t++);var v=r-t;for(l=1;l<=v&&i[r-l]===d[m-l];l++);return Ls=d.slice(t,1<l?1-l:void 0)}function Us(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function Wn(){return!1}function Kt(t){function i(r,l,d,m,v){this._reactName=r,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Xi:Wn,this.isPropagationStopped=Wn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),i}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Kt(Ji),Ma=b({},Ji,{view:0,detail:0}),el=Kt(Ma),Va,Dr,xi,jr=b({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Va=t.screenX-xi.screenX,Dr=t.screenY-xi.screenY):Dr=Va=0,xi=t),Va)},movementY:function(t){return"movementY"in t?t.movementY:Dr}}),tl=Kt(jr),zs=b({},jr,{dataTransfer:0}),Fc=Kt(zs),Gc=b({},Ma,{relatedTarget:0}),Bs=Kt(Gc),nl=b({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Kc=Kt(nl),Or=b({},Ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qc=Kt(Or),Yc=b({},Ji,{data:0}),Ci=Kt(Yc),$c={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Jc[t])?!!i[t]:!1}function ka(){return Zc}var cn=b({},Ma,{key:function(t){if(t.key){var i=$c[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(t){return t.type==="keypress"?Us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wc=Kt(cn),eu=b({},jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Kt(eu),u=b({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),_=Kt(u),T=b({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Kt(T),z=b({},jr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Kt(z),ae=b({},Ji,{newState:0,oldState:0}),Ne=Kt(ae),yt=[9,13,27,32],He=Mn&&"CompositionEvent"in window,ct=null;Mn&&"documentMode"in document&&(ct=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!ct,Ii=Mn&&(!He||ct&&8<ct&&11>=ct),ei=" ",ti=!1;function qs(t,i){switch(t){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vr=!1;function Ob(t,i){switch(t){case"compositionend":return Mr(i);case"keypress":return i.which!==32?null:(ti=!0,ei);case"textInput":return t=i.data,t===ei&&ti?null:t;default:return null}}function Mb(t,i){if(Vr)return t==="compositionend"||!He&&qs(t,i)?(t=Wo(),Ls=Zo=Ni=null,Vr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ii&&i.locale!=="ko"?null:i.data;default:return null}}var Vb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vb[t.type]:i==="textarea"}function Tg(t,i,r,l){ja?wi?wi.push(l):wi=[l]:ja=l,i=Hu(i,"onChange"),0<i.length&&(r=new Ri("onChange","change",null,r,l),t.push({event:r,listeners:i}))}var il=null,al=null;function kb(t){iv(t,0)}function tu(t){var i=En(t);if(Ms(i))return t}function bg(t,i){if(t==="change")return i}var Sg=!1;if(Mn){var Ad;if(Mn){var wd="oninput"in document;if(!wd){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),wd=typeof Ag.oninput=="function"}Ad=wd}else Ad=!1;Sg=Ad&&(!document.documentMode||9<document.documentMode)}function wg(){il&&(il.detachEvent("onpropertychange",Ng),al=il=null)}function Ng(t){if(t.propertyName==="value"&&tu(al)){var i=[];Tg(i,al,t,On(t)),Oa(kb,i)}}function Pb(t,i,r){t==="focusin"?(wg(),il=i,al=r,il.attachEvent("onpropertychange",Ng)):t==="focusout"&&wg()}function Lb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tu(al)}function Ub(t,i){if(t==="click")return tu(i)}function zb(t,i){if(t==="input"||t==="change")return tu(i)}function Bb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:Bb;function sl(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),l=Object.keys(i);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var d=r[l];if(!bt.call(i,d)||!bn(t[d],i[d]))return!1}return!0}function Rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xg(t,i){var r=Rg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=i&&l>=i)return{node:r,offset:i-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rg(r)}}function Cg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Cg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ai(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=Ai(t.document)}return i}function Nd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var qb=Mn&&"documentMode"in document&&11>=document.documentMode,kr=null,Rd=null,rl=null,xd=!1;function Dg(t,i,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xd||kr==null||kr!==Ai(l)||(l=kr,"selectionStart"in l&&Nd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&sl(rl,l)||(rl=l,l=Hu(Rd,"onSelect"),0<l.length&&(i=new Ri("onSelect","select",null,i,r),t.push({event:i,listeners:l}),i.target=kr)))}function Hs(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Pr={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Cd={},jg={};Mn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Fs(t){if(Cd[t])return Cd[t];if(!Pr[t])return t;var i=Pr[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in jg)return Cd[t]=i[r];return t}var Og=Fs("animationend"),Mg=Fs("animationiteration"),Vg=Fs("animationstart"),Hb=Fs("transitionrun"),Fb=Fs("transitionstart"),Gb=Fs("transitioncancel"),kg=Fs("transitionend"),Pg=new Map,Id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Id.push("scrollEnd");function ni(t,i){Pg.set(t,i),bi(i,[t])}var nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},kn=[],Lr=0,Dd=0;function iu(){for(var t=Lr,i=Dd=Lr=0;i<t;){var r=kn[i];kn[i++]=null;var l=kn[i];kn[i++]=null;var d=kn[i];kn[i++]=null;var m=kn[i];if(kn[i++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}m!==0&&Lg(r,d,m)}}function au(t,i,r,l){kn[Lr++]=t,kn[Lr++]=i,kn[Lr++]=r,kn[Lr++]=l,Dd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function jd(t,i,r,l){return au(t,i,r,l),su(t)}function Gs(t,i){return au(t,null,null,i),su(t)}function Lg(t,i,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var d=!1,m=t.return;m!==null;)m.childLanes|=r,l=m.alternate,l!==null&&(l.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&i!==null&&(d=31-gt(r),t=m.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=r|536870912),m):null}function su(t){if(50<xl)throw xl=0,qf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ur={};function Kb(t,i,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,i,r,l){return new Kb(t,i,r,l)}function Od(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,i){var r=t.alternate;return r===null?(r=Sn(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Ug(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ru(t,i,r,l,d,m){var v=0;if(l=t,typeof t=="function")Od(t)&&(v=1);else if(typeof t=="string")v=JS(t,r,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Sn(31,r,i,d),t.elementType=R,t.lanes=m,t;case Q:return Ks(r.children,d,m,i);case P:v=8,d|=24;break;case J:return t=Sn(12,r,i,d|2),t.elementType=J,t.lanes=m,t;case Ae:return t=Sn(13,r,i,d),t.elementType=Ae,t.lanes=m,t;case we:return t=Sn(19,r,i,d),t.elementType=we,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:v=10;break e;case ne:v=9;break e;case ge:v=11;break e;case I:v=14;break e;case N:v=16,l=null;break e}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Sn(v,r,i,d),i.elementType=t,i.type=l,i.lanes=m,i}function Ks(t,i,r,l){return t=Sn(7,t,l,i),t.lanes=r,t}function Md(t,i,r){return t=Sn(6,t,null,i),t.lanes=r,t}function zg(t){var i=Sn(18,null,null,0);return i.stateNode=t,i}function Vd(t,i,r){return i=Sn(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Bg=new WeakMap;function Pn(t,i){if(typeof t=="object"&&t!==null){var r=Bg.get(t);return r!==void 0?r:(i={value:t,source:i,stack:Po(i)},Bg.set(t,i),i)}return{value:t,source:i,stack:Po(i)}}var zr=[],Br=0,ou=null,ol=0,Ln=[],Un=0,Pa=null,Di=1,ji="";function ea(t,i){zr[Br++]=ol,zr[Br++]=ou,ou=t,ol=i}function qg(t,i,r){Ln[Un++]=Di,Ln[Un++]=ji,Ln[Un++]=Pa,Pa=t;var l=Di;t=ji;var d=32-gt(l)-1;l&=~(1<<d),r+=1;var m=32-gt(i)+d;if(30<m){var v=d-d%5;m=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Di=1<<32-gt(i)+d|r<<d|l,ji=m+t}else Di=1<<m|r<<d|l,ji=t}function kd(t){t.return!==null&&(ea(t,1),qg(t,1,0))}function Pd(t){for(;t===ou;)ou=zr[--Br],zr[Br]=null,ol=zr[--Br],zr[Br]=null;for(;t===Pa;)Pa=Ln[--Un],Ln[Un]=null,ji=Ln[--Un],Ln[Un]=null,Di=Ln[--Un],Ln[Un]=null}function Hg(t,i){Ln[Un++]=Di,Ln[Un++]=ji,Ln[Un++]=Pa,Di=i.id,ji=i.overflow,Pa=t}var Qt=null,it=null,Pe=!1,La=null,zn=!1,Ld=Error(s(519));function Ua(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(Pn(i,t)),Ld}function Fg(t){var i=t.stateNode,r=t.type,l=t.memoizedProps;switch(i[At]=t,i[zt]=l,r){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(r=0;r<Il.length;r++)De(Il[r],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),zc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),Ia(i,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||l.suppressHydrationWarning===!0||ov(i.textContent,r)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Jn),i=!0):i=!1,i||Ua(t,!0)}function Gg(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Qt=Qt.return}}function qr(t){if(t!==Qt)return!1;if(!Pe)return Gg(t),Pe=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||im(t.type,t.memoizedProps)),r=!r),r&&it&&Ua(t),Gg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=gv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=gv(t)}else i===27?(i=it,Wa(t.type)?(t=lm,lm=null,it=t):it=i):it=Qt?qn(t.stateNode.nextSibling):null;return!0}function Qs(){it=Qt=null,Pe=!1}function Ud(){var t=La;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),La=null),t}function ll(t){La===null?La=[t]:La.push(t)}var zd=M(null),Ys=null,ta=null;function za(t,i,r){re(zd,i._currentValue),i._currentValue=r}function na(t){t._currentValue=zd.current,ee(zd)}function Bd(t,i,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===r)break;t=t.return}}function qd(t,i,r,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var v=d.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=d;for(var C=0;C<i.length;C++)if(S.context===i[C]){m.lanes|=r,S=m.alternate,S!==null&&(S.lanes|=r),Bd(m.return,r,t),l||(v=null);break e}m=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(s(341));v.lanes|=r,m=v.alternate,m!==null&&(m.lanes|=r),Bd(v,r,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Hr(t,i,r,l){t=null;for(var d=i,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=d.type;bn(d.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(d===Le.current){if(v=d.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}d=d.return}t!==null&&qd(i,t,r,l),i.flags|=262144}function lu(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $s(t){Ys=t,ta=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Kg(Ys,t)}function cu(t,i){return Ys===null&&$s(t),Kg(t,i)}function Kg(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},ta===null){if(t===null)throw Error(s(308));ta=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ta=ta.next=i;return r}var Qb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},Yb=a.unstable_scheduleCallback,$b=a.unstable_NormalPriority,Rt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hd(){return{controller:new Qb,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&Yb($b,function(){t.controller.abort()})}var ul=null,Fd=0,Fr=0,Gr=null;function Xb(t,i){if(ul===null){var r=ul=[];Fd=0,Fr=Yf(),Gr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Fd++,i.then(Qg,Qg),i}function Qg(){if(--Fd===0&&ul!==null){Gr!==null&&(Gr.status="fulfilled");var t=ul;ul=null,Fr=0,Gr=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Jb(t,i){var r=[],l={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<r.length;d++)(0,r[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),l}var Yg=$.S;$.S=function(t,i){D_=ln(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Xb(t,i),Yg!==null&&Yg(t,i)};var Xs=M(null);function Gd(){var t=Xs.current;return t!==null?t:et.pooledCache}function uu(t,i){i===null?re(Xs,Xs.current):re(Xs,i.pool)}function $g(){var t=Gd();return t===null?null:{parent:Rt._currentValue,pool:t}}var Kr=Error(s(460)),Kd=Error(s(474)),hu=Error(s(542)),du={then:function(){}};function Xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jg(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(Jn,Jn),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Wg(t),t;default:if(typeof i.status=="string")i.then(Jn,Jn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Wg(t),t}throw Zs=i,Kr}}function Js(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Zs=r,Kr):r}}var Zs=null;function Zg(){if(Zs===null)throw Error(s(459));var t=Zs;return Zs=null,t}function Wg(t){if(t===Kr||t===hu)throw Error(s(483))}var Qr=null,hl=0;function fu(t){var i=hl;return hl+=1,Qr===null&&(Qr=[]),Jg(Qr,t,i)}function dl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function mu(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ey(t){function i(L,O){if(t){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function r(L,O){if(!t)return null;for(;O!==null;)i(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function d(L,O){return L=Wi(L,O),L.index=0,L.sibling=null,L}function m(L,O,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=67108866,O):B):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,O,B,X){return O===null||O.tag!==6?(O=Md(B,L.mode,X),O.return=L,O):(O=d(O,B),O.return=L,O)}function C(L,O,B,X){var fe=B.type;return fe===Q?Y(L,O,B.props.children,X,B.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===N&&Js(fe)===O.type)?(O=d(O,B.props),dl(O,B),O.return=L,O):(O=ru(B.type,B.key,B.props,null,L.mode,X),dl(O,B),O.return=L,O)}function q(L,O,B,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Vd(B,L.mode,X),O.return=L,O):(O=d(O,B.children||[]),O.return=L,O)}function Y(L,O,B,X,fe){return O===null||O.tag!==7?(O=Ks(B,L.mode,X,fe),O.return=L,O):(O=d(O,B),O.return=L,O)}function Z(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Md(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return B=ru(O.type,O.key,O.props,null,L.mode,B),dl(B,O),B.return=L,B;case F:return O=Vd(O,L.mode,B),O.return=L,O;case N:return O=Js(O),Z(L,O,B)}if(Mt(O)||U(O))return O=Ks(O,L.mode,B,null),O.return=L,O;if(typeof O.then=="function")return Z(L,fu(O),B);if(O.$$typeof===ie)return Z(L,cu(L,O),B);mu(L,O)}return null}function H(L,O,B,X){var fe=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:S(L,O,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return B.key===fe?C(L,O,B,X):null;case F:return B.key===fe?q(L,O,B,X):null;case N:return B=Js(B),H(L,O,B,X)}if(Mt(B)||U(B))return fe!==null?null:Y(L,O,B,X,null);if(typeof B.then=="function")return H(L,O,fu(B),X);if(B.$$typeof===ie)return H(L,O,cu(L,B),X);mu(L,B)}return null}function K(L,O,B,X,fe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(B)||null,S(O,L,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case k:return L=L.get(X.key===null?B:X.key)||null,C(O,L,X,fe);case F:return L=L.get(X.key===null?B:X.key)||null,q(O,L,X,fe);case N:return X=Js(X),K(L,O,B,X,fe)}if(Mt(X)||U(X))return L=L.get(B)||null,Y(O,L,X,fe,null);if(typeof X.then=="function")return K(L,O,B,fu(X),fe);if(X.$$typeof===ie)return K(L,O,B,cu(O,X),fe);mu(O,X)}return null}function he(L,O,B,X){for(var fe=null,Be=null,de=O,Ce=O=0,Oe=null;de!==null&&Ce<B.length;Ce++){de.index>Ce?(Oe=de,de=null):Oe=de.sibling;var qe=H(L,de,B[Ce],X);if(qe===null){de===null&&(de=Oe);break}t&&de&&qe.alternate===null&&i(L,de),O=m(qe,O,Ce),Be===null?fe=qe:Be.sibling=qe,Be=qe,de=Oe}if(Ce===B.length)return r(L,de),Pe&&ea(L,Ce),fe;if(de===null){for(;Ce<B.length;Ce++)de=Z(L,B[Ce],X),de!==null&&(O=m(de,O,Ce),Be===null?fe=de:Be.sibling=de,Be=de);return Pe&&ea(L,Ce),fe}for(de=l(de);Ce<B.length;Ce++)Oe=K(de,L,Ce,B[Ce],X),Oe!==null&&(t&&Oe.alternate!==null&&de.delete(Oe.key===null?Ce:Oe.key),O=m(Oe,O,Ce),Be===null?fe=Oe:Be.sibling=Oe,Be=Oe);return t&&de.forEach(function(as){return i(L,as)}),Pe&&ea(L,Ce),fe}function ye(L,O,B,X){if(B==null)throw Error(s(151));for(var fe=null,Be=null,de=O,Ce=O=0,Oe=null,qe=B.next();de!==null&&!qe.done;Ce++,qe=B.next()){de.index>Ce?(Oe=de,de=null):Oe=de.sibling;var as=H(L,de,qe.value,X);if(as===null){de===null&&(de=Oe);break}t&&de&&as.alternate===null&&i(L,de),O=m(as,O,Ce),Be===null?fe=as:Be.sibling=as,Be=as,de=Oe}if(qe.done)return r(L,de),Pe&&ea(L,Ce),fe;if(de===null){for(;!qe.done;Ce++,qe=B.next())qe=Z(L,qe.value,X),qe!==null&&(O=m(qe,O,Ce),Be===null?fe=qe:Be.sibling=qe,Be=qe);return Pe&&ea(L,Ce),fe}for(de=l(de);!qe.done;Ce++,qe=B.next())qe=K(de,L,Ce,qe.value,X),qe!==null&&(t&&qe.alternate!==null&&de.delete(qe.key===null?Ce:qe.key),O=m(qe,O,Ce),Be===null?fe=qe:Be.sibling=qe,Be=qe);return t&&de.forEach(function(lA){return i(L,lA)}),Pe&&ea(L,Ce),fe}function We(L,O,B,X){if(typeof B=="object"&&B!==null&&B.type===Q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case k:e:{for(var fe=B.key;O!==null;){if(O.key===fe){if(fe=B.type,fe===Q){if(O.tag===7){r(L,O.sibling),X=d(O,B.props.children),X.return=L,L=X;break e}}else if(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===N&&Js(fe)===O.type){r(L,O.sibling),X=d(O,B.props),dl(X,B),X.return=L,L=X;break e}r(L,O);break}else i(L,O);O=O.sibling}B.type===Q?(X=Ks(B.props.children,L.mode,X,B.key),X.return=L,L=X):(X=ru(B.type,B.key,B.props,null,L.mode,X),dl(X,B),X.return=L,L=X)}return v(L);case F:e:{for(fe=B.key;O!==null;){if(O.key===fe)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){r(L,O.sibling),X=d(O,B.children||[]),X.return=L,L=X;break e}else{r(L,O);break}else i(L,O);O=O.sibling}X=Vd(B,L.mode,X),X.return=L,L=X}return v(L);case N:return B=Js(B),We(L,O,B,X)}if(Mt(B))return he(L,O,B,X);if(U(B)){if(fe=U(B),typeof fe!="function")throw Error(s(150));return B=fe.call(B),ye(L,O,B,X)}if(typeof B.then=="function")return We(L,O,fu(B),X);if(B.$$typeof===ie)return We(L,O,cu(L,B),X);mu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(r(L,O.sibling),X=d(O,B),X.return=L,L=X):(r(L,O),X=Md(B,L.mode,X),X.return=L,L=X),v(L)):r(L,O)}return function(L,O,B,X){try{hl=0;var fe=We(L,O,B,X);return Qr=null,fe}catch(de){if(de===Kr||de===hu)throw de;var Be=Sn(29,de,null,L.mode);return Be.lanes=X,Be.return=L,Be}finally{}}}var Ws=ey(!0),ty=ey(!1),Ba=!1;function Qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ha(t,i,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=su(t),Lg(t,null,r),i}return au(t,l,i,r),su(t)}function fl(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,zo(t,r)}}function $d(t,i){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var d=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?d=m=v:m=m.next=v,r=r.next}while(r!==null);m===null?d=m=i:m=m.next=i}else d=m=i;r={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var Xd=!1;function ml(){if(Xd){var t=Gr;if(t!==null)throw t}}function pl(t,i,r,l){Xd=!1;var d=t.updateQueue;Ba=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var C=S,q=C.next;C.next=null,v===null?m=q:v.next=q,v=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==v&&(S===null?Y.firstBaseUpdate=q:S.next=q,Y.lastBaseUpdate=C))}if(m!==null){var Z=d.baseState;v=0,Y=q=C=null,S=m;do{var H=S.lane&-536870913,K=H!==S.lane;if(K?(je&H)===H:(l&H)===H){H!==0&&H===Fr&&(Xd=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,ye=S;H=i;var We=r;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){Z=he.call(We,Z,H);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,H=typeof he=="function"?he.call(We,Z,H):he,H==null)break e;Z=b({},Z,H);break e;case 2:Ba=!0}}H=S.callback,H!==null&&(t.flags|=64,K&&(t.flags|=8192),K=d.callbacks,K===null?d.callbacks=[H]:K.push(H))}else K={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(q=Y=K,C=Z):Y=Y.next=K,v|=H;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;K=S,S=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);Y===null&&(C=Z),d.baseState=C,d.firstBaseUpdate=q,d.lastBaseUpdate=Y,m===null&&(d.shared.lanes=0),Ya|=v,t.lanes=v,t.memoizedState=Z}}function ny(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function iy(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ny(r[t],i)}var Yr=M(null),pu=M(0);function ay(t,i){t=ha,re(pu,t),re(Yr,i),ha=t|i.baseLanes}function Jd(){re(pu,ha),re(Yr,Yr.current)}function Zd(){ha=pu.current,ee(Yr),ee(pu)}var An=M(null),Bn=null;function Fa(t){var i=t.alternate;re(_t,_t.current&1),re(An,t),Bn===null&&(i===null||Yr.current!==null||i.memoizedState!==null)&&(Bn=t)}function Wd(t){re(_t,_t.current),re(An,t),Bn===null&&(Bn=t)}function sy(t){t.tag===22?(re(_t,_t.current),re(An,t),Bn===null&&(Bn=t)):Ga()}function Ga(){re(_t,_t.current),re(An,An.current)}function wn(t){ee(An),Bn===t&&(Bn=null),ee(_t)}var _t=M(0);function gu(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||rm(r)||om(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ia=0,Re=null,Je=null,xt=null,yu=!1,$r=!1,er=!1,_u=0,gl=0,Xr=null,Zb=0;function ft(){throw Error(s(321))}function ef(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!bn(t[r],i[r]))return!1;return!0}function tf(t,i,r,l,d,m){return ia=m,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?qy:yf,er=!1,m=r(l,d),er=!1,$r&&(m=oy(i,r,l,d)),ry(t),m}function ry(t){$.H=vl;var i=Je!==null&&Je.next!==null;if(ia=0,xt=Je=Re=null,yu=!1,gl=0,Xr=null,i)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&lu(t)&&(Ct=!0))}function oy(t,i,r,l){Re=t;var d=0;do{if($r&&(Xr=null),gl=0,$r=!1,25<=d)throw Error(s(301));if(d+=1,xt=Je=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}$.H=Hy,m=i(r,l)}while($r);return m}function Wb(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?yl(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Re.flags|=1024),i}function nf(){var t=_u!==0;return _u=0,t}function af(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function sf(t){if(yu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}yu=!1}ia=0,xt=Je=Re=null,$r=!1,gl=_u=0,Xr=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Re.memoizedState=xt=t:xt=xt.next=t,xt}function vt(){if(Je===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=xt===null?Re.memoizedState:xt.next;if(i!==null)xt=i,Je=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},xt===null?Re.memoizedState=xt=t:xt=xt.next=t}return xt}function vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var i=gl;return gl+=1,Xr===null&&(Xr=[]),t=Jg(Xr,t,i),i=Re,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?qy:yf),t}function Eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===ie)return Yt(t)}throw Error(s(438,String(t)))}function rf(t){var i=null,r=Re.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=vu(),Re.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),l=0;l<t;l++)r[l]=V;return i.index++,r}function aa(t,i){return typeof i=="function"?i(t):i}function Tu(t){var i=vt();return of(i,Je,t)}function of(t,i,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}i.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{i=d.next;var S=v=null,C=null,q=i,Y=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(je&Z)===Z:(ia&Z)===Z){var H=q.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Fr&&(Y=!0);else if((ia&H)===H){q=q.next,H===Fr&&(Y=!0);continue}else Z={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(S=C=Z,v=m):C=C.next=Z,Re.lanes|=H,Ya|=H;Z=q.action,er&&r(m,Z),m=q.hasEagerState?q.eagerState:r(m,Z)}else H={lane:Z,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(S=C=H,v=m):C=C.next=H,Re.lanes|=Z,Ya|=Z;q=q.next}while(q!==null&&q!==i);if(C===null?v=m:C.next=S,!bn(m,t.memoizedState)&&(Ct=!0,Y&&(r=Gr,r!==null)))throw r;t.memoizedState=m,t.baseState=v,t.baseQueue=C,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function lf(t){var i=vt(),r=i.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,d=r.pending,m=i.memoizedState;if(d!==null){r.pending=null;var v=d=d.next;do m=t(m,v.action),v=v.next;while(v!==d);bn(m,i.memoizedState)||(Ct=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),r.lastRenderedState=m}return[m,l]}function ly(t,i,r){var l=Re,d=vt(),m=Pe;if(m){if(r===void 0)throw Error(s(407));r=r()}else r=i();var v=!bn((Je||d).memoizedState,r);if(v&&(d.memoizedState=r,Ct=!0),d=d.queue,hf(hy.bind(null,l,d,t),[t]),d.getSnapshot!==i||v||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Jr(9,{destroy:void 0},uy.bind(null,l,d,r,i),null),et===null)throw Error(s(349));m||(ia&127)!==0||cy(l,i,r)}return r}function cy(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=Re.updateQueue,i===null?(i=vu(),Re.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function uy(t,i,r,l){i.value=r,i.getSnapshot=l,dy(i)&&fy(t)}function hy(t,i,r){return r(function(){dy(i)&&fy(t)})}function dy(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!bn(t,r)}catch{return!0}}function fy(t){var i=Gs(t,2);i!==null&&yn(i,t,2)}function cf(t){var i=un();if(typeof t=="function"){var r=t;if(t=r(),er){Dn(!0);try{r()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:t},i}function my(t,i,r,l){return t.baseState=r,of(t,Je,typeof l=="function"?l:aa)}function eS(t,i,r,l,d){if(Au(t))throw Error(s(485));if(t=i.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};$.T!==null?r(!0):m.isTransition=!1,l(m),r=i.pending,r===null?(m.next=i.pending=m,py(i,m)):(m.next=r.next,i.pending=r.next=m)}}function py(t,i){var r=i.action,l=i.payload,d=t.state;if(i.isTransition){var m=$.T,v={};$.T=v;try{var S=r(d,l),C=$.S;C!==null&&C(v,S),gy(t,i,S)}catch(q){uf(t,i,q)}finally{m!==null&&v.types!==null&&(m.types=v.types),$.T=m}}else try{m=r(d,l),gy(t,i,m)}catch(q){uf(t,i,q)}}function gy(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){yy(t,i,l)},function(l){return uf(t,i,l)}):yy(t,i,r)}function yy(t,i,r){i.status="fulfilled",i.value=r,_y(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,py(t,r)))}function uf(t,i,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=r,_y(i),i=i.next;while(i!==l)}t.action=null}function _y(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function vy(t,i){return i}function Ey(t,i){if(Pe){var r=et.formState;if(r!==null){e:{var l=Re;if(Pe){if(it){t:{for(var d=it,m=zn;d.nodeType!==8;){if(!m){d=null;break t}if(d=qn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){it=qn(d.nextSibling),l=d.data==="F!";break e}}Ua(l)}l=!1}l&&(i=r[0])}}return r=un(),r.memoizedState=r.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vy,lastRenderedState:i},r.queue=l,r=Uy.bind(null,Re,l),l.dispatch=r,l=cf(!1),m=gf.bind(null,Re,!1,l.queue),l=un(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,r=eS.bind(null,Re,d,m,r),d.dispatch=r,l.memoizedState=t,[i,r,!1]}function Ty(t){var i=vt();return by(i,Je,t)}function by(t,i,r){if(i=of(t,i,vy)[0],t=Tu(aa)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=yl(i)}catch(v){throw v===Kr?hu:v}else l=i;i=vt();var d=i.queue,m=d.dispatch;return r!==i.memoizedState&&(Re.flags|=2048,Jr(9,{destroy:void 0},tS.bind(null,d,r),null)),[l,m,t]}function tS(t,i){t.action=i}function Sy(t){var i=vt(),r=Je;if(r!==null)return by(i,r,t);vt(),i=i.memoizedState,r=vt();var l=r.queue.dispatch;return r.memoizedState=t,[i,l,!1]}function Jr(t,i,r,l){return t={tag:t,create:r,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=vu(),Re.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,i.lastEffect=t),t}function Ay(){return vt().memoizedState}function bu(t,i,r,l){var d=un();Re.flags|=t,d.memoizedState=Jr(1|i,{destroy:void 0},r,l===void 0?null:l)}function Su(t,i,r,l){var d=vt();l=l===void 0?null:l;var m=d.memoizedState.inst;Je!==null&&l!==null&&ef(l,Je.memoizedState.deps)?d.memoizedState=Jr(i,m,r,l):(Re.flags|=t,d.memoizedState=Jr(1|i,m,r,l))}function wy(t,i){bu(8390656,8,t,i)}function hf(t,i){Su(2048,8,t,i)}function nS(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=vu(),Re.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function Ny(t){var i=vt().memoizedState;return nS({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ry(t,i){return Su(4,2,t,i)}function xy(t,i){return Su(4,4,t,i)}function Cy(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Iy(t,i,r){r=r!=null?r.concat([t]):null,Su(4,4,Cy.bind(null,i,t),r)}function df(){}function Dy(t,i){var r=vt();i=i===void 0?null:i;var l=r.memoizedState;return i!==null&&ef(i,l[1])?l[0]:(r.memoizedState=[t,i],t)}function jy(t,i){var r=vt();i=i===void 0?null:i;var l=r.memoizedState;if(i!==null&&ef(i,l[1]))return l[0];if(l=t(),er){Dn(!0);try{t()}finally{Dn(!1)}}return r.memoizedState=[l,i],l}function ff(t,i,r){return r===void 0||(ia&1073741824)!==0&&(je&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=O_(),Re.lanes|=t,Ya|=t,r)}function Oy(t,i,r,l){return bn(r,i)?r:Yr.current!==null?(t=ff(t,r,l),bn(t,i)||(Ct=!0),t):(ia&42)===0||(ia&1073741824)!==0&&(je&261930)===0?(Ct=!0,t.memoizedState=r):(t=O_(),Re.lanes|=t,Ya|=t,i)}function My(t,i,r,l,d){var m=se.p;se.p=m!==0&&8>m?m:8;var v=$.T,S={};$.T=S,gf(t,!1,i,r);try{var C=d(),q=$.S;if(q!==null&&q(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=Jb(C,l);_l(t,i,Y,xn(t))}else _l(t,i,l,xn(t))}catch(Z){_l(t,i,{then:function(){},status:"rejected",reason:Z},xn())}finally{se.p=m,v!==null&&S.types!==null&&(v.types=S.types),$.T=v}}function iS(){}function mf(t,i,r,l){if(t.tag!==5)throw Error(s(476));var d=Vy(t).queue;My(t,d,i,pe,r===null?iS:function(){return ky(t),r(l)})}function Vy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:pe},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ky(t){var i=Vy(t);i.next===null&&(i=t.alternate.memoizedState),_l(t,i.next.queue,{},xn())}function pf(){return Yt(Vl)}function Py(){return vt().memoizedState}function Ly(){return vt().memoizedState}function aS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=xn();t=qa(r);var l=Ha(i,t,r);l!==null&&(yn(l,i,r),fl(l,i,r)),i={cache:Hd()},t.payload=i;return}i=i.return}}function sS(t,i,r){var l=xn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Au(t)?zy(i,r):(r=jd(t,i,r,l),r!==null&&(yn(r,t,l),By(r,i,l)))}function Uy(t,i,r){var l=xn();_l(t,i,r,l)}function _l(t,i,r,l){var d={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Au(t))zy(i,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,S=m(v,r);if(d.hasEagerState=!0,d.eagerState=S,bn(S,v))return au(t,i,d,0),et===null&&iu(),!1}catch{}finally{}if(r=jd(t,i,d,l),r!==null)return yn(r,t,l),By(r,i,l),!0}return!1}function gf(t,i,r,l){if(l={lane:2,revertLane:Yf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Au(t)){if(i)throw Error(s(479))}else i=jd(t,r,l,2),i!==null&&yn(i,t,2)}function Au(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function zy(t,i){$r=yu=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function By(t,i,r){if((r&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,zo(t,r)}}var vl={readContext:Yt,use:Eu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};vl.useEffectEvent=ft;var qy={readContext:Yt,use:Eu,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:wy,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,bu(4194308,4,Cy.bind(null,i,t),r)},useLayoutEffect:function(t,i){return bu(4194308,4,t,i)},useInsertionEffect:function(t,i){bu(4,2,t,i)},useMemo:function(t,i){var r=un();i=i===void 0?null:i;var l=t();if(er){Dn(!0);try{t()}finally{Dn(!1)}}return r.memoizedState=[l,i],l},useReducer:function(t,i,r){var l=un();if(r!==void 0){var d=r(i);if(er){Dn(!0);try{r(i)}finally{Dn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=sS.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=cf(t);var i=t.queue,r=Uy.bind(null,Re,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:df,useDeferredValue:function(t,i){var r=un();return ff(r,t,i)},useTransition:function(){var t=cf(!1);return t=My.bind(null,Re,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var l=Re,d=un();if(Pe){if(r===void 0)throw Error(s(407));r=r()}else{if(r=i(),et===null)throw Error(s(349));(je&127)!==0||cy(l,i,r)}d.memoizedState=r;var m={value:r,getSnapshot:i};return d.queue=m,wy(hy.bind(null,l,m,t),[t]),l.flags|=2048,Jr(9,{destroy:void 0},uy.bind(null,l,m,r,i),null),r},useId:function(){var t=un(),i=et.identifierPrefix;if(Pe){var r=ji,l=Di;r=(l&~(1<<32-gt(l)-1)).toString(32)+r,i="_"+i+"R_"+r,r=_u++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=Zb++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:pf,useFormState:Ey,useActionState:Ey,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=gf.bind(null,Re,!0,r),r.dispatch=i,[t,i]},useMemoCache:rf,useCacheRefresh:function(){return un().memoizedState=aS.bind(null,Re)},useEffectEvent:function(t){var i=un(),r={impl:t};return i.memoizedState=r,function(){if((Fe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},yf={readContext:Yt,use:Eu,useCallback:Dy,useContext:Yt,useEffect:hf,useImperativeHandle:Iy,useInsertionEffect:Ry,useLayoutEffect:xy,useMemo:jy,useReducer:Tu,useRef:Ay,useState:function(){return Tu(aa)},useDebugValue:df,useDeferredValue:function(t,i){var r=vt();return Oy(r,Je.memoizedState,t,i)},useTransition:function(){var t=Tu(aa)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:ly,useId:Py,useHostTransitionStatus:pf,useFormState:Ty,useActionState:Ty,useOptimistic:function(t,i){var r=vt();return my(r,Je,t,i)},useMemoCache:rf,useCacheRefresh:Ly};yf.useEffectEvent=Ny;var Hy={readContext:Yt,use:Eu,useCallback:Dy,useContext:Yt,useEffect:hf,useImperativeHandle:Iy,useInsertionEffect:Ry,useLayoutEffect:xy,useMemo:jy,useReducer:lf,useRef:Ay,useState:function(){return lf(aa)},useDebugValue:df,useDeferredValue:function(t,i){var r=vt();return Je===null?ff(r,t,i):Oy(r,Je.memoizedState,t,i)},useTransition:function(){var t=lf(aa)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:ly,useId:Py,useHostTransitionStatus:pf,useFormState:Sy,useActionState:Sy,useOptimistic:function(t,i){var r=vt();return Je!==null?my(r,Je,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:rf,useCacheRefresh:Ly};Hy.useEffectEvent=Ny;function _f(t,i,r,l){i=t.memoizedState,r=r(l,i),r=r==null?i:b({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vf={enqueueSetState:function(t,i,r){t=t._reactInternals;var l=xn(),d=qa(l);d.payload=i,r!=null&&(d.callback=r),i=Ha(t,d,l),i!==null&&(yn(i,t,l),fl(i,t,l))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var l=xn(),d=qa(l);d.tag=1,d.payload=i,r!=null&&(d.callback=r),i=Ha(t,d,l),i!==null&&(yn(i,t,l),fl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=xn(),l=qa(r);l.tag=2,i!=null&&(l.callback=i),i=Ha(t,l,r),i!==null&&(yn(i,t,r),fl(i,t,r))}};function Fy(t,i,r,l,d,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,v):i.prototype&&i.prototype.isPureReactComponent?!sl(r,l)||!sl(d,m):!0}function Gy(t,i,r,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,l),i.state!==t&&vf.enqueueReplaceState(i,i.state,null)}function tr(t,i){var r=i;if("ref"in i){r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}if(t=t.defaultProps){r===i&&(r=b({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}function Ky(t){nu(t)}function Qy(t){console.error(t)}function Yy(t){nu(t)}function wu(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function $y(t,i,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Ef(t,i,r){return r=qa(r),r.tag=3,r.payload={element:null},r.callback=function(){wu(t,i)},r}function Xy(t){return t=qa(t),t.tag=3,t}function Jy(t,i,r,l){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){$y(i,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){$y(i,r,l),typeof d!="function"&&($a===null?$a=new Set([this]):$a.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function rS(t,i,r,l,d){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=r.alternate,i!==null&&Hr(i,r,d,!0),r=An.current,r!==null){switch(r.tag){case 31:case 13:return Bn===null?Pu():r.alternate===null&&mt===0&&(mt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,l===du?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([l]):i.add(l),Gf(t,l,d)),!1;case 22:return r.flags|=65536,l===du?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([l]):r.add(l)),Gf(t,l,d)),!1}throw Error(s(435,r.tag))}return Gf(t,l,d),Pu(),!1}if(Pe)return i=An.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Ld&&(t=Error(s(422),{cause:l}),ll(Pn(t,r)))):(l!==Ld&&(i=Error(s(423),{cause:l}),ll(Pn(i,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Pn(l,r),d=Ef(t.stateNode,l,d),$d(t,d),mt!==4&&(mt=2)),!1;var m=Error(s(520),{cause:l});if(m=Pn(m,r),Rl===null?Rl=[m]:Rl.push(m),mt!==4&&(mt=2),i===null)return!0;l=Pn(l,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=Ef(r.stateNode,l,t),$d(r,t),!1;case 1:if(i=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&($a===null||!$a.has(m))))return r.flags|=65536,d&=-d,r.lanes|=d,d=Xy(d),Jy(d,t,r,l),$d(r,d),!1}r=r.return}while(r!==null);return!1}var Tf=Error(s(461)),Ct=!1;function $t(t,i,r,l){i.child=t===null?ty(i,null,r,l):Ws(i,t.child,r,l)}function Zy(t,i,r,l,d){r=r.render;var m=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return $s(i),l=tf(t,i,r,v,m,d),S=nf(),t!==null&&!Ct?(af(t,i,d),sa(t,i,d)):(Pe&&S&&kd(i),i.flags|=1,$t(t,i,l,d),i.child)}function Wy(t,i,r,l,d){if(t===null){var m=r.type;return typeof m=="function"&&!Od(m)&&m.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=m,e_(t,i,m,l,d)):(t=ru(r.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!Cf(t,d)){var v=m.memoizedProps;if(r=r.compare,r=r!==null?r:sl,r(v,l)&&t.ref===i.ref)return sa(t,i,d)}return i.flags|=1,t=Wi(m,l),t.ref=i.ref,t.return=i,i.child=t}function e_(t,i,r,l,d){if(t!==null){var m=t.memoizedProps;if(sl(m,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=m,Cf(t,d))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,sa(t,i,d)}return bf(t,i,r,l,d)}function t_(t,i,r,l){var d=l.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~m}else l=0,i.child=null;return n_(t,i,m,r,l)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&uu(i,m!==null?m.cachePool:null),m!==null?ay(i,m):Jd(),sy(i);else return l=i.lanes=536870912,n_(t,i,m!==null?m.baseLanes|r:r,r,l)}else m!==null?(uu(i,m.cachePool),ay(i,m),Ga(),i.memoizedState=null):(t!==null&&uu(i,null),Jd(),Ga());return $t(t,i,d,r),i.child}function El(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function n_(t,i,r,l,d){var m=Gd();return m=m===null?null:{parent:Rt._currentValue,pool:m},i.memoizedState={baseLanes:r,cachePool:m},t!==null&&uu(i,null),Jd(),sy(i),t!==null&&Hr(t,i,l,!0),i.childLanes=d,null}function Nu(t,i){return i=xu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function i_(t,i,r){return Ws(i,t.child,null,r),t=Nu(i,i.pendingProps),t.flags|=2,wn(i),i.memoizedState=null,t}function oS(t,i,r){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Nu(i,l),i.lanes=536870912,El(null,t);if(Wd(i),(t=it)?(t=pv(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Pa!==null?{id:Di,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},r=zg(t),r.return=i,i.child=r,Qt=i,it=null)):t=null,t===null)throw Ua(i);return i.lanes=536870912,null}return Nu(i,l)}var m=t.memoizedState;if(m!==null){var v=m.dehydrated;if(Wd(i),d)if(i.flags&256)i.flags&=-257,i=i_(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ct||Hr(t,i,r,!1),d=(r&t.childLanes)!==0,Ct||d){if(l=et,l!==null&&(v=Bo(l,r),v!==0&&v!==m.retryLane))throw m.retryLane=v,Gs(t,v),yn(l,t,v),Tf;Pu(),i=i_(t,i,r)}else t=m.treeContext,it=qn(v.nextSibling),Qt=i,Pe=!0,La=null,zn=!1,t!==null&&Hg(i,t),i=Nu(i,l),i.flags|=4096;return i}return t=Wi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ru(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function bf(t,i,r,l,d){return $s(i),r=tf(t,i,r,l,void 0,d),l=nf(),t!==null&&!Ct?(af(t,i,d),sa(t,i,d)):(Pe&&l&&kd(i),i.flags|=1,$t(t,i,r,d),i.child)}function a_(t,i,r,l,d,m){return $s(i),i.updateQueue=null,r=oy(i,l,r,d),ry(t),l=nf(),t!==null&&!Ct?(af(t,i,m),sa(t,i,m)):(Pe&&l&&kd(i),i.flags|=1,$t(t,i,r,m),i.child)}function s_(t,i,r,l,d){if($s(i),i.stateNode===null){var m=Ur,v=r.contextType;typeof v=="object"&&v!==null&&(m=Yt(v)),m=new r(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=vf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Qd(i),v=r.contextType,m.context=typeof v=="object"&&v!==null?Yt(v):Ur,m.state=i.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(_f(i,r,v,l),m.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&vf.enqueueReplaceState(m,m.state,null),pl(i,l,m,d),ml(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var S=i.memoizedProps,C=tr(r,S);m.props=C;var q=m.context,Y=r.contextType;v=Ur,typeof Y=="object"&&Y!==null&&(v=Yt(Y));var Z=r.getDerivedStateFromProps;Y=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||q!==v)&&Gy(i,m,l,v),Ba=!1;var H=i.memoizedState;m.state=H,pl(i,l,m,d),ml(),q=i.memoizedState,S||H!==q||Ba?(typeof Z=="function"&&(_f(i,r,Z,l),q=i.memoizedState),(C=Ba||Fy(i,r,C,l,H,q,v))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),m.props=l,m.state=q,m.context=v,l=C):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Yd(t,i),v=i.memoizedProps,Y=tr(r,v),m.props=Y,Z=i.pendingProps,H=m.context,q=r.contextType,C=Ur,typeof q=="object"&&q!==null&&(C=Yt(q)),S=r.getDerivedStateFromProps,(q=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==Z||H!==C)&&Gy(i,m,l,C),Ba=!1,H=i.memoizedState,m.state=H,pl(i,l,m,d),ml();var K=i.memoizedState;v!==Z||H!==K||Ba||t!==null&&t.dependencies!==null&&lu(t.dependencies)?(typeof S=="function"&&(_f(i,r,S,l),K=i.memoizedState),(Y=Ba||Fy(i,r,Y,l,H,K,C)||t!==null&&t.dependencies!==null&&lu(t.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,K,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,K,C)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),m.props=l,m.state=K,m.context=C,l=Y):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,Ru(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=Ws(i,t.child,null,d),i.child=Ws(i,null,r,d)):$t(t,i,r,d),i.memoizedState=m.state,t=i.child):t=sa(t,i,d),t}function r_(t,i,r,l){return Qs(),i.flags|=256,$t(t,i,r,l),i.child}var Sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(t){return{baseLanes:t,cachePool:$g()}}function wf(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=Rn),t}function o_(t,i,r){var l=i.pendingProps,d=!1,m=(i.flags&128)!==0,v;if((v=m)||(v=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),v&&(d=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(d?Fa(i):Ga(),(t=it)?(t=pv(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Pa!==null?{id:Di,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},r=zg(t),r.return=i,i.child=r,Qt=i,it=null)):t=null,t===null)throw Ua(i);return om(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,d?(Ga(),d=i.mode,S=xu({mode:"hidden",children:S},d),l=Ks(l,d,r,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Af(r),l.childLanes=wf(t,v,r),i.memoizedState=Sf,El(null,l)):(Fa(i),Nf(i,S))}var C=t.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(m)i.flags&256?(Fa(i),i.flags&=-257,i=Rf(t,i,r)):i.memoizedState!==null?(Ga(),i.child=t.child,i.flags|=128,i=null):(Ga(),S=l.fallback,d=i.mode,l=xu({mode:"visible",children:l.children},d),S=Ks(S,d,r,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Ws(i,t.child,null,r),l=i.child,l.memoizedState=Af(r),l.childLanes=wf(t,v,r),i.memoizedState=Sf,i=El(null,l));else if(Fa(i),om(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,ll({value:l,source:null,stack:null}),i=Rf(t,i,r)}else if(Ct||Hr(t,i,r,!1),v=(r&t.childLanes)!==0,Ct||v){if(v=et,v!==null&&(l=Bo(v,r),l!==0&&l!==C.retryLane))throw C.retryLane=l,Gs(t,l),yn(v,t,l),Tf;rm(S)||Pu(),i=Rf(t,i,r)}else rm(S)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,it=qn(S.nextSibling),Qt=i,Pe=!0,La=null,zn=!1,t!==null&&Hg(i,t),i=Nf(i,l.children),i.flags|=4096);return i}return d?(Ga(),S=l.fallback,d=i.mode,C=t.child,q=C.sibling,l=Wi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?S=Wi(q,S):(S=Ks(S,d,r,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,El(null,l),l=i.child,S=t.child.memoizedState,S===null?S=Af(r):(d=S.cachePool,d!==null?(C=Rt._currentValue,d=d.parent!==C?{parent:C,pool:C}:d):d=$g(),S={baseLanes:S.baseLanes|r,cachePool:d}),l.memoizedState=S,l.childLanes=wf(t,v,r),i.memoizedState=Sf,El(t.child,l)):(Fa(i),r=t.child,t=r.sibling,r=Wi(r,{mode:"visible",children:l.children}),r.return=i,r.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=r,i.memoizedState=null,r)}function Nf(t,i){return i=xu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function xu(t,i){return t=Sn(22,t,null,i),t.lanes=0,t}function Rf(t,i,r){return Ws(i,t.child,null,r),t=Nf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function l_(t,i,r){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Bd(t.return,i,r)}function xf(t,i,r,l,d,m){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:d,treeForkCount:m}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=r,v.tailMode=d,v.treeForkCount=m)}function c_(t,i,r){var l=i.pendingProps,d=l.revealOrder,m=l.tail;l=l.children;var v=_t.current,S=(v&2)!==0;if(S?(v=v&1|2,i.flags|=128):v&=1,re(_t,v),$t(t,i,l,r),l=Pe?ol:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&l_(t,r,i);else if(t.tag===19)l_(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(r=i.child,d=null;r!==null;)t=r.alternate,t!==null&&gu(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=i.child,i.child=null):(d=r.sibling,r.sibling=null),xf(i,!1,d,r,m,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&gu(t)===null){i.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}xf(i,!0,r,null,m,l);break;case"together":xf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function sa(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Ya|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(Hr(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,r=Wi(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=Wi(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Cf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&lu(t)))}function lS(t,i,r){switch(i.tag){case 3:Vt(i,i.stateNode.containerInfo),za(i,Rt,t.memoizedState.cache),Qs();break;case 27:case 5:Rs(i);break;case 4:Vt(i,i.stateNode.containerInfo);break;case 10:za(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Wd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Fa(i),i.flags|=128,null):(r&i.child.childLanes)!==0?o_(t,i,r):(Fa(i),t=sa(t,i,r),t!==null?t.sibling:null);Fa(i);break;case 19:var d=(t.flags&128)!==0;if(l=(r&i.childLanes)!==0,l||(Hr(t,i,r,!1),l=(r&i.childLanes)!==0),d){if(l)return c_(t,i,r);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),re(_t,_t.current),l)break;return null;case 22:return i.lanes=0,t_(t,i,r,i.pendingProps);case 24:za(i,Rt,t.memoizedState.cache)}return sa(t,i,r)}function u_(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!Cf(t,r)&&(i.flags&128)===0)return Ct=!1,lS(t,i,r);Ct=(t.flags&131072)!==0}else Ct=!1,Pe&&(i.flags&1048576)!==0&&qg(i,ol,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Js(i.elementType),i.type=t,typeof t=="function")Od(t)?(l=tr(t,l),i.tag=1,i=s_(null,i,t,l,r)):(i.tag=0,i=bf(null,i,t,l,r));else{if(t!=null){var d=t.$$typeof;if(d===ge){i.tag=11,i=Zy(null,i,t,l,r);break e}else if(d===I){i.tag=14,i=Wy(null,i,t,l,r);break e}}throw i=ot(t)||t,Error(s(306,i,""))}}return i;case 0:return bf(t,i,i.type,i.pendingProps,r);case 1:return l=i.type,d=tr(l,i.pendingProps),s_(t,i,l,d,r);case 3:e:{if(Vt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;d=m.element,Yd(t,i),pl(i,l,null,r);var v=i.memoizedState;if(l=v.cache,za(i,Rt,l),l!==m.cache&&qd(i,[Rt],r,!0),ml(),l=v.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=r_(t,i,l,r);break e}else if(l!==d){d=Pn(Error(s(424)),i),ll(d),i=r_(t,i,l,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=qn(t.firstChild),Qt=i,Pe=!0,La=null,zn=!0,r=ty(i,null,l,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Qs(),l===d){i=sa(t,i,r);break e}$t(t,i,l,r)}i=i.child}return i;case 26:return Ru(t,i),t===null?(r=Tv(i.type,null,i.pendingProps,null))?i.memoizedState=r:Pe||(r=i.type,t=i.pendingProps,l=Fu(xe.current).createElement(r),l[At]=i,l[zt]=t,Xt(l,r,t),wt(l),i.stateNode=l):i.memoizedState=Tv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Rs(i),t===null&&Pe&&(l=i.stateNode=_v(i.type,i.pendingProps,xe.current),Qt=i,zn=!0,d=it,Wa(i.type)?(lm=d,it=qn(l.firstChild)):it=d),$t(t,i,i.pendingProps.children,r),Ru(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((d=l=it)&&(l=LS(l,i.type,i.pendingProps,zn),l!==null?(i.stateNode=l,Qt=i,it=qn(l.firstChild),zn=!1,d=!0):d=!1),d||Ua(i)),Rs(i),d=i.type,m=i.pendingProps,v=t!==null?t.memoizedProps:null,l=m.children,im(d,m)?l=null:v!==null&&im(d,v)&&(i.flags|=32),i.memoizedState!==null&&(d=tf(t,i,Wb,null,null,r),Vl._currentValue=d),Ru(t,i),$t(t,i,l,r),i.child;case 6:return t===null&&Pe&&((t=r=it)&&(r=US(r,i.pendingProps,zn),r!==null?(i.stateNode=r,Qt=i,it=null,t=!0):t=!1),t||Ua(i)),null;case 13:return o_(t,i,r);case 4:return Vt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ws(i,null,l,r):$t(t,i,l,r),i.child;case 11:return Zy(t,i,i.type,i.pendingProps,r);case 7:return $t(t,i,i.pendingProps,r),i.child;case 8:return $t(t,i,i.pendingProps.children,r),i.child;case 12:return $t(t,i,i.pendingProps.children,r),i.child;case 10:return l=i.pendingProps,za(i,i.type,l.value),$t(t,i,l.children,r),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,$s(i),d=Yt(d),l=l(d),i.flags|=1,$t(t,i,l,r),i.child;case 14:return Wy(t,i,i.type,i.pendingProps,r);case 15:return e_(t,i,i.type,i.pendingProps,r);case 19:return c_(t,i,r);case 31:return oS(t,i,r);case 22:return t_(t,i,r,i.pendingProps);case 24:return $s(i),l=Yt(Rt),t===null?(d=Gd(),d===null&&(d=et,m=Hd(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=r),d=m),i.memoizedState={parent:l,cache:d},Qd(i),za(i,Rt,d)):((t.lanes&r)!==0&&(Yd(t,i),pl(i,null,null,r),ml()),d=t.memoizedState,m=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),za(i,Rt,l)):(l=m.cache,za(i,Rt,l),l!==d.cache&&qd(i,[Rt],r,!0))),$t(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ra(t){t.flags|=4}function If(t,i,r,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(P_())t.flags|=8192;else throw Zs=du,Kd}else t.flags&=-16777217}function h_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Nv(i))if(P_())t.flags|=8192;else throw Zs=du,Kd}function Cu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Vc():536870912,t.lanes|=i,to|=i)}function Tl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(i)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=r,i}function cS(t,i,r){var l=i.pendingProps;switch(Pd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return r=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),na(Rt),lt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qr(i)?ra(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ud())),at(i),null;case 26:var d=i.type,m=i.memoizedState;return t===null?(ra(i),m!==null?(at(i),h_(i,m)):(at(i),If(i,d,null,l,r))):m?m!==t.memoizedState?(ra(i),at(i),h_(i,m)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ra(i),at(i),If(i,d,t,l,r)),null;case 27:if(Er(i),r=xe.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ra(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=ce.current,qr(i)?Fg(i):(t=_v(d,l,r),i.stateNode=t,ra(i))}return at(i),null;case 5:if(Er(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ra(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(m=ce.current,qr(i))Fg(i);else{var v=Fu(xe.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}m[At]=i,m[zt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=m;e:switch(Xt(m,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ra(i)}}return at(i),If(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ra(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,qr(i)){if(t=i.stateNode,r=i.memoizedProps,l=null,d=Qt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[At]=i,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||ov(t.nodeValue,r)),t||Ua(i,!0)}else t=Fu(t).createTextNode(l),t[At]=i,i.stateNode=t}return at(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(l=qr(i),r!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[At]=i}else Qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else r=Ud(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(wn(i),i):(wn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=qr(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[At]=i}else Qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),d=!1}else d=Ud(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(wn(i),i):(wn(i),null)}return wn(i),(i.flags&128)!==0?(i.lanes=r,i):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),Cu(i,i.updateQueue),at(i),null);case 4:return lt(),t===null&&Zf(i.stateNode.containerInfo),at(i),null;case 10:return na(i.type),at(i),null;case 19:if(ee(_t),l=i.memoizedState,l===null)return at(i),null;if(d=(i.flags&128)!==0,m=l.rendering,m===null)if(d)Tl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=gu(t),m!==null){for(i.flags|=128,Tl(l,!1),t=m.updateQueue,i.updateQueue=t,Cu(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Ug(r,t),r=r.sibling;return re(_t,_t.current&1|2),Pe&&ea(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&ln()>Mu&&(i.flags|=128,d=!0,Tl(l,!1),i.lanes=4194304)}else{if(!d)if(t=gu(m),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,Cu(i,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Pe)return at(i),null}else 2*ln()-l.renderingStartTime>Mu&&r!==536870912&&(i.flags|=128,d=!0,Tl(l,!1),i.lanes=4194304);l.isBackwards?(m.sibling=i.child,i.child=m):(t=l.last,t!==null?t.sibling=m:i.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ln(),t.sibling=null,r=_t.current,re(_t,d?r&1|2:r&1),Pe&&ea(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return wn(i),Zd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(r&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),r=i.updateQueue,r!==null&&Cu(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==r&&(i.flags|=2048),t!==null&&ee(Xs),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),na(Rt),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function uS(t,i){switch(Pd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return na(Rt),lt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Er(i),null;case 31:if(i.memoizedState!==null){if(wn(i),i.alternate===null)throw Error(s(340));Qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(wn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(_t),null;case 4:return lt(),null;case 10:return na(i.type),null;case 22:case 23:return wn(i),Zd(),t!==null&&ee(Xs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return na(Rt),null;case 25:return null;default:return null}}function d_(t,i){switch(Pd(i),i.tag){case 3:na(Rt),lt();break;case 26:case 27:case 5:Er(i);break;case 4:lt();break;case 31:i.memoizedState!==null&&wn(i);break;case 13:wn(i);break;case 19:ee(_t);break;case 10:na(i.type);break;case 22:case 23:wn(i),Zd(),t!==null&&ee(Xs);break;case 24:na(Rt)}}function bl(t,i){try{var r=i.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var d=l.next;r=d;do{if((r.tag&t)===t){l=void 0;var m=r.create,v=r.inst;l=m(),v.destroy=l}r=r.next}while(r!==d)}}catch(S){$e(i,i.return,S)}}function Ka(t,i,r){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=i;var C=r,q=S;try{q()}catch(Y){$e(d,C,Y)}}}l=l.next}while(l!==m)}}catch(Y){$e(i,i.return,Y)}}function f_(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{iy(i,r)}catch(l){$e(t,t.return,l)}}}function m_(t,i,r){r.props=tr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){$e(t,i,l)}}function Sl(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(d){$e(t,i,d)}}function Oi(t,i){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(d){$e(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){$e(t,i,d)}else r.current=null}function p_(t){var i=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(d){$e(t,t.return,d)}}function Df(t,i,r){try{var l=t.stateNode;jS(l,t.type,r,i),l[zt]=i}catch(d){$e(t,t.return,d)}}function g_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wa(t.type)||t.tag===4}function jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||g_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Of(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Jn));else if(l!==4&&(l===27&&Wa(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(Of(t,i,r),t=t.sibling;t!==null;)Of(t,i,r),t=t.sibling}function Iu(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(l!==4&&(l===27&&Wa(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Iu(t,i,r),t=t.sibling;t!==null;)Iu(t,i,r),t=t.sibling}function y_(t){var i=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Xt(i,l,r),i[At]=t,i[zt]=r}catch(m){$e(t,t.return,m)}}var oa=!1,It=!1,Mf=!1,__=typeof WeakSet=="function"?WeakSet:Set,qt=null;function hS(t,i){if(t=t.containerInfo,tm=Ju,t=Ig(t),Nd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var v=0,S=-1,C=-1,q=0,Y=0,Z=t,H=null;t:for(;;){for(var K;Z!==r||d!==0&&Z.nodeType!==3||(S=v+d),Z!==m||l!==0&&Z.nodeType!==3||(C=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(K=Z.firstChild)!==null;)H=Z,Z=K;for(;;){if(Z===t)break t;if(H===r&&++q===d&&(S=v),H===m&&++Y===l&&(C=v),(K=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=K}r=S===-1||C===-1?null:{start:S,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(nm={focusedElem:t,selectionRange:r},Ju=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)d=t[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=i,d=m.memoizedProps,m=m.memoizedState,l=r.stateNode;try{var he=tr(r.type,d);t=l.getSnapshotBeforeUpdate(he,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){$e(r,r.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)sm(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function v_(t,i,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ca(t,r),l&4&&bl(5,r);break;case 1:if(ca(t,r),l&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(v){$e(r,r.return,v)}else{var d=tr(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){$e(r,r.return,v)}}l&64&&f_(r),l&512&&Sl(r,r.return);break;case 3:if(ca(t,r),l&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{iy(t,i)}catch(v){$e(r,r.return,v)}}break;case 27:i===null&&l&4&&y_(r);case 26:case 5:ca(t,r),i===null&&l&4&&p_(r),l&512&&Sl(r,r.return);break;case 12:ca(t,r);break;case 31:ca(t,r),l&4&&b_(t,r);break;case 13:ca(t,r),l&4&&S_(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=ES.bind(null,r),zS(t,r))));break;case 22:if(l=r.memoizedState!==null||oa,!l){i=i!==null&&i.memoizedState!==null||It,d=oa;var m=It;oa=l,(It=i)&&!m?ua(t,r,(r.subtreeFlags&8772)!==0):ca(t,r),oa=d,It=m}break;case 30:break;default:ca(t,r)}}function E_(t){var i=t.alternate;i!==null&&(t.alternate=null,E_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&wr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,fn=!1;function la(t,i,r){for(r=r.child;r!==null;)T_(t,i,r),r=r.sibling}function T_(t,i,r){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Qn,r)}catch{}switch(r.tag){case 26:It||Oi(r,i),la(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:It||Oi(r,i);var l=ut,d=fn;Wa(r.type)&&(ut=r.stateNode,fn=!1),la(t,i,r),jl(r.stateNode),ut=l,fn=d;break;case 5:It||Oi(r,i);case 6:if(l=ut,d=fn,ut=null,la(t,i,r),ut=l,fn=d,ut!==null)if(fn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(r.stateNode)}catch(m){$e(r,i,m)}else try{ut.removeChild(r.stateNode)}catch(m){$e(r,i,m)}break;case 18:ut!==null&&(fn?(t=ut,fv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),co(t)):fv(ut,r.stateNode));break;case 4:l=ut,d=fn,ut=r.stateNode.containerInfo,fn=!0,la(t,i,r),ut=l,fn=d;break;case 0:case 11:case 14:case 15:Ka(2,r,i),It||Ka(4,r,i),la(t,i,r);break;case 1:It||(Oi(r,i),l=r.stateNode,typeof l.componentWillUnmount=="function"&&m_(r,i,l)),la(t,i,r);break;case 21:la(t,i,r);break;case 22:It=(l=It)||r.memoizedState!==null,la(t,i,r),It=l;break;default:la(t,i,r)}}function b_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{co(t)}catch(r){$e(i,i.return,r)}}}function S_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(r){$e(i,i.return,r)}}function dS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new __),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new __),i;default:throw Error(s(435,t.tag))}}function Du(t,i){var r=dS(t);i.forEach(function(l){if(!r.has(l)){r.add(l);var d=TS.bind(null,t,l);l.then(d,d)}})}function mn(t,i){var r=i.deletions;if(r!==null)for(var l=0;l<r.length;l++){var d=r[l],m=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Wa(S.type)){ut=S.stateNode,fn=!1;break e}break;case 5:ut=S.stateNode,fn=!1;break e;case 3:case 4:ut=S.stateNode.containerInfo,fn=!0;break e}S=S.return}if(ut===null)throw Error(s(160));T_(m,v,d),ut=null,fn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)A_(i,t),i=i.sibling}var ii=null;function A_(t,i){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),pn(t),l&4&&(Ka(3,t,t.return),bl(3,t),Ka(5,t,t.return));break;case 1:mn(i,t),pn(t),l&512&&(It||r===null||Oi(r,r.return)),l&64&&oa&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var d=ii;if(mn(i,t),pn(t),l&512&&(It||r===null||Oi(r,r.return)),l&4){var m=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[vi]||m[At]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Xt(m,l,r),m[At]=t,wt(m),l=m;break e;case"link":var v=Av("link","href",d).get(l+(r.href||""));if(v){for(var S=0;S<v.length;S++)if(m=v[S],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(S,1);break t}}m=d.createElement(l),Xt(m,l,r),d.head.appendChild(m);break;case"meta":if(v=Av("meta","content",d).get(l+(r.content||""))){for(S=0;S<v.length;S++)if(m=v[S],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(S,1);break t}}m=d.createElement(l),Xt(m,l,r),d.head.appendChild(m);break;default:throw Error(s(468,l))}m[At]=t,wt(m),l=m}t.stateNode=l}else wv(d,t.type,t.stateNode);else t.stateNode=Sv(d,l,t.memoizedProps);else m!==l?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,l===null?wv(d,t.type,t.stateNode):Sv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Df(t,t.memoizedProps,r.memoizedProps)}break;case 27:mn(i,t),pn(t),l&512&&(It||r===null||Oi(r,r.return)),r!==null&&l&4&&Df(t,t.memoizedProps,r.memoizedProps);break;case 5:if(mn(i,t),pn(t),l&512&&(It||r===null||Oi(r,r.return)),t.flags&32){d=t.stateNode;try{dn(d,"")}catch(he){$e(t,t.return,he)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Df(t,d,r!==null?r.memoizedProps:d)),l&1024&&(Mf=!0);break;case 6:if(mn(i,t),pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(he){$e(t,t.return,he)}}break;case 3:if(Qu=null,d=ii,ii=Gu(i.containerInfo),mn(i,t),ii=d,pn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{co(i.containerInfo)}catch(he){$e(t,t.return,he)}Mf&&(Mf=!1,w_(t));break;case 4:l=ii,ii=Gu(t.stateNode.containerInfo),mn(i,t),pn(t),ii=l;break;case 12:mn(i,t),pn(t);break;case 31:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Du(t,l)));break;case 13:mn(i,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ou=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Du(t,l)));break;case 22:d=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,q=oa,Y=It;if(oa=q||d,It=Y||C,mn(i,t),It=Y,oa=q,pn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(r===null||C||oa||It||nr(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){C=r=i;try{if(m=C.stateNode,d)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=C.stateNode;var Z=C.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(he){$e(C,C.return,he)}}}else if(i.tag===6){if(r===null){C=i;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(he){$e(C,C.return,he)}}}else if(i.tag===18){if(r===null){C=i;try{var K=C.stateNode;d?mv(K,!0):mv(C.stateNode,!1)}catch(he){$e(C,C.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Du(t,r))));break;case 19:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Du(t,l)));break;case 30:break;case 21:break;default:mn(i,t),pn(t)}}function pn(t){var i=t.flags;if(i&2){try{for(var r,l=t.return;l!==null;){if(g_(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var d=r.stateNode,m=jf(t);Iu(t,m,d);break;case 5:var v=r.stateNode;r.flags&32&&(dn(v,""),r.flags&=-33);var S=jf(t);Iu(t,S,v);break;case 3:case 4:var C=r.stateNode.containerInfo,q=jf(t);Of(t,q,C);break;default:throw Error(s(161))}}catch(Y){$e(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function w_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;w_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ca(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)v_(t,i.alternate,i),i=i.sibling}function nr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ka(4,i,i.return),nr(i);break;case 1:Oi(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&m_(i,i.return,r),nr(i);break;case 27:jl(i.stateNode);case 26:case 5:Oi(i,i.return),nr(i);break;case 22:i.memoizedState===null&&nr(i);break;case 30:nr(i);break;default:nr(i)}t=t.sibling}}function ua(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,m=i,v=m.flags;switch(m.tag){case 0:case 11:case 15:ua(d,m,r),bl(4,m);break;case 1:if(ua(d,m,r),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){$e(l,l.return,q)}if(l=m,d=l.updateQueue,d!==null){var S=l.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)ny(C[d],S)}catch(q){$e(l,l.return,q)}}r&&v&64&&f_(m),Sl(m,m.return);break;case 27:y_(m);case 26:case 5:ua(d,m,r),r&&l===null&&v&4&&p_(m),Sl(m,m.return);break;case 12:ua(d,m,r);break;case 31:ua(d,m,r),r&&v&4&&b_(d,m);break;case 13:ua(d,m,r),r&&v&4&&S_(d,m);break;case 22:m.memoizedState===null&&ua(d,m,r),Sl(m,m.return);break;case 30:break;default:ua(d,m,r)}i=i.sibling}}function Vf(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&cl(r))}function kf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t))}function ai(t,i,r,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N_(t,i,r,l),i=i.sibling}function N_(t,i,r,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i,r,l),d&2048&&bl(9,i);break;case 1:ai(t,i,r,l);break;case 3:ai(t,i,r,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t)));break;case 12:if(d&2048){ai(t,i,r,l),t=i.stateNode;try{var m=i.memoizedProps,v=m.id,S=m.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){$e(i,i.return,C)}}else ai(t,i,r,l);break;case 31:ai(t,i,r,l);break;case 13:ai(t,i,r,l);break;case 23:break;case 22:m=i.stateNode,v=i.alternate,i.memoizedState!==null?m._visibility&2?ai(t,i,r,l):Al(t,i):m._visibility&2?ai(t,i,r,l):(m._visibility|=2,Zr(t,i,r,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&Vf(v,i);break;case 24:ai(t,i,r,l),d&2048&&kf(i.alternate,i);break;default:ai(t,i,r,l)}}function Zr(t,i,r,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,v=i,S=r,C=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Zr(m,v,S,C,d),bl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Zr(m,v,S,C,d):Al(m,v):(Y._visibility|=2,Zr(m,v,S,C,d)),d&&q&2048&&Vf(v.alternate,v);break;case 24:Zr(m,v,S,C,d),d&&q&2048&&kf(v.alternate,v);break;default:Zr(m,v,S,C,d)}i=i.sibling}}function Al(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,l=i,d=l.flags;switch(l.tag){case 22:Al(r,l),d&2048&&Vf(l.alternate,l);break;case 24:Al(r,l),d&2048&&kf(l.alternate,l);break;default:Al(r,l)}i=i.sibling}}var wl=8192;function Wr(t,i,r){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)R_(t,i,r),t=t.sibling}function R_(t,i,r){switch(t.tag){case 26:Wr(t,i,r),t.flags&wl&&t.memoizedState!==null&&ZS(r,ii,t.memoizedState,t.memoizedProps);break;case 5:Wr(t,i,r);break;case 3:case 4:var l=ii;ii=Gu(t.stateNode.containerInfo),Wr(t,i,r),ii=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=wl,wl=16777216,Wr(t,i,r),wl=l):Wr(t,i,r));break;default:Wr(t,i,r)}}function x_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Nl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];qt=l,I_(l,t)}x_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)C_(t),t=t.sibling}function C_(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&Ka(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,ju(t)):Nl(t);break;default:Nl(t)}}function ju(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];qt=l,I_(l,t)}x_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ka(8,i,i.return),ju(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,ju(i));break;default:ju(i)}t=t.sibling}}function I_(t,i){for(;qt!==null;){var r=qt;switch(r.tag){case 0:case 11:case 15:Ka(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,qt=l;else e:for(r=t;qt!==null;){l=qt;var d=l.sibling,m=l.return;if(E_(l),l===r){qt=null;break e}if(d!==null){d.return=m,qt=d;break e}qt=m}}}var fS={getCacheForType:function(t){var i=Yt(Rt),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return Yt(Rt).controller.signal}},mS=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Ie=null,je=0,Ye=0,Nn=null,Qa=!1,eo=!1,Pf=!1,ha=0,mt=0,Ya=0,ir=0,Lf=0,Rn=0,to=0,Rl=null,gn=null,Uf=!1,Ou=0,D_=0,Mu=1/0,Vu=null,$a=null,Pt=0,Xa=null,no=null,da=0,zf=0,Bf=null,j_=null,xl=0,qf=null;function xn(){return(Fe&2)!==0&&je!==0?je&-je:$.T!==null?Yf():kc()}function O_(){if(Rn===0)if((je&536870912)===0||Pe){var t=Is;Is<<=1,(Is&3932160)===0&&(Is=262144),Rn=t}else Rn=536870912;return t=An.current,t!==null&&(t.flags|=32),Rn}function yn(t,i,r){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(io(t,0),Ja(t,je,Rn,!1)),Ds(t,r),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(ir|=r),mt===4&&Ja(t,je,Rn,!1)),Mi(t))}function M_(t,i,r){if((Fe&6)!==0)throw Error(s(327));var l=!r&&(i&127)===0&&(i&t.expiredLanes)===0||Yn(t,i),d=l?yS(t,i):Ff(t,i,!0),m=l;do{if(d===0){eo&&!l&&Ja(t,i,0,!1);break}else{if(r=t.current.alternate,m&&!pS(r)){d=Ff(t,i,!1),m=!1;continue}if(d===2){if(m=i,t.errorRecoveryDisabledLanes&m)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;d=Rl;var C=S.current.memoizedState.isDehydrated;if(C&&(io(S,v).flags|=256),v=Ff(S,v,!1),v!==2){if(Pf&&!C){S.errorRecoveryDisabledLanes|=m,ir|=m,d=4;break e}m=gn,gn=d,m!==null&&(gn===null?gn=m:gn.push.apply(gn,m))}d=v}if(m=!1,d!==2)continue}}if(d===1){io(t,0),Ja(t,i,0,!0);break}e:{switch(l=t,m=d,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ja(l,i,Rn,!Qa);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=Ou+300-ln(),10<d)){if(Ja(l,i,Rn,!Qa),gi(l,0,!0)!==0)break e;da=i,l.timeoutHandle=hv(V_.bind(null,l,r,gn,Vu,Uf,i,Rn,ir,to,Qa,m,"Throttled",-0,0),d);break e}V_(l,r,gn,Vu,Uf,i,Rn,ir,to,Qa,m,null,-0,0)}}break}while(!0);Mi(t)}function V_(t,i,r,l,d,m,v,S,C,q,Y,Z,H,K){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},R_(i,m,Z);var he=(m&62914560)===m?Ou-ln():(m&4194048)===m?D_-ln():0;if(he=WS(Z,he),he!==null){da=m,t.cancelPendingCommit=he(H_.bind(null,t,i,m,r,l,d,v,S,C,Y,Z,null,H,K)),Ja(t,m,v,!q);return}}H_(t,i,m,r,l,d,v,S,C)}function pS(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var d=r[l],m=d.getSnapshot;d=d.value;try{if(!bn(m(),d))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ja(t,i,r,l){i&=~Lf,i&=~ir,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var m=31-gt(d),v=1<<m;l[m]=-1,d&=~v}r!==0&&js(t,r,i)}function ku(){return(Fe&6)===0?(Cl(0),!1):!0}function Hf(){if(Ie!==null){if(Ye===0)var t=Ie.return;else t=Ie,ta=Ys=null,sf(t),Qr=null,hl=0,t=Ie;for(;t!==null;)d_(t.alternate,t),t=t.return;Ie=null}}function io(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,VS(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),da=0,Hf(),et=t,Ie=r=Wi(t.current,null),je=i,Ye=0,Nn=null,Qa=!1,eo=Yn(t,i),Pf=!1,to=Rn=Lf=ir=Ya=mt=0,gn=Rl=null,Uf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-gt(l),m=1<<d;i|=t[d],l&=~m}return ha=i,iu(),r}function k_(t,i){Re=null,$.H=vl,i===Kr||i===hu?(i=Zg(),Ye=3):i===Kd?(i=Zg(),Ye=4):Ye=i===Tf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nn=i,Ie===null&&(mt=1,wu(t,Pn(i,t.current)))}function P_(){var t=An.current;return t===null?!0:(je&4194048)===je?Bn===null:(je&62914560)===je||(je&536870912)!==0?t===Bn:!1}function L_(){var t=$.H;return $.H=vl,t===null?vl:t}function U_(){var t=$.A;return $.A=fS,t}function Pu(){mt=4,Qa||(je&4194048)!==je&&An.current!==null||(eo=!0),(Ya&134217727)===0&&(ir&134217727)===0||et===null||Ja(et,je,Rn,!1)}function Ff(t,i,r){var l=Fe;Fe|=2;var d=L_(),m=U_();(et!==t||je!==i)&&(Vu=null,io(t,i)),i=!1;var v=mt;e:do try{if(Ye!==0&&Ie!==null){var S=Ie,C=Nn;switch(Ye){case 8:Hf(),v=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(i=!0);var q=Ye;if(Ye=0,Nn=null,ao(t,S,C,q),r&&eo){v=0;break e}break;default:q=Ye,Ye=0,Nn=null,ao(t,S,C,q)}}gS(),v=mt;break}catch(Y){k_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,ta=Ys=null,Fe=l,$.H=d,$.A=m,Ie===null&&(et=null,je=0,iu()),v}function gS(){for(;Ie!==null;)z_(Ie)}function yS(t,i){var r=Fe;Fe|=2;var l=L_(),d=U_();et!==t||je!==i?(Vu=null,Mu=ln()+500,io(t,i)):eo=Yn(t,i);e:do try{if(Ye!==0&&Ie!==null){i=Ie;var m=Nn;t:switch(Ye){case 1:Ye=0,Nn=null,ao(t,i,m,1);break;case 2:case 9:if(Xg(m)){Ye=0,Nn=null,B_(i);break}i=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Mi(t)},m.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Xg(m)?(Ye=0,Nn=null,B_(i)):(Ye=0,Nn=null,ao(t,i,m,7));break;case 5:var v=null;switch(Ie.tag){case 26:v=Ie.memoizedState;case 5:case 27:var S=Ie;if(v?Nv(v):S.stateNode.complete){Ye=0,Nn=null;var C=S.sibling;if(C!==null)Ie=C;else{var q=S.return;q!==null?(Ie=q,Lu(q)):Ie=null}break t}}Ye=0,Nn=null,ao(t,i,m,5);break;case 6:Ye=0,Nn=null,ao(t,i,m,6);break;case 8:Hf(),mt=6;break e;default:throw Error(s(462))}}_S();break}catch(Y){k_(t,Y)}while(!0);return ta=Ys=null,$.H=l,$.A=d,Fe=r,Ie!==null?0:(et=null,je=0,iu(),mt)}function _S(){for(;Ie!==null&&!vd();)z_(Ie)}function z_(t){var i=u_(t.alternate,t,ha);t.memoizedProps=t.pendingProps,i===null?Lu(t):Ie=i}function B_(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=a_(r,i,i.pendingProps,i.type,void 0,je);break;case 11:i=a_(r,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:sf(i);default:d_(r,i),i=Ie=Ug(i,ha),i=u_(r,i,ha)}t.memoizedProps=t.pendingProps,i===null?Lu(t):Ie=i}function ao(t,i,r,l){ta=Ys=null,sf(i),Qr=null,hl=0;var d=i.return;try{if(rS(t,d,i,r,je)){mt=1,wu(t,Pn(r,t.current)),Ie=null;return}}catch(m){if(d!==null)throw Ie=d,m;mt=1,wu(t,Pn(r,t.current)),Ie=null;return}i.flags&32768?(Pe||l===1?t=!0:eo||(je&536870912)!==0?t=!1:(Qa=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),q_(i,t)):Lu(i)}function Lu(t){var i=t;do{if((i.flags&32768)!==0){q_(i,Qa);return}t=i.return;var r=cS(i.alternate,i,ha);if(r!==null){Ie=r;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=t}while(i!==null);mt===0&&(mt=5)}function q_(t,i){do{var r=uS(t.alternate,t);if(r!==null){r.flags&=32767,Ie=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=r}while(t!==null);mt=6,Ie=null}function H_(t,i,r,l,d,m,v,S,C){t.cancelPendingCommit=null;do Uu();while(Pt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Dd,bd(t,r,m,v,S,C),t===et&&(Ie=et=null,je=0),no=i,Xa=t,da=r,zf=m,Bf=d,j_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bS(Ra,function(){return Y_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,d=se.p,se.p=2,v=Fe,Fe|=4;try{hS(t,i,r)}finally{Fe=v,se.p=d,$.T=l}}Pt=1,F_(),G_(),K_()}}function F_(){if(Pt===1){Pt=0;var t=Xa,i=no,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=$.T,$.T=null;var l=se.p;se.p=2;var d=Fe;Fe|=4;try{A_(i,t);var m=nm,v=Ig(t.containerInfo),S=m.focusedElem,C=m.selectionRange;if(v!==S&&S&&S.ownerDocument&&Cg(S.ownerDocument.documentElement,S)){if(C!==null&&Nd(S)){var q=C.start,Y=C.end;if(Y===void 0&&(Y=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(Y,S.value.length);else{var Z=S.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var K=H.getSelection(),he=S.textContent.length,ye=Math.min(C.start,he),We=C.end===void 0?ye:Math.min(C.end,he);!K.extend&&ye>We&&(v=We,We=ye,ye=v);var L=xg(S,ye),O=xg(S,We);if(L&&O&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var B=Z.createRange();B.setStart(L.node,L.offset),K.removeAllRanges(),ye>We?(K.addRange(B),K.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),K.addRange(B))}}}}for(Z=[],K=S;K=K.parentNode;)K.nodeType===1&&Z.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var X=Z[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ju=!!tm,nm=tm=null}finally{Fe=d,se.p=l,$.T=r}}t.current=i,Pt=2}}function G_(){if(Pt===2){Pt=0;var t=Xa,i=no,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=$.T,$.T=null;var l=se.p;se.p=2;var d=Fe;Fe|=4;try{v_(t,i.alternate,i)}finally{Fe=d,se.p=l,$.T=r}}Pt=3}}function K_(){if(Pt===4||Pt===3){Pt=0,Cc();var t=Xa,i=no,r=da,l=j_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,no=Xa=null,Q_(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&($a=null),$i(r),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,d=se.p,se.p=2,$.T=null;try{for(var m=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];m(S.value,{componentStack:S.stack})}}finally{$.T=i,se.p=d}}(da&3)!==0&&Uu(),Mi(t),d=t.pendingLanes,(r&261930)!==0&&(d&42)!==0?t===qf?xl++:(xl=0,qf=t):xl=0,Cl(0)}}function Q_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,cl(i)))}function Uu(){return F_(),G_(),K_(),Y_()}function Y_(){if(Pt!==5)return!1;var t=Xa,i=zf;zf=0;var r=$i(da),l=$.T,d=se.p;try{se.p=32>r?32:r,$.T=null,r=Bf,Bf=null;var m=Xa,v=da;if(Pt=0,no=Xa=null,da=0,(Fe&6)!==0)throw Error(s(331));var S=Fe;if(Fe|=4,C_(m.current),N_(m,m.current,v,r),Fe=S,Cl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Qn,m)}catch{}return!0}finally{se.p=d,$.T=l,Q_(t,i)}}function $_(t,i,r){i=Pn(r,i),i=Ef(t.stateNode,i,2),t=Ha(t,i,2),t!==null&&(Ds(t,2),Mi(t))}function $e(t,i,r){if(t.tag===3)$_(t,t,r);else for(;i!==null;){if(i.tag===3){$_(i,t,r);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($a===null||!$a.has(l))){t=Pn(r,t),r=Xy(2),l=Ha(i,r,2),l!==null&&(Jy(r,l,i,t),Ds(l,2),Mi(l));break}}i=i.return}}function Gf(t,i,r){var l=t.pingCache;if(l===null){l=t.pingCache=new mS;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(r)||(Pf=!0,d.add(r),t=vS.bind(null,t,i,r),i.then(t,t))}function vS(t,i,r){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,et===t&&(je&r)===r&&(mt===4||mt===3&&(je&62914560)===je&&300>ln()-Ou?(Fe&2)===0&&io(t,0):Lf|=r,to===je&&(to=0)),Mi(t)}function X_(t,i){i===0&&(i=Vc()),t=Gs(t,i),t!==null&&(Ds(t,i),Mi(t))}function ES(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),X_(t,r)}function TS(t,i){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),X_(t,r)}function bS(t,i){return kt(t,i)}var zu=null,so=null,Kf=!1,Bu=!1,Qf=!1,Za=0;function Mi(t){t!==so&&t.next===null&&(so===null?zu=so=t:so=so.next=t),Bu=!0,Kf||(Kf=!0,AS())}function Cl(t,i){if(!Qf&&Bu){Qf=!0;do for(var r=!1,l=zu;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var v=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-gt(42|t)+1)-1,m&=d&~(v&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,ev(l,m))}else m=je,m=gi(l,l===et?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Yn(l,m)||(r=!0,ev(l,m));l=l.next}while(r);Qf=!1}}function SS(){J_()}function J_(){Bu=Kf=!1;var t=0;Za!==0&&MS()&&(t=Za);for(var i=ln(),r=null,l=zu;l!==null;){var d=l.next,m=Z_(l,i);m===0?(l.next=null,r===null?zu=d:r.next=d,d===null&&(so=r)):(r=l,(t!==0||(m&3)!==0)&&(Bu=!0)),l=d}Pt!==0&&Pt!==5||Cl(t),Za!==0&&(Za=0)}function Z_(t,i){for(var r=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var v=31-gt(m),S=1<<v,C=d[v];C===-1?((S&r)===0||(S&l)!==0)&&(d[v]=Td(S,i)):C<=i&&(t.expiredLanes|=S),m&=~S}if(i=et,r=je,r=gi(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Na(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Yn(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(l!==null&&Na(l),$i(r)){case 2:case 8:r=Uo;break;case 32:r=Ra;break;case 268435456:r=Ic;break;default:r=Ra}return l=W_.bind(null,t),r=kt(r,l),t.callbackPriority=i,t.callbackNode=r,i}return l!==null&&l!==null&&Na(l),t.callbackPriority=2,t.callbackNode=null,2}function W_(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Uu()&&t.callbackNode!==r)return null;var l=je;return l=gi(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(M_(t,l,i),Z_(t,ln()),t.callbackNode!=null&&t.callbackNode===r?W_.bind(null,t):null)}function ev(t,i){if(Uu())return null;M_(t,i,!0)}function AS(){kS(function(){(Fe&6)!==0?kt(Lo,SS):J_()})}function Yf(){if(Za===0){var t=Fr;t===0&&(t=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Za=t}return Za}function tv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Cr(""+t)}function nv(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function wS(t,i,r,l,d){if(i==="submit"&&r&&r.stateNode===d){var m=tv((d[zt]||null).action),v=l.submitter;v&&(i=(i=v[zt]||null)?tv(i.formAction):v.getAttribute("formAction"),i!==null&&(m=i,v=null));var S=new Ri("action","action",null,l,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Za!==0){var C=v?nv(d,v):new FormData(d);mf(r,{pending:!0,data:C,method:d.method,action:m},null,C)}}else typeof m=="function"&&(S.preventDefault(),C=v?nv(d,v):new FormData(d),mf(r,{pending:!0,data:C,method:d.method,action:m},m,C))},currentTarget:d}]})}}for(var $f=0;$f<Id.length;$f++){var Xf=Id[$f],NS=Xf.toLowerCase(),RS=Xf[0].toUpperCase()+Xf.slice(1);ni(NS,"on"+RS)}ni(Og,"onAnimationEnd"),ni(Mg,"onAnimationIteration"),ni(Vg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(Hb,"onTransitionRun"),ni(Fb,"onTransitionStart"),ni(Gb,"onTransitionCancel"),ni(kg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function iv(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],d=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],C=S.instance,q=S.currentTarget;if(S=S.listener,C!==m&&d.isPropagationStopped())break e;m=S,d.currentTarget=q;try{m(d)}catch(Y){nu(Y)}d.currentTarget=null,m=C}else for(v=0;v<l.length;v++){if(S=l[v],C=S.instance,q=S.currentTarget,S=S.listener,C!==m&&d.isPropagationStopped())break e;m=S,d.currentTarget=q;try{m(d)}catch(Y){nu(Y)}d.currentTarget=null,m=C}}}}function De(t,i){var r=i[Ar];r===void 0&&(r=i[Ar]=new Set);var l=t+"__bubble";r.has(l)||(av(i,t,2,!1),r.add(l))}function Jf(t,i,r){var l=0;i&&(l|=4),av(r,t,l,i)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Zf(t){if(!t[qu]){t[qu]=!0,qo.forEach(function(r){r!=="selectionchange"&&(xS.has(r)||Jf(r,!1,t),Jf(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[qu]||(i[qu]=!0,Jf("selectionchange",!1,i))}}function av(t,i,r,l){switch(Ov(i)){case 2:var d=nA;break;case 8:d=iA;break;default:d=fm}r=d.bind(null,i,r,t),d=void 0,!Ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,r,{capture:!0,passive:d}):t.addEventListener(i,r,!0):d!==void 0?t.addEventListener(i,r,{passive:d}):t.addEventListener(i,r,!1)}function Wf(t,i,r,l,d){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===d)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;S!==null;){if(v=Ei(S),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=m=v;continue e}S=S.parentNode}}l=l.return}Oa(function(){var q=m,Y=On(r),Z=[];e:{var H=Pg.get(t);if(H!==void 0){var K=Ri,he=t;switch(t){case"keypress":if(Us(r)===0)break e;case"keydown":case"keyup":K=Wc;break;case"focusin":he="focus",K=Bs;break;case"focusout":he="blur",K=Bs;break;case"beforeblur":case"afterblur":K=Bs;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=_;break;case Og:case Mg:case Vg:K=Kc;break;case kg:K=A;break;case"scroll":case"scrollend":K=el;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=Qc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Zi;break;case"toggle":case"beforetoggle":K=Ne}var ye=(i&4)!==0,We=!ye&&(t==="scroll"||t==="scrollend"),L=ye?H!==null?H+"Capture":null:H;ye=[];for(var O=q,B;O!==null;){var X=O;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||L===null||(X=Zn(O,L),X!=null&&ye.push(Dl(O,X,B))),We)break;O=O.return}0<ye.length&&(H=new K(H,he,null,r,Y),Z.push({event:H,listeners:ye}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",H&&r!==Jo&&(he=r.relatedTarget||r.fromElement)&&(Ei(he)||he[_i]))break e;if((K||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,K?(he=r.relatedTarget||r.toElement,K=q,he=he?Ei(he):null,he!==null&&(We=c(he),ye=he.tag,he!==We||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(K=null,he=q),K!==he)){if(ye=tl,X="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Zi,X="onPointerLeave",L="onPointerEnter",O="pointer"),We=K==null?H:En(K),B=he==null?H:En(he),H=new ye(X,O+"leave",K,r,Y),H.target=We,H.relatedTarget=B,X=null,Ei(Y)===q&&(ye=new ye(L,O+"enter",he,r,Y),ye.target=B,ye.relatedTarget=We,X=ye),We=X,K&&he)t:{for(ye=CS,L=K,O=he,B=0,X=L;X;X=ye(X))B++;X=0;for(var fe=O;fe;fe=ye(fe))X++;for(;0<B-X;)L=ye(L),B--;for(;0<X-B;)O=ye(O),X--;for(;B--;){if(L===O||O!==null&&L===O.alternate){ye=L;break t}L=ye(L),O=ye(O)}ye=null}else ye=null;K!==null&&sv(Z,H,K,ye,!1),he!==null&&We!==null&&sv(Z,We,he,ye,!0)}}e:{if(H=q?En(q):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var Be=bg;else if(Eg(H))if(Sg)Be=zb;else{Be=Lb;var de=Pb}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&xr(q.elementType)&&(Be=bg):Be=Ub;if(Be&&(Be=Be(t,q))){Tg(Z,Be,r,Y);break e}de&&de(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Yo(H,"number",H.value)}switch(de=q?En(q):window,t){case"focusin":(Eg(de)||de.contentEditable==="true")&&(kr=de,Rd=q,rl=null);break;case"focusout":rl=Rd=kr=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,Dg(Z,r,Y);break;case"selectionchange":if(qb)break;case"keydown":case"keyup":Dg(Z,r,Y)}var Ce;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Vr?qs(t,r)&&(Oe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ii&&r.locale!=="ko"&&(Vr||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Vr&&(Ce=Wo()):(Ni=Y,Zo="value"in Ni?Ni.value:Ni.textContent,Vr=!0)),de=Hu(q,Oe),0<de.length&&(Oe=new Ci(Oe,t,null,r,Y),Z.push({event:Oe,listeners:de}),Ce?Oe.data=Ce:(Ce=Mr(r),Ce!==null&&(Oe.data=Ce)))),(Ce=Vn?Ob(t,r):Mb(t,r))&&(Oe=Hu(q,"onBeforeInput"),0<Oe.length&&(de=new Ci("onBeforeInput","beforeinput",null,r,Y),Z.push({event:de,listeners:Oe}),de.data=Ce)),wS(Z,t,q,r,Y)}iv(Z,i)})}function Dl(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Hu(t,i){for(var r=i+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Zn(t,r),d!=null&&l.unshift(Dl(t,d,m)),d=Zn(t,i),d!=null&&l.push(Dl(t,d,m))),t.tag===3)return l;t=t.return}return[]}function CS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sv(t,i,r,l,d){for(var m=i._reactName,v=[];r!==null&&r!==l;){var S=r,C=S.alternate,q=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||q===null||(C=q,d?(q=Zn(r,m),q!=null&&v.unshift(Dl(r,q,C))):d||(q=Zn(r,m),q!=null&&v.push(Dl(r,q,C)))),r=r.return}v.length!==0&&t.push({event:i,listeners:v})}var IS=/\r\n?/g,DS=/\u0000|\uFFFD/g;function rv(t){return(typeof t=="string"?t:""+t).replace(IS,`
`).replace(DS,"")}function ov(t,i){return i=rv(i),rv(t)===i}function Ze(t,i,r,l,d,m){switch(r){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&dn(t,""+l);break;case"className":Tn(t,"class",l);break;case"tabIndex":Tn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,r,l);break;case"style":Xo(t,l,m);break;case"data":if(i!=="object"){Tn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Cr(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(i!=="input"&&Ze(t,i,"name",d.name,d,null),Ze(t,i,"formEncType",d.formEncType,d,null),Ze(t,i,"formMethod",d.formMethod,d,null),Ze(t,i,"formTarget",d.formTarget,d,null)):(Ze(t,i,"encType",d.encType,d,null),Ze(t,i,"method",d.method,d,null),Ze(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Cr(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Cr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":De("beforetoggle",t),De("toggle",t),Nr(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Nr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Hc.get(r)||r,Nr(t,r,l))}}function em(t,i,r,l,d,m){switch(r){case"style":Xo(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),i=r.slice(2,d?r.length-7:void 0),m=t[zt]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(i,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,l,d);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Nr(t,r,l)}}}function Xt(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,d=!1,m;for(m in r)if(r.hasOwnProperty(m)){var v=r[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,m,v,r,null)}}d&&Ze(t,i,"srcSet",r.srcSet,r,null),l&&Ze(t,i,"src",r.src,r,null);return;case"input":De("invalid",t);var S=m=v=d=null,C=null,q=null;for(l in r)if(r.hasOwnProperty(l)){var Y=r[l];if(Y!=null)switch(l){case"name":d=Y;break;case"type":v=Y;break;case"checked":C=Y;break;case"defaultChecked":q=Y;break;case"value":m=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Ze(t,i,l,Y,r,null)}}zc(t,m,S,C,q,v,d,!1);return;case"select":De("invalid",t),l=v=m=null;for(d in r)if(r.hasOwnProperty(d)&&(S=r[d],S!=null))switch(d){case"value":m=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:Ze(t,i,d,S,r,null)}i=m,r=v,t.multiple=!!l,i!=null?Ca(t,!!l,i,!1):r!=null&&Ca(t,!!l,r,!0);return;case"textarea":De("invalid",t),m=d=l=null;for(v in r)if(r.hasOwnProperty(v)&&(S=r[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":d=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ze(t,i,v,S,r,null)}Ia(t,l,d,m);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,C,l,r,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)De(Il[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in r)if(r.hasOwnProperty(q)&&(l=r[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,q,l,r,null)}return;default:if(xr(i)){for(Y in r)r.hasOwnProperty(Y)&&(l=r[Y],l!==void 0&&em(t,i,Y,l,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(l=r[S],l!=null&&Ze(t,i,S,l,r,null))}function jS(t,i,r,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,v=null,S=null,C=null,q=null,Y=null;for(K in r){var Z=r[K];if(r.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(K)||Ze(t,i,K,null,l,Z)}}for(var H in l){var K=l[H];if(Z=r[H],l.hasOwnProperty(H)&&(K!=null||Z!=null))switch(H){case"type":m=K;break;case"name":d=K;break;case"checked":q=K;break;case"defaultChecked":Y=K;break;case"value":v=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==Z&&Ze(t,i,H,K,l,Z)}}Rr(t,v,S,C,q,Y,m,d);return;case"select":K=v=S=H=null;for(m in r)if(C=r[m],r.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":K=C;default:l.hasOwnProperty(m)||Ze(t,i,m,null,l,C)}for(d in l)if(m=l[d],C=r[d],l.hasOwnProperty(d)&&(m!=null||C!=null))switch(d){case"value":H=m;break;case"defaultValue":S=m;break;case"multiple":v=m;default:m!==C&&Ze(t,i,d,m,l,C)}i=S,r=v,l=K,H!=null?Ca(t,!!r,H,!1):!!l!=!!r&&(i!=null?Ca(t,!!r,i,!0):Ca(t,!!r,r?[]:"",!1));return;case"textarea":K=H=null;for(S in r)if(d=r[S],r.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(t,i,S,null,l,d)}for(v in l)if(d=l[v],m=r[v],l.hasOwnProperty(v)&&(d!=null||m!=null))switch(v){case"value":H=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&Ze(t,i,v,d,l,m)}Bc(t,H,K);return;case"option":for(var he in r)if(H=r[he],r.hasOwnProperty(he)&&H!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Ze(t,i,he,null,l,H)}for(C in l)if(H=l[C],K=r[C],l.hasOwnProperty(C)&&H!==K&&(H!=null||K!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ze(t,i,C,H,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in r)H=r[ye],r.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&Ze(t,i,ye,null,l,H);for(q in l)if(H=l[q],K=r[q],l.hasOwnProperty(q)&&H!==K&&(H!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Ze(t,i,q,H,l,K)}return;default:if(xr(i)){for(var We in r)H=r[We],r.hasOwnProperty(We)&&H!==void 0&&!l.hasOwnProperty(We)&&em(t,i,We,void 0,l,H);for(Y in l)H=l[Y],K=r[Y],!l.hasOwnProperty(Y)||H===K||H===void 0&&K===void 0||em(t,i,Y,H,l,K);return}}for(var L in r)H=r[L],r.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Ze(t,i,L,null,l,H);for(Z in l)H=l[Z],K=r[Z],!l.hasOwnProperty(Z)||H===K||H==null&&K==null||Ze(t,i,Z,H,l,K)}function lv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var d=r[l],m=d.transferSize,v=d.initiatorType,S=d.duration;if(m&&S&&lv(v)){for(v=0,S=d.responseEnd,l+=1;l<r.length;l++){var C=r[l],q=C.startTime;if(q>S)break;var Y=C.transferSize,Z=C.initiatorType;Y&&lv(Z)&&(C=C.responseEnd,v+=Y*(C<S?1:(S-q)/(C-q)))}if(--l,i+=8*(m+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tm=null,nm=null;function Fu(t){return t.nodeType===9?t:t.ownerDocument}function cv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function im(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var am=null;function MS(){var t=window.event;return t&&t.type==="popstate"?t===am?!1:(am=t,!0):(am=null,!1)}var hv=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,kS=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(t){return dv.resolve(null).then(t).catch(PS)}:hv;function PS(t){setTimeout(function(){throw t})}function Wa(t){return t==="head"}function fv(t,i){var r=i,l=0;do{var d=r.nextSibling;if(t.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(d),co(i);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")jl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,jl(r);for(var m=r.firstChild;m;){var v=m.nextSibling,S=m.nodeName;m[vi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=v}}else r==="body"&&jl(t.ownerDocument.body);r=d}while(r);co(i)}function mv(t,i){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":sm(r),wr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function LS(t,i,r,l){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function US(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=qn(t.nextSibling),t===null))return null;return t}function pv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=qn(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function zS(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var l=function(){i(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var lm=null;function gv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return qn(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function yv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function _v(t,i,r){switch(i=Fu(r),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function jl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);wr(t)}var Hn=new Map,vv=new Set;function Gu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fa=se.d;se.d={f:BS,r:qS,D:HS,C:FS,L:GS,m:KS,X:YS,S:QS,M:$S};function BS(){var t=fa.f(),i=ku();return t||i}function qS(t){var i=jn(t);i!==null&&i.tag===5&&i.type==="form"?ky(i):fa.r(t)}var ro=typeof document>"u"?null:document;function Ev(t,i,r){var l=ro;if(l&&typeof i=="string"&&i){var d=hn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),vv.has(d)||(vv.add(d),t={rel:t,crossOrigin:r,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),Xt(i,"link",t),wt(i),l.head.appendChild(i)))}}function HS(t){fa.D(t),Ev("dns-prefetch",t,null)}function FS(t,i){fa.C(t,i),Ev("preconnect",t,i)}function GS(t,i,r){fa.L(t,i,r);var l=ro;if(l&&t&&i){var d='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+hn(r.imageSizes)+'"]')):d+='[href="'+hn(t)+'"]';var m=d;switch(i){case"style":m=oo(t);break;case"script":m=lo(t)}Hn.has(m)||(t=b({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Hn.set(m,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(Ol(m))||i==="script"&&l.querySelector(Ml(m))||(i=l.createElement("link"),Xt(i,"link",t),wt(i),l.head.appendChild(i)))}}function KS(t,i){fa.m(t,i);var r=ro;if(r&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=lo(t)}if(!Hn.has(m)&&(t=b({rel:"modulepreload",href:t},i),Hn.set(m,t),r.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ml(m)))return}l=r.createElement("link"),Xt(l,"link",t),wt(l),r.head.appendChild(l)}}}function QS(t,i,r){fa.S(t,i,r);var l=ro;if(l&&t){var d=Ti(l).hoistableStyles,m=oo(t);i=i||"default";var v=d.get(m);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Ol(m)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Hn.get(m))&&cm(t,r);var C=v=l.createElement("link");wt(C),Xt(C,"link",t),C._p=new Promise(function(q,Y){C.onload=q,C.onerror=Y}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ku(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(m,v)}}}function YS(t,i){fa.X(t,i);var r=ro;if(r&&t){var l=Ti(r).hoistableScripts,d=lo(t),m=l.get(d);m||(m=r.querySelector(Ml(d)),m||(t=b({src:t,async:!0},i),(i=Hn.get(d))&&um(t,i),m=r.createElement("script"),wt(m),Xt(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function $S(t,i){fa.M(t,i);var r=ro;if(r&&t){var l=Ti(r).hoistableScripts,d=lo(t),m=l.get(d);m||(m=r.querySelector(Ml(d)),m||(t=b({src:t,async:!0,type:"module"},i),(i=Hn.get(d))&&um(t,i),m=r.createElement("script"),wt(m),Xt(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function Tv(t,i,r,l){var d=(d=xe.current)?Gu(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=oo(r.href),r=Ti(d).hoistableStyles,l=r.get(i),l||(l={type:"style",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=oo(r.href);var m=Ti(d).hoistableStyles,v=m.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,v),(m=d.querySelector(Ol(t)))&&!m._p&&(v.instance=m,v.state.loading=5),Hn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Hn.set(t,r),m||XS(d,t,r,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=lo(r),r=Ti(d).hoistableScripts,l=r.get(i),l||(l={type:"script",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function oo(t){return'href="'+hn(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function bv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function XS(t,i,r,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xt(i,"link",r),wt(i),t.head.appendChild(i))}function lo(t){return'[src="'+hn(t)+'"]'}function Ml(t){return"script[async]"+t}function Sv(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+hn(r.href)+'"]');if(l)return i.instance=l,wt(l),l;var d=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Xt(l,"style",d),Ku(l,r.precedence,t),i.instance=l;case"stylesheet":d=oo(r.href);var m=t.querySelector(Ol(d));if(m)return i.state.loading|=4,i.instance=m,wt(m),m;l=bv(r),(d=Hn.get(d))&&cm(l,d),m=(t.ownerDocument||t).createElement("link"),wt(m);var v=m;return v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),Xt(m,"link",l),i.state.loading|=4,Ku(m,r.precedence,t),i.instance=m;case"script":return m=lo(r.src),(d=t.querySelector(Ml(m)))?(i.instance=d,wt(d),d):(l=r,(d=Hn.get(m))&&(l=b({},r),um(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),wt(d),Xt(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ku(l,r.precedence,t));return i.instance}function Ku(t,i,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)m=S;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Qu=null;function Av(t,i,r){if(Qu===null){var l=new Map,d=Qu=new Map;d.set(r,l)}else d=Qu,l=d.get(r),l||(l=new Map,d.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var m=r[d];if(!(m[vi]||m[At]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(m):l.set(v,[m])}}return l}function wv(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function JS(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Nv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ZS(t,i,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=oo(l.href),m=i.querySelector(Ol(d));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Yu.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=m,wt(m);return}m=i.ownerDocument||i,l=bv(l),(d=Hn.get(d))&&cm(l,d),m=m.createElement("link"),wt(m);var v=m;v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),Xt(m,"link",l),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Yu.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var hm=0;function WS(t,i){return t.stylesheets&&t.count===0&&Xu(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Xu(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&hm===0&&(hm=62500*OS());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Xu(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>hm?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Yu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $u=null;function Xu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$u=new Map,i.forEach(eA,t),$u=null,Yu.call(t))}function eA(t,i){if(!(i.state.loading&4)){var r=$u.get(t);if(r)var l=r.get(null);else{r=new Map,$u.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var v=d[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}d=i.instance,v=d.getAttribute("data-precedence"),m=r.get(v)||l,m===l&&r.set(null,d),r.set(v,d),this.count++,l=Yu.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Vl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function tA(t,i,r,l,d,m,v,S,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Rv(t,i,r,l,d,m,v,S,C,q,Y,Z){return t=new tA(t,i,r,v,C,q,Y,Z,S),i=1,m===!0&&(i|=24),m=Sn(3,null,null,i),t.current=m,m.stateNode=t,i=Hd(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:r,cache:i},Qd(m),t}function xv(t){return t?(t=Ur,t):Ur}function Cv(t,i,r,l,d,m){d=xv(d),l.context===null?l.context=d:l.pendingContext=d,l=qa(i),l.payload={element:r},m=m===void 0?null:m,m!==null&&(l.callback=m),r=Ha(t,l,i),r!==null&&(yn(r,t,i),fl(r,t,i))}function Iv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function dm(t,i){Iv(t,i),(t=t.alternate)&&Iv(t,i)}function Dv(t){if(t.tag===13||t.tag===31){var i=Gs(t,67108864);i!==null&&yn(i,t,67108864),dm(t,67108864)}}function jv(t){if(t.tag===13||t.tag===31){var i=xn();i=Os(i);var r=Gs(t,i);r!==null&&yn(r,t,i),dm(t,i)}}var Ju=!0;function nA(t,i,r,l){var d=$.T;$.T=null;var m=se.p;try{se.p=2,fm(t,i,r,l)}finally{se.p=m,$.T=d}}function iA(t,i,r,l){var d=$.T;$.T=null;var m=se.p;try{se.p=8,fm(t,i,r,l)}finally{se.p=m,$.T=d}}function fm(t,i,r,l){if(Ju){var d=mm(l);if(d===null)Wf(t,i,l,Zu,r),Mv(t,l);else if(sA(d,t,i,r,l))l.stopPropagation();else if(Mv(t,l),i&4&&-1<aA.indexOf(t)){for(;d!==null;){var m=jn(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=pi(m.pendingLanes);if(v!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var C=1<<31-gt(v);S.entanglements[1]|=C,v&=~C}Mi(m),(Fe&6)===0&&(Mu=ln()+500,Cl(0))}}break;case 31:case 13:S=Gs(m,2),S!==null&&yn(S,m,2),ku(),dm(m,2)}if(m=mm(l),m===null&&Wf(t,i,l,Zu,r),m===d)break;d=m}d!==null&&l.stopPropagation()}else Wf(t,i,l,null,r)}}function mm(t){return t=On(t),pm(t)}var Zu=null;function pm(t){if(Zu=null,t=Ei(t),t!==null){var i=c(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=h(i),t!==null)return t;t=null}else if(r===31){if(t=p(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Zu=t,null}function Ov(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cs()){case Lo:return 2;case Uo:return 8;case Ra:case Ed:return 32;case Ic:return 268435456;default:return 32}default:return 32}}var gm=!1,es=null,ts=null,ns=null,kl=new Map,Pl=new Map,is=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mv(t,i){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(i.pointerId)}}function Ll(t,i,r,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:r,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},i!==null&&(i=jn(i),i!==null&&Dv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function sA(t,i,r,l,d){switch(i){case"focusin":return es=Ll(es,t,i,r,l,d),!0;case"dragenter":return ts=Ll(ts,t,i,r,l,d),!0;case"mouseover":return ns=Ll(ns,t,i,r,l,d),!0;case"pointerover":var m=d.pointerId;return kl.set(m,Ll(kl.get(m)||null,t,i,r,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Pl.set(m,Ll(Pl.get(m)||null,t,i,r,l,d)),!0}return!1}function Vv(t){var i=Ei(t.target);if(i!==null){var r=c(i);if(r!==null){if(i=r.tag,i===13){if(i=h(r),i!==null){t.blockedOn=i,$n(t.priority,function(){jv(r)});return}}else if(i===31){if(i=p(r),i!==null){t.blockedOn=i,$n(t.priority,function(){jv(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=mm(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Jo=l,r.target.dispatchEvent(l),Jo=null}else return i=jn(r),i!==null&&Dv(i),t.blockedOn=r,!1;i.shift()}return!0}function kv(t,i,r){Wu(t)&&r.delete(i)}function rA(){gm=!1,es!==null&&Wu(es)&&(es=null),ts!==null&&Wu(ts)&&(ts=null),ns!==null&&Wu(ns)&&(ns=null),kl.forEach(kv),Pl.forEach(kv)}function eh(t,i){t.blockedOn===i&&(t.blockedOn=null,gm||(gm=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,rA)))}var th=null;function Pv(t){th!==t&&(th=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){th===t&&(th=null);for(var i=0;i<t.length;i+=3){var r=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(pm(l||r)===null)continue;break}var m=jn(r);m!==null&&(t.splice(i,3),i-=3,mf(m,{pending:!0,data:d,method:r.method,action:l},l,d))}}))}function co(t){function i(C){return eh(C,t)}es!==null&&eh(es,t),ts!==null&&eh(ts,t),ns!==null&&eh(ns,t),kl.forEach(i),Pl.forEach(i);for(var r=0;r<is.length;r++){var l=is[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<is.length&&(r=is[0],r.blockedOn===null);)Vv(r),r.blockedOn===null&&is.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var d=r[l],m=r[l+1],v=d[zt]||null;if(typeof m=="function")v||Pv(r);else if(v){var S=null;if(m&&m.hasAttribute("formAction")){if(d=m,v=m[zt]||null)S=v.formAction;else if(pm(d)!==null)continue}else S=v.action;typeof S=="function"?r[l+1]=S:(r.splice(l,3),l-=3),Pv(r)}}}function Lv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function ym(t){this._internalRoot=t}nh.prototype.render=ym.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var r=i.current,l=xn();Cv(r,l,t,i,null,null)},nh.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Cv(t.current,2,null,t,null,null),ku(),i[_i]=null}};function nh(t){this._internalRoot=t}nh.prototype.unstable_scheduleHydration=function(t){if(t){var i=kc();t={blockedOn:null,target:t,priority:i};for(var r=0;r<is.length&&i!==0&&i<is[r].priority;r++);is.splice(r,0,t),r===0&&Vv(t)}};var Uv=e.version;if(Uv!=="19.2.0")throw Error(s(527,Uv,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var oA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Qn=ih.inject(oA),Gt=ih}catch{}}return zl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var r=!1,l="",d=Ky,m=Qy,v=Yy;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Rv(t,1,!1,null,null,r,l,null,d,m,v,Lv),t[_i]=i.current,Zf(t),new ym(i)},zl.hydrateRoot=function(t,i,r){if(!o(t))throw Error(s(299));var l=!1,d="",m=Ky,v=Qy,S=Yy,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),i=Rv(t,1,!0,i,r??null,l,d,C,m,v,S,Lv),i.context=xv(null),r=i.current,l=xn(),l=Os(l),d=qa(l),d.callback=null,Ha(r,d,l),r=l,i.current.lanes=r,Ds(i,r),Mi(i),t[_i]=i.current,Zf(t),new nh(i)},zl.version="19.2.0",zl}var $v;function yA(){if($v)return Em.exports;$v=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Em.exports=gA(),Em.exports}var _A=yA();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xv="popstate";function vA(a={}){function e(o,c){let{pathname:h="/",search:p="",hash:g=""}=fr(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Bm("",{pathname:h,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let h=o.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof c=="string"?c:nc(c))}function s(o,c){Kn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return TA(e,n,s,a)}function ht(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Kn(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EA(){return Math.random().toString(36).substring(2,10)}function Jv(a,e){return{usr:a.state,key:a.key,idx:e}}function Bm(a,e,n=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?fr(e):e,state:n,key:e&&e.key||s||EA()}}function nc({pathname:a="/",search:e="",hash:n=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(a+=n.charAt(0)==="#"?n:"#"+n),a}function fr(a){let e={};if(a){let n=a.indexOf("#");n>=0&&(e.hash=a.substring(n),a=a.substring(0,n));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function TA(a,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,h=o.history,p="POP",g=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function b(){p="POP";let P=E(),J=P==null?null:P-y;y=P,g&&g({action:p,location:Q.location,delta:J})}function w(P,J){p="PUSH";let ne=Bm(Q.location,P,J);n&&n(ne,P),y=E()+1;let ie=Jv(ne,y),ge=Q.createHref(ne);try{h.pushState(ie,"",ge)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;o.location.assign(ge)}c&&g&&g({action:p,location:Q.location,delta:1})}function k(P,J){p="REPLACE";let ne=Bm(Q.location,P,J);n&&n(ne,P),y=E();let ie=Jv(ne,y),ge=Q.createHref(ne);h.replaceState(ie,"",ge),c&&g&&g({action:p,location:Q.location,delta:0})}function F(P){return bA(P)}let Q={get action(){return p},get location(){return a(o,h)},listen(P){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Xv,b),g=P,()=>{o.removeEventListener(Xv,b),g=null}},createHref(P){return e(o,P)},createURL:F,encodeLocation(P){let J=F(P);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:k,go(P){return h.go(P)}};return Q}function bA(a,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:nc(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function UT(a,e,n="/"){return SA(a,e,n,!1)}function SA(a,e,n,s){let o=typeof e=="string"?fr(e):e,c=va(o.pathname||"/",n);if(c==null)return null;let h=zT(a);AA(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=VA(c);p=OA(h[g],y,s)}return p}function zT(a,e=[],n=[],s="",o=!1){let c=(h,p,g=o,y)=>{let E={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ht(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=ga([s,E.relativePath]),w=n.concat(E);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),zT(h.children,e,w,b,g)),!(h.path==null&&!h.index)&&e.push({path:b,score:DA(b,h.index),routesMeta:w})};return a.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))c(h,p);else for(let g of BT(h.path))c(h,p,!0,g)}),e}function BT(a){let e=a.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let h=BT(s.join("/")),p=[];return p.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...h),p.map(g=>a.startsWith("/")&&g===""?"/":g)}function AA(a){a.sort((e,n)=>e.score!==n.score?n.score-e.score:jA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var wA=/^:[\w-]+$/,NA=3,RA=2,xA=1,CA=10,IA=-2,Zv=a=>a==="*";function DA(a,e){let n=a.split("/"),s=n.length;return n.some(Zv)&&(s+=IA),e&&(s+=RA),n.filter(o=>!Zv(o)).reduce((o,c)=>o+(wA.test(c)?NA:c===""?xA:CA),s)}function jA(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function OA(a,e,n=!1){let{routesMeta:s}=a,o={},c="/",h=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",b=wh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=wh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:ga([c,b.pathname]),pathnameBase:UA(ga([c,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(c=ga([c,b.pathnameBase]))}return h}function wh(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,s]=MA(a.path,a.caseSensitive,a.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},w)=>{if(E==="*"){let F=p[w]||"";h=c.slice(0,c.length-F.length).replace(/(.)\/+$/,"$1")}const k=p[w];return b&&!k?y[E]=void 0:y[E]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:a}}function MA(a,e=!1,n=!0){Kn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function VA(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function va(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=a.charAt(n);return s&&s!=="/"?null:a.slice(n)||"/"}function kA(a,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof a=="string"?fr(a):a;return{pathname:n?n.startsWith("/")?n:PA(n,e):e,search:zA(s),hash:BA(o)}}function PA(a,e){let n=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Am(a,e,n,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LA(a){return a.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _p(a){let e=LA(a);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function vp(a,e,n,s=!1){let o;typeof a=="string"?o=fr(a):(o={...a},ht(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let c=a===""||o.pathname==="",h=c?"/":o.pathname,p;if(h==null)p=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}p=b>=0?e[b]:"/"}let g=kA(o,p),y=h&&h!=="/"&&h.endsWith("/"),E=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var ga=a=>a.join("/").replace(/\/\/+/g,"/"),UA=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),zA=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,BA=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function qA(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var qT=["POST","PUT","PATCH","DELETE"];new Set(qT);var HA=["GET",...qT];new Set(HA);var Ro=D.createContext(null);Ro.displayName="DataRouter";var Yh=D.createContext(null);Yh.displayName="DataRouterState";D.createContext(!1);var HT=D.createContext({isTransitioning:!1});HT.displayName="ViewTransition";var FA=D.createContext(new Map);FA.displayName="Fetchers";var GA=D.createContext(null);GA.displayName="Await";var hi=D.createContext(null);hi.displayName="Navigation";var fc=D.createContext(null);fc.displayName="Location";var di=D.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Ep=D.createContext(null);Ep.displayName="RouteError";function KA(a,{relative:e}={}){ht(xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(hi),{hash:o,pathname:c,search:h}=pc(a,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:ga([n,c])),s.createHref({pathname:p,search:h,hash:o})}function xo(){return D.useContext(fc)!=null}function Aa(){return ht(xo(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(fc).location}var FT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GT(a){D.useContext(hi).static||D.useLayoutEffect(a)}function mc(){let{isDataRoute:a}=D.useContext(di);return a?sw():QA()}function QA(){ht(xo(),"useNavigate() may be used only in the context of a <Router> component.");let a=D.useContext(Ro),{basename:e,navigator:n}=D.useContext(hi),{matches:s}=D.useContext(di),{pathname:o}=Aa(),c=JSON.stringify(_p(s)),h=D.useRef(!1);return GT(()=>{h.current=!0}),D.useCallback((g,y={})=>{if(Kn(h.current,FT),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=vp(g,JSON.parse(c),o,y.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ga([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,c,o,a])}D.createContext(null);function bs(){let{matches:a}=D.useContext(di),e=a[a.length-1];return e?e.params:{}}function pc(a,{relative:e}={}){let{matches:n}=D.useContext(di),{pathname:s}=Aa(),o=JSON.stringify(_p(n));return D.useMemo(()=>vp(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function YA(a,e){return KT(a,e)}function KT(a,e,n,s,o){ht(xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=D.useContext(hi),{matches:h}=D.useContext(di),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",E=p?p.pathnameBase:"/",b=p&&p.route;{let ne=b&&b.path||"";QT(y,!b||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let w=Aa(),k;if(e){let ne=typeof e=="string"?fr(e):e;ht(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),k=ne}else k=w;let F=k.pathname||"/",Q=F;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");Q="/"+F.replace(/^\//,"").split("/").slice(ne.length).join("/")}let P=UT(a,{pathname:Q});Kn(b||P!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Kn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=WA(P&&P.map(ne=>Object.assign({},ne,{params:Object.assign({},g,ne.params),pathname:ga([E,c.encodeLocation?c.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:ga([E,c.encodeLocation?c.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),h,n,s,o);return e&&J?D.createElement(fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},J):J}function $A(){let a=aw(),e=qA(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",a),h=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:c},"ErrorBoundary")," or"," ",D.createElement("code",{style:c},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:o},n):null,h)}var XA=D.createElement($A,null),JA=class extends D.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.unstable_onError?this.props.unstable_onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?D.createElement(di.Provider,{value:this.props.routeContext},D.createElement(Ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZA({routeContext:a,match:e,children:n}){let s=D.useContext(Ro);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(di.Provider,{value:a},n)}function WA(a,e=[],n=null,s=null,o=null){if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let c=a,h=n?.errors;if(h!=null){let y=c.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);ht(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,g=-1;if(n)for(let y=0;y<c.length;y++){let E=c[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=y),E.route.id){let{loaderData:b,errors:w}=n,k=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||k){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,E,b)=>{let w,k=!1,F=null,Q=null;n&&(w=h&&E.route.id?h[E.route.id]:void 0,F=E.route.errorElement||XA,p&&(g<0&&b===0?(QT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,Q=null):g===b&&(k=!0,Q=E.route.hydrateFallbackElement||null)));let P=e.concat(c.slice(0,b+1)),J=()=>{let ne;return w?ne=F:k?ne=Q:E.route.Component?ne=D.createElement(E.route.Component,null):E.route.element?ne=E.route.element:ne=y,D.createElement(ZA,{match:E,routeContext:{outlet:y,matches:P,isDataRoute:n!=null},children:ne})};return n&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?D.createElement(JA,{location:n.location,revalidation:n.revalidation,component:F,error:w,children:J(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:s}):J()},null)}function Tp(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ew(a){let e=D.useContext(Ro);return ht(e,Tp(a)),e}function tw(a){let e=D.useContext(Yh);return ht(e,Tp(a)),e}function nw(a){let e=D.useContext(di);return ht(e,Tp(a)),e}function bp(a){let e=nw(a),n=e.matches[e.matches.length-1];return ht(n.route.id,`${a} can only be used on routes that contain a unique "id"`),n.route.id}function iw(){return bp("useRouteId")}function aw(){let a=D.useContext(Ep),e=tw("useRouteError"),n=bp("useRouteError");return a!==void 0?a:e.errors?.[n]}function sw(){let{router:a}=ew("useNavigate"),e=bp("useNavigate"),n=D.useRef(!1);return GT(()=>{n.current=!0}),D.useCallback(async(o,c={})=>{Kn(n.current,FT),n.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...c}))},[a,e])}var Wv={};function QT(a,e,n){!e&&!Wv[a]&&(Wv[a]=!0,Kn(!1,n))}D.memo(rw);function rw({routes:a,future:e,state:n,unstable_onError:s}){return KT(a,void 0,n,s,e)}function wm({to:a,replace:e,state:n,relative:s}){ht(xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(hi);Kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=D.useContext(di),{pathname:h}=Aa(),p=mc(),g=vp(a,_p(c),h,s==="path"),y=JSON.stringify(g);return D.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:s})},[p,y,s,e,n]),null}function pt(a){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ow({basename:a="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1}){ht(!xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=a.replace(/^\/*/,"/"),p=D.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof n=="string"&&(n=fr(n));let{pathname:g="/",search:y="",hash:E="",state:b=null,key:w="default"}=n,k=D.useMemo(()=>{let F=va(g,h);return F==null?null:{location:{pathname:F,search:y,hash:E,state:b,key:w},navigationType:s}},[h,g,y,E,b,w,s]);return Kn(k!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:D.createElement(hi.Provider,{value:p},D.createElement(fc.Provider,{children:e,value:k}))}function lw({children:a,location:e}){return YA(qm(a),e)}function qm(a,e=[]){let n=[];return D.Children.forEach(a,(s,o)=>{if(!D.isValidElement(s))return;let c=[...e,o];if(s.type===D.Fragment){n.push.apply(n,qm(s.props.children,c));return}ht(s.type===pt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=qm(s.props.children,c)),n.push(h)}),n}var dh="get",fh="application/x-www-form-urlencoded";function $h(a){return a!=null&&typeof a.tagName=="string"}function cw(a){return $h(a)&&a.tagName.toLowerCase()==="button"}function uw(a){return $h(a)&&a.tagName.toLowerCase()==="form"}function hw(a){return $h(a)&&a.tagName.toLowerCase()==="input"}function dw(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function fw(a,e){return a.button===0&&(!e||e==="_self")&&!dw(a)}var ah=null;function mw(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var pw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nm(a){return a!=null&&!pw.has(a)?(Kn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):a}function gw(a,e){let n,s,o,c,h;if(uw(a)){let p=a.getAttribute("action");s=p?va(p,e):null,n=a.getAttribute("method")||dh,o=Nm(a.getAttribute("enctype"))||fh,c=new FormData(a)}else if(cw(a)||hw(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||p.getAttribute("action");if(s=g?va(g,e):null,n=a.getAttribute("formmethod")||p.getAttribute("method")||dh,o=Nm(a.getAttribute("formenctype"))||Nm(p.getAttribute("enctype"))||fh,c=new FormData(p,a),!mw()){let{name:y,type:E,value:b}=a;if(E==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,b)}}else{if($h(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,s=null,o=fh,h=a}return c&&o==="text/plain"&&(h=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sp(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function yw(a,e,n){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&va(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function _w(a,e){if(a.id in e)return e[a.id];try{let n=await import(a.module);return e[a.id]=n,n}catch(n){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vw(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function Ew(a,e,n){let s=await Promise.all(a.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await _w(c,n);return h.links?h.links():[]}return[]}));return Aw(s.flat(1).filter(vw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function eE(a,e,n,s,o,c){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Tw(a,e,{includeHydrateFallback:n}={}){return bw(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function bw(a){return[...new Set(a)]}function Sw(a){let e={},n=Object.keys(a).sort();for(let s of n)e[s]=a[s];return e}function Aw(a,e){let n=new Set;return new Set(e),a.reduce((s,o)=>{let c=JSON.stringify(Sw(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function YT(){let a=D.useContext(Ro);return Sp(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function ww(){let a=D.useContext(Yh);return Sp(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Ap=D.createContext(void 0);Ap.displayName="FrameworkContext";function $T(){let a=D.useContext(Ap);return Sp(a,"You must render this element inside a <HydratedRouter> element"),a}function Nw(a,e){let n=D.useContext(Ap),[s,o]=D.useState(!1),[c,h]=D.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,w=D.useRef(null);D.useEffect(()=>{if(a==="render"&&h(!0),a==="viewport"){let Q=J=>{J.forEach(ne=>{h(ne.isIntersecting)})},P=new IntersectionObserver(Q,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[a]),D.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let k=()=>{o(!0)},F=()=>{o(!1),h(!1)};return n?a!=="intent"?[c,w,{}]:[c,w,{onFocus:Bl(p,k),onBlur:Bl(g,F),onMouseEnter:Bl(y,k),onMouseLeave:Bl(E,F),onTouchStart:Bl(b,k)}]:[!1,w,{}]}function Bl(a,e){return n=>{a&&a(n),n.defaultPrevented||e(n)}}function Rw({page:a,...e}){let{router:n}=YT(),s=D.useMemo(()=>UT(n.routes,a,n.basename),[n.routes,a,n.basename]);return s?D.createElement(Cw,{page:a,matches:s,...e}):null}function xw(a){let{manifest:e,routeModules:n}=$T(),[s,o]=D.useState([]);return D.useEffect(()=>{let c=!1;return Ew(a,e,n).then(h=>{c||o(h)}),()=>{c=!0}},[a,e,n]),s}function Cw({page:a,matches:e,...n}){let s=Aa(),{manifest:o,routeModules:c}=$T(),{basename:h}=YT(),{loaderData:p,matches:g}=ww(),y=D.useMemo(()=>eE(a,e,g,o,s,"data"),[a,e,g,o,s]),E=D.useMemo(()=>eE(a,e,g,o,s,"assets"),[a,e,g,o,s]),b=D.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let F=new Set,Q=!1;if(e.forEach(J=>{let ne=o.routes[J.route.id];!ne||!ne.hasLoader||(!y.some(ie=>ie.route.id===J.route.id)&&J.route.id in p&&c[J.route.id]?.shouldRevalidate||ne.hasClientLoader?Q=!0:F.add(J.route.id))}),F.size===0)return[];let P=yw(a,h,"data");return Q&&F.size>0&&P.searchParams.set("_routes",e.filter(J=>F.has(J.route.id)).map(J=>J.route.id).join(",")),[P.pathname+P.search]},[h,p,s,o,y,e,a,c]),w=D.useMemo(()=>Tw(E,o),[E,o]),k=xw(E);return D.createElement(D.Fragment,null,b.map(F=>D.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),w.map(F=>D.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),k.map(({key:F,link:Q})=>D.createElement("link",{key:F,nonce:n.nonce,...Q})))}function Iw(...a){return e=>{a.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var XT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XT&&(window.__reactRouterVersion="7.9.4")}catch{}function Dw({basename:a,children:e,window:n}){let s=D.useRef();s.current==null&&(s.current=vA({window:n,v5Compat:!0}));let o=s.current,[c,h]=D.useState({action:o.action,location:o.location}),p=D.useCallback(g=>{D.startTransition(()=>h(g))},[h]);return D.useLayoutEffect(()=>o.listen(p),[o,p]),D.createElement(ow,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:o})}var JT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ue=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:h,state:p,target:g,to:y,preventScrollReset:E,viewTransition:b,...w},k){let{basename:F}=D.useContext(hi),Q=typeof y=="string"&&JT.test(y),P,J=!1;if(typeof y=="string"&&Q&&(P=y,XT))try{let R=new URL(window.location.href),V=y.startsWith("//")?new URL(R.protocol+y):new URL(y),j=va(V.pathname,F);V.origin===R.origin&&j!=null?y=j+V.search+V.hash:J=!0}catch{Kn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=KA(y,{relative:o}),[ie,ge,Ae]=Nw(s,w),we=Vw(y,{replace:h,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:b});function I(R){e&&e(R),R.defaultPrevented||we(R)}let N=D.createElement("a",{...w,...Ae,href:P||ne,onClick:J||c?e:I,ref:Iw(k,ge),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return ie&&!Q?D.createElement(D.Fragment,null,N,D.createElement(Rw,{page:ne})):N});ue.displayName="Link";var jw=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:h,viewTransition:p,children:g,...y},E){let b=pc(h,{relative:y.relative}),w=Aa(),k=D.useContext(Yh),{navigator:F,basename:Q}=D.useContext(hi),P=k!=null&&zw(b)&&p===!0,J=F.encodeLocation?F.encodeLocation(b).pathname:b.pathname,ne=w.pathname,ie=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,J=J.toLowerCase()),ie&&Q&&(ie=va(ie,Q)||ie);const ge=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let Ae=ne===J||!o&&ne.startsWith(J)&&ne.charAt(ge)==="/",we=ie!=null&&(ie===J||!o&&ie.startsWith(J)&&ie.charAt(J.length)==="/"),I={isActive:Ae,isPending:we,isTransitioning:P},N=Ae?e:void 0,R;typeof s=="function"?R=s(I):R=[s,Ae?"active":null,we?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(I):c;return D.createElement(ue,{...y,"aria-current":N,className:R,ref:E,style:V,to:h,viewTransition:p},typeof g=="function"?g(I):g)});jw.displayName="NavLink";var Ow=D.forwardRef(({discover:a="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:h=dh,action:p,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:b,...w},k)=>{let F=Lw(),Q=Uw(p,{relative:y}),P=h.toLowerCase()==="get"?"get":"post",J=typeof p=="string"&&JT.test(p),ne=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let ge=ie.nativeEvent.submitter,Ae=ge?.getAttribute("formmethod")||h;F(ge||ie.currentTarget,{fetcherKey:e,method:Ae,navigate:n,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:b})};return D.createElement("form",{ref:k,method:P,action:Q,onSubmit:s?g:ne,...w,"data-discover":!J&&a==="render"?"true":void 0})});Ow.displayName="Form";function Mw(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZT(a){let e=D.useContext(Ro);return ht(e,Mw(a)),e}function Vw(a,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:h}={}){let p=mc(),g=Aa(),y=pc(a,{relative:c});return D.useCallback(E=>{if(fw(E,e)){E.preventDefault();let b=n!==void 0?n:nc(g)===nc(y);p(a,{replace:b,state:s,preventScrollReset:o,relative:c,viewTransition:h})}},[g,p,y,n,s,e,a,o,c,h])}var kw=0,Pw=()=>`__${String(++kw)}__`;function Lw(){let{router:a}=ZT("useSubmit"),{basename:e}=D.useContext(hi),n=iw();return D.useCallback(async(s,o={})=>{let{action:c,method:h,encType:p,formData:g,body:y}=gw(s,e);if(o.navigate===!1){let E=o.fetcherKey||Pw();await a.fetch(E,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,n])}function Uw(a,{relative:e}={}){let{basename:n}=D.useContext(hi),s=D.useContext(di);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...pc(a||".",{relative:e})},h=Aa();if(a==null){c.search=h.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let E=p.toString();c.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ga([n,c.pathname])),nc(c)}function zw(a,{relative:e}={}){let n=D.useContext(HT);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ZT("useViewTransitionState"),o=pc(a,{relative:e});if(!n.isTransitioning)return!1;let c=va(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=va(n.nextLocation.pathname,s)||n.nextLocation.pathname;return wh(o.pathname,h)!=null||wh(o.pathname,c)!=null}const Bw=()=>{};var tE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=function(a){const e=[];let n=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qw=function(a){const e=[];let n=0,s=0;for(;n<a.length;){const o=a[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[n++],h=a[n++],p=a[n++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=a[n++],h=a[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},e0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const c=a[o],h=o+1<a.length,p=h?a[o+1]:0,g=o+2<a.length,y=g?a[o+2]:0,E=c>>2,b=(c&3)<<4|p>>4;let w=(p&15)<<2|y>>6,k=y&63;g||(k=64,h||(w=64)),s.push(n[E],n[b],n[w],n[k])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(WT(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):qw(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const c=n[a.charAt(o++)],p=o<a.length?n[a.charAt(o)]:0;++o;const y=o<a.length?n[a.charAt(o)]:64;++o;const b=o<a.length?n[a.charAt(o)]:64;if(++o,c==null||p==null||y==null||b==null)throw new Hw;const w=c<<2|p>>4;if(s.push(w),y!==64){const k=p<<4&240|y>>2;if(s.push(k),b!==64){const F=y<<6&192|b;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Hw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fw=function(a){const e=WT(a);return e0.encodeByteArray(e,!0)},Nh=function(a){return Fw(a).replace(/\./g,"")},t0=function(a){try{return e0.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=()=>Gw().__FIREBASE_DEFAULTS__,Qw=()=>{if(typeof process>"u"||typeof tE>"u")return;const a=tE.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Yw=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&t0(a[1]);return e&&JSON.parse(e)},Xh=()=>{try{return Bw()||Kw()||Qw()||Yw()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},n0=a=>Xh()?.emulatorHosts?.[a],i0=a=>{const e=n0(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},a0=()=>Xh()?.config,s0=a=>Xh()?.[`_${a}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wp(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Nh(JSON.stringify(n)),Nh(JSON.stringify(h)),""].join(".")}const $l={};function Xw(){const a={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?a.emulator.push(e):a.prod.push(e);return a}function Jw(a){let e=document.getElementById(a),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),n=!0),{created:n,element:e}}let nE=!1;function Np(a,e){if(typeof window>"u"||typeof document>"u"||!mr(window.location.host)||$l[a]===e||$l[a]||nE)return;$l[a]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=Xw().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{nE=!0,h()},w}function E(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=Jw(s),k=n("text"),F=document.getElementById(k)||document.createElement("span"),Q=n("learnmore"),P=document.getElementById(Q)||document.createElement("a"),J=n("preprendIcon"),ne=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ie=w.element;p(ie),E(P,Q);const ge=y();g(ne,J),ie.append(ne,F,P,ge),document.body.appendChild(ie)}c?(F.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function Ww(){const a=Xh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tN(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function nN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iN(){const a=sn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function aN(){return!Ww()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sN(){try{return typeof indexedDB=="object"}catch{return!1}}function rN(){return new Promise((a,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="FirebaseError";class Ki extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=oN,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?lN(c,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Ki(o,p,s)}}function lN(a,e){return a.replace(cN,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const cN=/\{\$([^}]+)}/g;function uN(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function or(a,e){if(a===e)return!0;const n=Object.keys(a),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=a[o],h=e[o];if(iE(c)&&iE(h)){if(!or(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function iE(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(a){const e=[];for(const[n,s]of Object.entries(a))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ql(a){const e={};return a.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Hl(a){const e=a.indexOf("?");if(!e)return"";const n=a.indexOf("#",e);return a.substring(e,n>0?n:void 0)}function hN(a,e){const n=new dN(a,e);return n.subscribe.bind(n)}class dN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Rm),o.error===void 0&&(o.error=Rm),o.complete===void 0&&(o.complete=Rm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fN(a,e){if(typeof a!="object"||a===null)return!1;for(const n of e)if(n in a&&typeof a[n]=="function")return!0;return!1}function Rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(a){return a&&a._delegate?a._delegate:a}class ps{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new $w;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gN(e))try{this.getOrInitializeService({instanceIdentifier:ar})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ar){return this.instances.has(e)}getOptions(e=ar){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pN(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ar){return this.component?this.component.multipleInstances?e:ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pN(a){return a===ar?void 0:a}function gN(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Me||(Me={}));const _N={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},vN=Me.INFO,EN={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},TN=(a,e,...n)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=EN[e];if(o)console[o](`[${s}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rp{constructor(e){this.name=e,this._logLevel=vN,this._logHandler=TN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_N[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const bN=(a,e)=>e.some(n=>a instanceof n);let aE,sE;function SN(){return aE||(aE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AN(){return sE||(sE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o0=new WeakMap,Hm=new WeakMap,l0=new WeakMap,xm=new WeakMap,xp=new WeakMap;function wN(a){const e=new Promise((n,s)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",h)},c=()=>{n(hs(a.result)),o()},h=()=>{s(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&o0.set(n,a)}).catch(()=>{}),xp.set(e,a),e}function NN(a){if(Hm.has(a))return;const e=new Promise((n,s)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",h),a.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",h),a.addEventListener("abort",h)});Hm.set(a,e)}let Fm={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return Hm.get(a);if(e==="objectStoreNames")return a.objectStoreNames||l0.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function RN(a){Fm=a(Fm)}function xN(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=a.call(Cm(this),e,...n);return l0.set(s,e.sort?e.sort():[e]),hs(s)}:AN().includes(a)?function(...e){return a.apply(Cm(this),e),hs(o0.get(this))}:function(...e){return hs(a.apply(Cm(this),e))}}function CN(a){return typeof a=="function"?xN(a):(a instanceof IDBTransaction&&NN(a),bN(a,SN())?new Proxy(a,Fm):a)}function hs(a){if(a instanceof IDBRequest)return wN(a);if(xm.has(a))return xm.get(a);const e=CN(a);return e!==a&&(xm.set(a,e),xp.set(e,a)),e}const Cm=a=>xp.get(a);function IN(a,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(a,e),p=hs(h);return s&&h.addEventListener("upgradeneeded",g=>{s(hs(h.result),g.oldVersion,g.newVersion,hs(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const DN=["get","getKey","getAll","getAllKeys","count"],jN=["put","add","delete","clear"],Im=new Map;function rE(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=jN.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||DN.includes(n)))return;const c=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Im.set(e,c),c}RN(a=>({...a,get:(e,n,s)=>rE(e,n)||a.get(e,n,s),has:(e,n)=>!!rE(e,n)||a.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MN(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function MN(a){return a.getComponent()?.type==="VERSION"}const Gm="@firebase/app",oE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new Rp("@firebase/app"),VN="@firebase/app-compat",kN="@firebase/analytics-compat",PN="@firebase/analytics",LN="@firebase/app-check-compat",UN="@firebase/app-check",zN="@firebase/auth",BN="@firebase/auth-compat",qN="@firebase/database",HN="@firebase/data-connect",FN="@firebase/database-compat",GN="@firebase/functions",KN="@firebase/functions-compat",QN="@firebase/installations",YN="@firebase/installations-compat",$N="@firebase/messaging",XN="@firebase/messaging-compat",JN="@firebase/performance",ZN="@firebase/performance-compat",WN="@firebase/remote-config",eR="@firebase/remote-config-compat",tR="@firebase/storage",nR="@firebase/storage-compat",iR="@firebase/firestore",aR="@firebase/ai",sR="@firebase/firestore-compat",rR="firebase",oR="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="[DEFAULT]",lR={[Gm]:"fire-core",[VN]:"fire-core-compat",[PN]:"fire-analytics",[kN]:"fire-analytics-compat",[UN]:"fire-app-check",[LN]:"fire-app-check-compat",[zN]:"fire-auth",[BN]:"fire-auth-compat",[qN]:"fire-rtdb",[HN]:"fire-data-connect",[FN]:"fire-rtdb-compat",[GN]:"fire-fn",[KN]:"fire-fn-compat",[QN]:"fire-iid",[YN]:"fire-iid-compat",[$N]:"fire-fcm",[XN]:"fire-fcm-compat",[JN]:"fire-perf",[ZN]:"fire-perf-compat",[WN]:"fire-rc",[eR]:"fire-rc-compat",[tR]:"fire-gcs",[nR]:"fire-gcs-compat",[iR]:"fire-fst",[sR]:"fire-fst-compat",[aR]:"fire-vertex","fire-js":"fire-js",[rR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,cR=new Map,Qm=new Map;function lE(a,e){try{a.container.addComponent(e)}catch(n){Ea.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function lr(a){const e=a.name;if(Qm.has(e))return Ea.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,a);for(const n of Rh.values())lE(n,a);for(const n of cR.values())lE(n,a);return!0}function Jh(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function Cn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new gc("app","Firebase",uR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=oR;function c0(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const s={name:Km,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ds.create("bad-app-name",{appName:String(o)});if(n||(n=a0()),!n)throw ds.create("no-options");const c=Rh.get(o);if(c){if(or(n,c.options)&&or(s,c.config))return c;throw ds.create("duplicate-app",{appName:o})}const h=new yN(o);for(const g of Qm.values())h.addComponent(g);const p=new hR(n,s,h);return Rh.set(o,p),p}function Cp(a=Km){const e=Rh.get(a);if(!e&&a===Km&&a0())return c0();if(!e)throw ds.create("no-app",{appName:a});return e}function ki(a,e,n){let s=lR[a]??a;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ea.warn(h.join(" "));return}lr(new ps(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firebase-heartbeat-database",fR=1,ic="firebase-heartbeat-store";let Dm=null;function u0(){return Dm||(Dm=IN(dR,fR,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(ic)}catch(n){console.warn(n)}}}}).catch(a=>{throw ds.create("idb-open",{originalErrorMessage:a.message})})),Dm}async function mR(a){try{const n=(await u0()).transaction(ic),s=await n.objectStore(ic).get(h0(a));return await n.done,s}catch(e){if(e instanceof Ki)Ea.warn(e.message);else{const n=ds.create("idb-get",{originalErrorMessage:e?.message});Ea.warn(n.message)}}}async function cE(a,e){try{const s=(await u0()).transaction(ic,"readwrite");await s.objectStore(ic).put(e,h0(a)),await s.done}catch(n){if(n instanceof Ki)Ea.warn(n.message);else{const s=ds.create("idb-set",{originalErrorMessage:n?.message});Ea.warn(s.message)}}}function h0(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=1024,gR=30;class yR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=uE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>gR){const o=ER(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ea.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=uE(),{heartbeatsToSend:n,unsentEntries:s}=_R(this._heartbeatsCache.heartbeats),o=Nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ea.warn(e),""}}}function uE(){return new Date().toISOString().substring(0,10)}function _R(a,e=pR){const n=[];let s=a.slice();for(const o of a){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),hE(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),hE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class vR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sN()?rN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return cE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return cE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function hE(a){return Nh(JSON.stringify({version:2,heartbeats:a})).length}function ER(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let s=1;s<a.length;s++)a[s].date<n&&(n=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(a){lr(new ps("platform-logger",e=>new ON(e),"PRIVATE")),lr(new ps("heartbeat",e=>new yR(e),"PRIVATE")),ki(Gm,oE,a),ki(Gm,oE,"esm2020"),ki("fire-js","")}TR("");function d0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bR=d0,f0=new gc("auth","Firebase",d0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Rp("@firebase/auth");function SR(a,...e){xh.logLevel<=Me.WARN&&xh.warn(`Auth (${pr}): ${a}`,...e)}function mh(a,...e){xh.logLevel<=Me.ERROR&&xh.error(`Auth (${pr}): ${a}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(a,...e){throw Ip(a,...e)}function Pi(a,...e){return Ip(a,...e)}function m0(a,e,n){const s={...bR(),[e]:n};return new gc("auth","Firebase",s).create(e,{appName:a.name})}function ya(a){return m0(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ip(a,...e){if(typeof a!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(n,...s)}return f0.create(a,...e)}function _e(a,e,...n){if(!a)throw Ip(e,...n)}function ma(a){const e="INTERNAL ASSERTION FAILED: "+a;throw mh(e),new Error(e)}function Ta(a,e){a||ma(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(){return typeof self<"u"&&self.location?.href||""}function AR(){return dE()==="http:"||dE()==="https:"}function dE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AR()||tN()||"connection"in navigator)?navigator.onLine:!0}function NR(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ta(n>e,"Short delay should be less than long delay!"),this.isMobile=Zw()||nN()}get(){return wR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(a,e){Ta(a.emulator,"Emulator should always be set here");const{url:n}=a.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CR=new _c(3e4,6e4);function Ss(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function As(a,e,n,s,o={}){return g0(a,o,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const p=yc({key:a.config.apiKey,...h}).slice(1),g=await a._getAdditionalHeaders();g["Content-Type"]="application/json",a.languageCode&&(g["X-Firebase-Locale"]=a.languageCode);const y={method:e,headers:g,...c};return eN()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&mr(a.emulatorConfig.host)&&(y.credentials="include"),p0.fetch()(await y0(a,a.config.apiHost,n,p),y)})}async function g0(a,e,n){a._canInitEmulator=!1;const s={...RR,...e};try{const o=new DR(a),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw sh(a,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(a,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw sh(a,"email-already-in-use",h);if(g==="USER_DISABLED")throw sh(a,"user-disabled",h);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw m0(a,E,y);oi(a,E)}}catch(o){if(o instanceof Ki)throw o;oi(a,"network-request-failed",{message:String(o)})}}async function vc(a,e,n,s,o={}){const c=await As(a,e,n,s,o);return"mfaPendingCredential"in c&&oi(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function y0(a,e,n,s){const o=`${e}${n}?${s}`,c=a,h=c.config.emulator?Dp(a.config,o):`${a.config.apiScheme}://${o}`;return xR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function IR(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pi(this.auth,"network-request-failed")),CR.get())})}}function sh(a,e,n){const s={appName:a.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Pi(a,e,s);return o.customData._tokenResponse=n,o}function fE(a){return a!==void 0&&a.enterprise!==void 0}class jR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OR(a,e){return As(a,"GET","/v2/recaptchaConfig",Ss(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(a,e){return As(a,"POST","/v1/accounts:delete",e)}async function Ch(a,e){return As(a,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VR(a,e=!1){const n=Ut(a),s=await n.getIdToken(e),o=jp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:s,authTime:Xl(jm(o.auth_time)),issuedAtTime:Xl(jm(o.iat)),expirationTime:Xl(jm(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function jm(a){return Number(a)*1e3}function jp(a){const[e,n,s]=a.split(".");if(e===void 0||n===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=t0(n);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function mE(a){const e=jp(a);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(a,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ki&&kR(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function kR({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(a){const e=a.auth,n=await a.getIdToken(),s=await ac(a,Ch(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];a._notifyReloadListener(o);const c=o.providerUserInfo?.length?_0(o.providerUserInfo):[],h=UR(a.providerData,c),p=a.isAnonymous,g=!(a.email&&o.passwordHash)&&!h?.length,y=p?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(a,E)}async function LR(a){const e=Ut(a);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UR(a,e){return[...a.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function _0(a){return a.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(a,e){const n=await g0(a,{},async()=>{const s=yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=a.config,h=await y0(a,o,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return a.emulatorConfig&&mr(a.emulatorConfig.host)&&(g.credentials="include"),p0.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BR(a,e){return As(a,"POST","/v2/accounts:revokeToken",Ss(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=mE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await zR(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,h=new go;return s&&(_e(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(_e(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(a,e){_e(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class si{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new PR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ac(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VR(this,e)}reload(){return LR(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(ya(this.auth));const e=await this.getIdToken();return await ac(this,MR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:k,providerData:F,stsTokenManager:Q}=n;_e(b&&Q,e,"internal-error");const P=go.fromJSON(this.name,Q);_e(typeof b=="string",e,"internal-error"),ss(s,e.name),ss(o,e.name),_e(typeof w=="boolean",e,"internal-error"),_e(typeof k=="boolean",e,"internal-error"),ss(c,e.name),ss(h,e.name),ss(p,e.name),ss(g,e.name),ss(y,e.name),ss(E,e.name);const J=new si({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:k,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:P,createdAt:y,lastLoginAt:E});return F&&Array.isArray(F)&&(J.providerData=F.map(ne=>({...ne}))),g&&(J._redirectEventId=g),J}static async _fromIdTokenResponse(e,n,s=!1){const o=new go;o.updateFromServerResponse(n);const c=new si({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ih(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?_0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,p=new go;p.updateFromIdToken(s);const g=new si({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;function pa(a){Ta(a instanceof Function,"Expected a class definition");let e=pE.get(a);return e?(Ta(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,pE.set(a,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}v0.type="NONE";const gE=v0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(a,e,n){return`firebase:${a}:${e}:${n}`}class yo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,c),this.fullPersistenceKey=ph("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ch(this.auth,{idToken:e}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new yo(pa(gE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||pa(gE);const h=ph(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const E=await y._get(h);if(E){let b;if(typeof E=="string"){const w=await Ch(e,{idToken:E}).catch(()=>{});if(!w)break;b=await si._fromGetAccountInfoResponse(e,w,E)}else b=si._fromJSON(e,E);y!==c&&(p=b),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new yo(c,e,s):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new yo(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w0(e))return"Blackberry";if(N0(e))return"Webos";if(T0(e))return"Safari";if((e.includes("chrome/")||b0(e))&&!e.includes("edge/"))return"Chrome";if(A0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(n);if(s?.length===2)return s[1]}return"Other"}function E0(a=sn()){return/firefox\//i.test(a)}function T0(a=sn()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function b0(a=sn()){return/crios\//i.test(a)}function S0(a=sn()){return/iemobile/i.test(a)}function A0(a=sn()){return/android/i.test(a)}function w0(a=sn()){return/blackberry/i.test(a)}function N0(a=sn()){return/webos/i.test(a)}function Op(a=sn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function qR(a=sn()){return Op(a)&&!!window.navigator?.standalone}function HR(){return iN()&&document.documentMode===10}function R0(a=sn()){return Op(a)||A0(a)||N0(a)||w0(a)||/windows phone/i.test(a)||S0(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(a,e=[]){let n;switch(a){case"Browser":n=yE(sn());break;case"Worker":n=`${yE(sn())}-${a}`;break;default:n=a}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(a,e={}){return As(a,"GET","/v2/passwordPolicy",Ss(a,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=6;class QR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _E(this),this.idTokenSubscription=new _E(this),this.beforeStateQueue=new FR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ch(this,{idToken:e}),s=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Cn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(ya(this));const n=e?Ut(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GR(this),n=new QR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await BR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pa(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[pa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function gr(a){return Ut(a)}class _E{constructor(e){this.auth=e,this.observer=null,this.addObserver=hN(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $R(a){Zh=a}function C0(a){return Zh.loadJS(a)}function XR(){return Zh.recaptchaEnterpriseScript}function JR(){return Zh.gapiScript}function ZR(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class WR{constructor(){this.enterprise=new ex}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ex{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tx="recaptcha-enterprise",I0="NO_RECAPTCHA";class nx{constructor(e){this.type=tx,this.auth=gr(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{OR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new jR(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,h,p){const g=window.grecaptcha;fE(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(I0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WR().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(p=>{if(!n&&fE(window.grecaptcha))o(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=XR();g.length!==0&&(g+=p),C0(g).then(()=>{o(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function vE(a,e,n,s=!1,o=!1){const c=new nx(a);let h;if(o)h=I0;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Xm(a,e,n,s,o){if(a._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await vE(a,e,n,n==="getOobCode");return s(a,c)}else return s(a,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await vE(a,e,n,n==="getOobCode");return s(a,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(a,e){const n=Jh(a,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(or(c,e??{}))return o;oi(o,"already-initialized")}return n.initialize({options:e})}function ax(a,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(pa);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(s,e?.popupRedirectResolver)}function sx(a,e,n){const s=gr(a);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=D0(e),{host:h,port:p}=rx(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},E=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(or(y,s.config.emulator)&&or(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,mr(h)?(wp(`${c}//${h}${g}`),Np("Auth",!0)):ox()}function D0(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function rx(a){const e=D0(a),n=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:EE(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:EE(h)}}}function EE(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function ox(){function a(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ma("not implemented")}_getIdTokenResponse(e){return ma("not implemented")}_linkToIdToken(e,n){return ma("not implemented")}_getReauthenticationResolver(e){return ma("not implemented")}}async function lx(a,e){return As(a,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(a,e){return vc(a,"POST","/v1/accounts:signInWithPassword",Ss(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(a,e){return vc(a,"POST","/v1/accounts:signInWithEmailLink",Ss(a,e))}async function hx(a,e){return vc(a,"POST","/v1/accounts:signInWithEmailLink",Ss(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends Mp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new sc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new sc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,n,"signInWithPassword",cx);case"emailLink":return ux(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,s,"signUpPassword",lx);case"emailLink":return hx(e,{idToken:n,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(a,e){return vc(a,"POST","/v1/accounts:signInWithIdp",Ss(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="http://localhost";class cr extends Mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new cr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const h=new cr(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:dx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mx(a){const e=ql(Hl(a)).link,n=e?ql(Hl(e)).deep_link_id:null,s=ql(Hl(a)).deep_link_id;return(s?ql(Hl(s)).link:null)||s||n||e||a}class Vp{constructor(e){const n=ql(Hl(e)),s=n.apiKey??null,o=n.oobCode??null,c=fx(n.mode??null);_e(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mx(e);try{return new Vp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(e,n){return sc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Vp.parseLink(n);return _e(s,"argument-error"),sc._fromEmailAndCode(e,s.code,s.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends j0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Ec{constructor(){super("facebook.com")}static credential(e){return cr._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return cr._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return os.credential(n,s)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Ec{constructor(){super("github.com")}static credential(e){return cr._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Ec{constructor(){super("twitter.com")}static credential(e,n){return cr._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return cs.credential(n,s)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(a,e){return vc(a,"POST","/v1/accounts:signUp",Ss(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await si._fromIdTokenResponse(e,s,o),h=TE(s);return new ur({user:c,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=TE(s);return new ur({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function TE(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends Ki{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Dh(e,n,s,o)}}function O0(a,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(a):n._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(a,c,e,s):c})}async function gx(a,e,n=!1){const s=await ac(a,e._linkToIdToken(a.auth,await a.getIdToken()),n);return ur._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(a,e,n=!1){const{auth:s}=a;if(Cn(s.app))return Promise.reject(ya(s));const o="reauthenticate";try{const c=await ac(a,O0(s,o,e,a),n);_e(c.idToken,s,"internal-error");const h=jp(c.idToken);_e(h,s,"internal-error");const{sub:p}=h;return _e(a.uid===p,s,"user-mismatch"),ur._forOperation(a,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&oi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(a,e,n=!1){if(Cn(a.app))return Promise.reject(ya(a));const s="signIn",o=await O0(a,s,e),c=await ur._fromIdTokenResponse(a,s,o);return n||await a._updateCurrentUser(c.user),c}async function _x(a,e){return M0(gr(a),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0(a){const e=gr(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vx(a,e,n){if(Cn(a.app))return Promise.reject(ya(a));const s=gr(a),h=await Xm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",px).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&V0(a),g}),p=await ur._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(p.user),p}function Ex(a,e,n){return Cn(a.app)?Promise.reject(ya(a)):_x(Ut(a),Co.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&V0(a),s})}function Tx(a,e,n,s){return Ut(a).onIdTokenChanged(e,n,s)}function bx(a,e,n){return Ut(a).beforeAuthStateChanged(e,n)}function Sx(a,e,n,s){return Ut(a).onAuthStateChanged(e,n,s)}function k0(a){return Ut(a).signOut()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=1e3,wx=10;class L0 extends P0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);HR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wx):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Ax)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}L0.type="LOCAL";const Nx=L0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends P0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U0.type="SESSION";const z0=U0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Wh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(h).map(async y=>y(n.origin,c)),g=await Rx(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(a="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return a+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=kp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(w.data.response);break;default:clearTimeout(E),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function Cx(a){Li().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function Ix(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dx(){return navigator?.serviceWorker?.controller||null}function jx(){return B0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="firebaseLocalStorageDb",Ox=1,Oh="firebaseLocalStorage",H0="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ed(a,e){return a.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function Mx(){const a=indexedDB.deleteDatabase(q0);return new Tc(a).toPromise()}function Jm(){const a=indexedDB.open(q0,Ox);return new Promise((e,n)=>{a.addEventListener("error",()=>{n(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Oh,{keyPath:H0})}catch(o){n(o)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Oh)?e(s):(s.close(),await Mx(),e(await Jm()))})})}async function bE(a,e,n){const s=ed(a,!0).put({[H0]:e,value:n});return new Tc(s).toPromise()}async function Vx(a,e){const n=ed(a,!1).get(e),s=await new Tc(n).toPromise();return s===void 0?null:s.value}function SE(a,e){const n=ed(a,!0).delete(e);return new Tc(n).toPromise()}const kx=800,Px=3;class F0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Px)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(jx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Ix(),!this.activeServiceWorker)return;this.sender=new xx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await bE(e,jh,"1"),await SE(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>bE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Vx(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ed(o,!1).getAll();return new Tc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F0.type="LOCAL";const Lx=F0;new _c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(a,e){return e?pa(e):(_e(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends Mp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zx(a){return M0(a.auth,new Pp(a),a.bypassAuthState)}function Bx(a){const{auth:e,user:n}=a;return _e(n,e,"internal-error"),yx(n,new Pp(a),a.bypassAuthState)}async function qx(a){const{auth:e,user:n}=a;return _e(n,e,"internal-error"),gx(n,new Pp(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zx;case"linkViaPopup":case"linkViaRedirect":return qx;case"reauthViaPopup":case"reauthViaRedirect":return Bx;default:oi(this.auth,"internal-error")}}resolve(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new _c(2e3,1e4);class po extends G0{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Ta(this.filter.length===1,"Popup operations only handle one event");const e=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Hx.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="pendingRedirect",gh=new Map;class Gx extends G0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await Kx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Kx(a,e){const n=$x(e),s=Yx(a);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Qx(a,e){gh.set(a._key(),e)}function Yx(a){return pa(a._redirectPersistence)}function $x(a){return ph(Fx,a.config.apiKey,a.name)}async function Xx(a,e,n=!1){if(Cn(a.app))return Promise.reject(ya(a));const s=gr(a),o=Ux(s,e),h=await new Gx(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=600*1e3;class Zx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Wx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!K0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Jx&&this.cachedEventUids.clear(),this.cachedEventUids.has(AE(e))}saveEventToCache(e){this.cachedEventUids.add(AE(e)),this.lastProcessedEventTime=Date.now()}}function AE(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function K0({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function Wx(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K0(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(a,e={}){return As(a,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nC=/^https?/;async function iC(a){if(a.config.emulator)return;const{authorizedDomains:e}=await eC(a);for(const n of e)try{if(aC(n))return}catch{}oi(a,"unauthorized-domain")}function aC(a){const e=Ym(),{protocol:n,hostname:s}=new URL(e);if(a.startsWith("chrome-extension://")){const h=new URL(a);return h.hostname===""&&s===""?n==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!nC.test(n))return!1;if(tC.test(a))return s===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new _c(3e4,6e4);function wE(){const a=Li().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let n=0;n<a.CP.length;n++)a.CP[n]=null}}function rC(a){return new Promise((e,n)=>{function s(){wE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wE(),n(Pi(a,"network-request-failed"))},timeout:sC.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)s();else{const o=ZR("iframefcb");return Li()[o]=()=>{gapi.load?s():n(Pi(a,"network-request-failed"))},C0(`${JR()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw yh=null,e})}let yh=null;function oC(a){return yh=yh||rC(a),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new _c(5e3,15e3),cC="__/auth/iframe",uC="emulator/auth/iframe",hC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fC(a){const e=a.config;_e(e.authDomain,a,"auth-domain-config-required");const n=e.emulator?Dp(e,uC):`https://${a.config.authDomain}/${cC}`,s={apiKey:e.apiKey,appName:a.name,v:pr},o=dC.get(a.config.apiHost);o&&(s.eid=o);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${yc(s).slice(1)}`}async function mC(a){const e=await oC(a),n=Li().gapi;return _e(n,a,"internal-error"),e.open({where:document.body,url:fC(a),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hC,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=Pi(a,"network-request-failed"),p=Li().setTimeout(()=>{c(h)},lC.get());function g(){Li().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gC=500,yC=600,_C="_blank",vC="http://localhost";class NE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EC(a,e,n,s=gC,o=yC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...pC,width:s.toString(),height:o.toString(),top:c,left:h},y=sn().toLowerCase();n&&(p=b0(y)?_C:n),E0(y)&&(e=e||vC,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[k,F])=>`${w}${k}=${F},`,"");if(qR(y)&&p!=="_self")return TC(e||"",p),new NE(null);const b=window.open(e||"",p,E);_e(b,a,"popup-blocked");try{b.focus()}catch{}return new NE(b)}function TC(a,e){const n=document.createElement("a");n.href=a,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="__/auth/handler",SC="emulator/auth/handler",AC=encodeURIComponent("fac");async function RE(a,e,n,s,o,c){_e(a.config.authDomain,a,"auth-domain-config-required"),_e(a.config.apiKey,a,"invalid-api-key");const h={apiKey:a.config.apiKey,appName:a.name,authType:n,redirectUrl:s,v:pr,eventId:o};if(e instanceof j0){e.setDefaultLanguage(a.languageCode),h.providerId=e.providerId||"",uN(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof Ec){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}a.tenantId&&(h.tid=a.tenantId);const p=h;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await a._getAppCheckToken(),y=g?`#${AC}=${encodeURIComponent(g)}`:"";return`${wC(a)}?${yc(p).slice(1)}${y}`}function wC({config:a}){return a.emulator?Dp(a,SC):`https://${a.authDomain}/${bC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class NC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z0,this._completeRedirectFn=Xx,this._overrideRedirectResult=Qx}async _openPopup(e,n,s,o){Ta(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await RE(e,n,s,Ym(),o);return EC(e,c,kp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await RE(e,n,s,Ym(),o);return Cx(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ta(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await mC(e),s=new Zx(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{const c=o?.[0]?.[Om];c!==void 0&&n(!!c),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return R0()||T0()||Op()}}const RC=NC;var xE="@firebase/auth",CE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IC(a){lr(new ps("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;_e(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x0(a)},y=new YR(s,o,c,g);return ax(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),lr(new ps("auth-internal",e=>{const n=gr(e.getProvider("auth").getImmediate());return(s=>new xC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(xE,CE,CC(a)),ki(xE,CE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=300,jC=s0("authIdTokenMaxAge")||DC;let IE=null;const OC=a=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>jC)return;const o=n?.token;IE!==o&&(IE=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MC(a=Cp()){const e=Jh(a,"auth");if(e.isInitialized())return e.getImmediate();const n=ix(a,{popupRedirectResolver:RC,persistence:[Lx,Nx,z0]}),s=s0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=OC(c.toString());bx(n,h,()=>h(n.currentUser)),Tx(n,p=>h(p))}}const o=n0("auth");return o&&sx(n,`http://${o}`),n}function VC(){return document.getElementsByTagName("head")?.[0]??document}$R({loadJS(a){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=e,s.onerror=o=>{const c=Pi("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",VC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IC("Browser");var kC="firebase",PC="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(kC,PC,"app");var DE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fs,Q0;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,N){function R(){}R.prototype=N.prototype,I.F=N.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(V,j,U){for(var x=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)x[ot-2]=arguments[ot];return N.prototype[j].apply(V,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,N,R){R||(R=0);const V=Array(16);if(typeof N=="string")for(var j=0;j<16;++j)V[j]=N.charCodeAt(R++)|N.charCodeAt(R++)<<8|N.charCodeAt(R++)<<16|N.charCodeAt(R++)<<24;else for(j=0;j<16;++j)V[j]=N[R++]|N[R++]<<8|N[R++]<<16|N[R++]<<24;N=I.g[0],R=I.g[1],j=I.g[2];let U=I.g[3],x;x=N+(U^R&(j^U))+V[0]+3614090360&4294967295,N=R+(x<<7&4294967295|x>>>25),x=U+(j^N&(R^j))+V[1]+3905402710&4294967295,U=N+(x<<12&4294967295|x>>>20),x=j+(R^U&(N^R))+V[2]+606105819&4294967295,j=U+(x<<17&4294967295|x>>>15),x=R+(N^j&(U^N))+V[3]+3250441966&4294967295,R=j+(x<<22&4294967295|x>>>10),x=N+(U^R&(j^U))+V[4]+4118548399&4294967295,N=R+(x<<7&4294967295|x>>>25),x=U+(j^N&(R^j))+V[5]+1200080426&4294967295,U=N+(x<<12&4294967295|x>>>20),x=j+(R^U&(N^R))+V[6]+2821735955&4294967295,j=U+(x<<17&4294967295|x>>>15),x=R+(N^j&(U^N))+V[7]+4249261313&4294967295,R=j+(x<<22&4294967295|x>>>10),x=N+(U^R&(j^U))+V[8]+1770035416&4294967295,N=R+(x<<7&4294967295|x>>>25),x=U+(j^N&(R^j))+V[9]+2336552879&4294967295,U=N+(x<<12&4294967295|x>>>20),x=j+(R^U&(N^R))+V[10]+4294925233&4294967295,j=U+(x<<17&4294967295|x>>>15),x=R+(N^j&(U^N))+V[11]+2304563134&4294967295,R=j+(x<<22&4294967295|x>>>10),x=N+(U^R&(j^U))+V[12]+1804603682&4294967295,N=R+(x<<7&4294967295|x>>>25),x=U+(j^N&(R^j))+V[13]+4254626195&4294967295,U=N+(x<<12&4294967295|x>>>20),x=j+(R^U&(N^R))+V[14]+2792965006&4294967295,j=U+(x<<17&4294967295|x>>>15),x=R+(N^j&(U^N))+V[15]+1236535329&4294967295,R=j+(x<<22&4294967295|x>>>10),x=N+(j^U&(R^j))+V[1]+4129170786&4294967295,N=R+(x<<5&4294967295|x>>>27),x=U+(R^j&(N^R))+V[6]+3225465664&4294967295,U=N+(x<<9&4294967295|x>>>23),x=j+(N^R&(U^N))+V[11]+643717713&4294967295,j=U+(x<<14&4294967295|x>>>18),x=R+(U^N&(j^U))+V[0]+3921069994&4294967295,R=j+(x<<20&4294967295|x>>>12),x=N+(j^U&(R^j))+V[5]+3593408605&4294967295,N=R+(x<<5&4294967295|x>>>27),x=U+(R^j&(N^R))+V[10]+38016083&4294967295,U=N+(x<<9&4294967295|x>>>23),x=j+(N^R&(U^N))+V[15]+3634488961&4294967295,j=U+(x<<14&4294967295|x>>>18),x=R+(U^N&(j^U))+V[4]+3889429448&4294967295,R=j+(x<<20&4294967295|x>>>12),x=N+(j^U&(R^j))+V[9]+568446438&4294967295,N=R+(x<<5&4294967295|x>>>27),x=U+(R^j&(N^R))+V[14]+3275163606&4294967295,U=N+(x<<9&4294967295|x>>>23),x=j+(N^R&(U^N))+V[3]+4107603335&4294967295,j=U+(x<<14&4294967295|x>>>18),x=R+(U^N&(j^U))+V[8]+1163531501&4294967295,R=j+(x<<20&4294967295|x>>>12),x=N+(j^U&(R^j))+V[13]+2850285829&4294967295,N=R+(x<<5&4294967295|x>>>27),x=U+(R^j&(N^R))+V[2]+4243563512&4294967295,U=N+(x<<9&4294967295|x>>>23),x=j+(N^R&(U^N))+V[7]+1735328473&4294967295,j=U+(x<<14&4294967295|x>>>18),x=R+(U^N&(j^U))+V[12]+2368359562&4294967295,R=j+(x<<20&4294967295|x>>>12),x=N+(R^j^U)+V[5]+4294588738&4294967295,N=R+(x<<4&4294967295|x>>>28),x=U+(N^R^j)+V[8]+2272392833&4294967295,U=N+(x<<11&4294967295|x>>>21),x=j+(U^N^R)+V[11]+1839030562&4294967295,j=U+(x<<16&4294967295|x>>>16),x=R+(j^U^N)+V[14]+4259657740&4294967295,R=j+(x<<23&4294967295|x>>>9),x=N+(R^j^U)+V[1]+2763975236&4294967295,N=R+(x<<4&4294967295|x>>>28),x=U+(N^R^j)+V[4]+1272893353&4294967295,U=N+(x<<11&4294967295|x>>>21),x=j+(U^N^R)+V[7]+4139469664&4294967295,j=U+(x<<16&4294967295|x>>>16),x=R+(j^U^N)+V[10]+3200236656&4294967295,R=j+(x<<23&4294967295|x>>>9),x=N+(R^j^U)+V[13]+681279174&4294967295,N=R+(x<<4&4294967295|x>>>28),x=U+(N^R^j)+V[0]+3936430074&4294967295,U=N+(x<<11&4294967295|x>>>21),x=j+(U^N^R)+V[3]+3572445317&4294967295,j=U+(x<<16&4294967295|x>>>16),x=R+(j^U^N)+V[6]+76029189&4294967295,R=j+(x<<23&4294967295|x>>>9),x=N+(R^j^U)+V[9]+3654602809&4294967295,N=R+(x<<4&4294967295|x>>>28),x=U+(N^R^j)+V[12]+3873151461&4294967295,U=N+(x<<11&4294967295|x>>>21),x=j+(U^N^R)+V[15]+530742520&4294967295,j=U+(x<<16&4294967295|x>>>16),x=R+(j^U^N)+V[2]+3299628645&4294967295,R=j+(x<<23&4294967295|x>>>9),x=N+(j^(R|~U))+V[0]+4096336452&4294967295,N=R+(x<<6&4294967295|x>>>26),x=U+(R^(N|~j))+V[7]+1126891415&4294967295,U=N+(x<<10&4294967295|x>>>22),x=j+(N^(U|~R))+V[14]+2878612391&4294967295,j=U+(x<<15&4294967295|x>>>17),x=R+(U^(j|~N))+V[5]+4237533241&4294967295,R=j+(x<<21&4294967295|x>>>11),x=N+(j^(R|~U))+V[12]+1700485571&4294967295,N=R+(x<<6&4294967295|x>>>26),x=U+(R^(N|~j))+V[3]+2399980690&4294967295,U=N+(x<<10&4294967295|x>>>22),x=j+(N^(U|~R))+V[10]+4293915773&4294967295,j=U+(x<<15&4294967295|x>>>17),x=R+(U^(j|~N))+V[1]+2240044497&4294967295,R=j+(x<<21&4294967295|x>>>11),x=N+(j^(R|~U))+V[8]+1873313359&4294967295,N=R+(x<<6&4294967295|x>>>26),x=U+(R^(N|~j))+V[15]+4264355552&4294967295,U=N+(x<<10&4294967295|x>>>22),x=j+(N^(U|~R))+V[6]+2734768916&4294967295,j=U+(x<<15&4294967295|x>>>17),x=R+(U^(j|~N))+V[13]+1309151649&4294967295,R=j+(x<<21&4294967295|x>>>11),x=N+(j^(R|~U))+V[4]+4149444226&4294967295,N=R+(x<<6&4294967295|x>>>26),x=U+(R^(N|~j))+V[11]+3174756917&4294967295,U=N+(x<<10&4294967295|x>>>22),x=j+(N^(U|~R))+V[2]+718787259&4294967295,j=U+(x<<15&4294967295|x>>>17),x=R+(U^(j|~N))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+N&4294967295,I.g[1]=I.g[1]+(j+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.v=function(I,N){N===void 0&&(N=I.length);const R=N-this.blockSize,V=this.C;let j=this.h,U=0;for(;U<N;){if(j==0)for(;U<=R;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<N;)if(V[j++]=I.charCodeAt(U++),j==this.blockSize){o(this,V),j=0;break}}else for(;U<N;)if(V[j++]=I[U++],j==this.blockSize){o(this,V),j=0;break}}this.h=j,this.o+=N},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var N=1;N<I.length-8;++N)I[N]=0;N=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=N&255,N/=256;for(this.v(I),I=Array(16),N=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)I[N++]=this.g[R]>>>V&255;return I};function c(I,N){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=N(I)}function h(I,N){this.h=N;const R=[];let V=!0;for(let j=I.length-1;j>=0;j--){const U=I[j]|0;V&&U==N||(R[j]=U,V=!1)}this.g=R}var p={};function g(I){return-128<=I&&I<128?c(I,function(N){return new h([N|0],N<0?-1:0)}):new h([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return P(y(-I));const N=[];let R=1;for(let V=0;I>=R;V++)N[V]=I/R|0,R*=4294967296;return new h(N,0)}function E(I,N){if(I.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I.charAt(0)=="-")return P(E(I.substring(1),N));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(N,8));let V=b;for(let U=0;U<I.length;U+=8){var j=Math.min(8,I.length-U);const x=parseInt(I.substring(U,U+j),N);j<8?(j=y(Math.pow(N,j)),V=V.j(j).add(y(x))):(V=V.j(R),V=V.add(y(x)))}return V}var b=g(0),w=g(1),k=g(16777216);a=h.prototype,a.m=function(){if(Q(this))return-P(this).m();let I=0,N=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);I+=(V>=0?V:4294967296+V)*N,N*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(F(this))return"0";if(Q(this))return"-"+P(this).toString(I);const N=y(Math.pow(I,6));var R=this;let V="";for(;;){const j=ge(R,N).g;R=J(R,j.j(N));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=j,F(R))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function F(I){if(I.h!=0)return!1;for(let N=0;N<I.g.length;N++)if(I.g[N]!=0)return!1;return!0}function Q(I){return I.h==-1}a.l=function(I){return I=J(this,I),Q(I)?-1:F(I)?0:1};function P(I){const N=I.g.length,R=[];for(let V=0;V<N;V++)R[V]=~I.g[V];return new h(R,~I.h).add(w)}a.abs=function(){return Q(this)?P(this):this},a.add=function(I){const N=Math.max(this.g.length,I.g.length),R=[];let V=0;for(let j=0;j<=N;j++){let U=V+(this.i(j)&65535)+(I.i(j)&65535),x=(U>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);V=x>>>16,U&=65535,x&=65535,R[j]=x<<16|U}return new h(R,R[R.length-1]&-2147483648?-1:0)};function J(I,N){return I.add(P(N))}a.j=function(I){if(F(this)||F(I))return b;if(Q(this))return Q(I)?P(this).j(P(I)):P(P(this).j(I));if(Q(I))return P(this.j(P(I)));if(this.l(k)<0&&I.l(k)<0)return y(this.m()*I.m());const N=this.g.length+I.g.length,R=[];for(var V=0;V<2*N;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let j=0;j<I.g.length;j++){const U=this.i(V)>>>16,x=this.i(V)&65535,ot=I.i(j)>>>16,Mt=I.i(j)&65535;R[2*V+2*j]+=x*Mt,ne(R,2*V+2*j),R[2*V+2*j+1]+=U*Mt,ne(R,2*V+2*j+1),R[2*V+2*j+1]+=x*ot,ne(R,2*V+2*j+1),R[2*V+2*j+2]+=U*ot,ne(R,2*V+2*j+2)}for(I=0;I<N;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=N;I<2*N;I++)R[I]=0;return new h(R,0)};function ne(I,N){for(;(I[N]&65535)!=I[N];)I[N+1]+=I[N]>>>16,I[N]&=65535,N++}function ie(I,N){this.g=I,this.h=N}function ge(I,N){if(F(N))throw Error("division by zero");if(F(I))return new ie(b,b);if(Q(I))return N=ge(P(I),N),new ie(P(N.g),P(N.h));if(Q(N))return N=ge(I,P(N)),new ie(P(N.g),N.h);if(I.g.length>30){if(Q(I)||Q(N))throw Error("slowDivide_ only works with positive integers.");for(var R=w,V=N;V.l(I)<=0;)R=Ae(R),V=Ae(V);var j=we(R,1),U=we(V,1);for(V=we(V,2),R=we(R,2);!F(V);){var x=U.add(V);x.l(I)<=0&&(j=j.add(R),U=x),V=we(V,1),R=we(R,1)}return N=J(I,j.j(N)),new ie(j,N)}for(j=b;I.l(N)>=0;){for(R=Math.max(1,Math.floor(I.m()/N.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(R),x=U.j(N);Q(x)||x.l(I)>0;)R-=V,U=y(R),x=U.j(N);F(U)&&(U=w),j=j.add(U),I=J(I,x)}return new ie(j,I)}a.B=function(I){return ge(this,I).h},a.and=function(I){const N=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<N;V++)R[V]=this.i(V)&I.i(V);return new h(R,this.h&I.h)},a.or=function(I){const N=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<N;V++)R[V]=this.i(V)|I.i(V);return new h(R,this.h|I.h)},a.xor=function(I){const N=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<N;V++)R[V]=this.i(V)^I.i(V);return new h(R,this.h^I.h)};function Ae(I){const N=I.g.length+1,R=[];for(let V=0;V<N;V++)R[V]=I.i(V)<<1|I.i(V-1)>>>31;return new h(R,I.h)}function we(I,N){const R=N>>5;N%=32;const V=I.g.length-R,j=[];for(let U=0;U<V;U++)j[U]=N>0?I.i(U+R)>>>N|I.i(U+R+1)<<32-N:I.i(U+R);return new h(j,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Q0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,fs=h}).apply(typeof DE<"u"?DE:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y0,Fl,$0,_h,Zm,X0,J0,Z0;(function(){var a,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var _=0;_<u.length;++_){var T=u[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function o(u,_){if(_)e:{var T=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in T))break e;T=T[z]}u=u[u.length-1],A=T[u],_=_(A),_!=A&&_!=null&&e(T,u,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(_){var T=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&T.push([A,_[A]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function g(u,_,T){return u.call.apply(u.bind,arguments)}function y(u,_,T){return y=g,y.apply(null,arguments)}function E(u,_){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function b(u,_){function T(){}T.prototype=_.prototype,u.Z=_.prototype,u.prototype=new T,u.prototype.constructor=u,u.Ob=function(A,z,G){for(var ae=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ae[Ne-2]=arguments[Ne];return _.prototype[z].apply(A,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function k(u){const _=u.length;if(_>0){const T=Array(_);for(let A=0;A<_;A++)T[A]=u[A];return T}return[]}function F(u,_){for(let A=1;A<arguments.length;A++){const z=arguments[A];var T=typeof z;if(T=T!="object"?T:z?Array.isArray(z)?"array":T:"null",T=="array"||T=="object"&&typeof z.length=="number"){T=u.length||0;const G=z.length||0;u.length=T+G;for(let ae=0;ae<G;ae++)u[T+ae]=z[ae]}else u.push(z)}}class Q{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(u){h.setTimeout(()=>{throw u},0)}function J(){var u=I;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class ne{constructor(){this.h=this.g=null}add(_,T){const A=ie.get();A.set(_,T),this.h?this.h.next=A:this.g=A,this.h=A}}var ie=new Q(()=>new ge,u=>u.reset());class ge{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,we=!1,I=new ne,N=()=>{const u=Promise.resolve(void 0);Ae=()=>{u.then(R)}};function R(){for(var u;u=J();){try{u.h.call(u.g)}catch(T){P(T)}var _=ie;_.j(u),_.h<100&&(_.h++,u.next=_.g,_.g=u)}we=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};h.addEventListener("test",T,_),h.removeEventListener("test",T,_)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function ot(u,_){j.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,_)}b(ot,j),ot.prototype.init=function(u,_){const T=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget,_||(T=="mouseover"?_=u.fromElement:T=="mouseout"&&(_=u.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Mt="closure_listenable_"+(Math.random()*1e6|0),$=0;function se(u,_,T,A,z){this.listener=u,this.proxy=null,this.src=_,this.type=T,this.capture=!!A,this.ha=z,this.key=++$,this.da=this.fa=!1}function pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ze(u,_,T){for(const A in u)_.call(T,u[A],A,u)}function Ke(u,_){for(const T in u)_.call(void 0,u[T],T,u)}function M(u){const _={};for(const T in u)_[T]=u[T];return _}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(u,_){let T,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(T in A)u[T]=A[T];for(let G=0;G<ee.length;G++)T=ee[G],Object.prototype.hasOwnProperty.call(A,T)&&(u[T]=A[T])}}function ce(u){this.src=u,this.g={},this.h=0}ce.prototype.add=function(u,_,T,A,z){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const ae=xe(u,_,A,z);return ae>-1?(_=u[ae],T||(_.fa=!1)):(_=new se(_,this.src,G,!!A,z),_.fa=T,u.push(_)),_};function Ee(u,_){const T=_.type;if(T in u.g){var A=u.g[T],z=Array.prototype.indexOf.call(A,_,void 0),G;(G=z>=0)&&Array.prototype.splice.call(A,z,1),G&&(pe(_),u.g[T].length==0&&(delete u.g[T],u.h--))}}function xe(u,_,T,A){for(let z=0;z<u.length;++z){const G=u[z];if(!G.da&&G.listener==_&&G.capture==!!T&&G.ha==A)return z}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Vt={};function lt(u,_,T,A,z){if(Array.isArray(_)){for(let G=0;G<_.length;G++)lt(u,_[G],T,A,z);return null}return T=Po(T),u&&u[Mt]?u.J(_,T,p(A)?!!A.capture:!1,z):Rs(u,_,T,!1,A,z)}function Rs(u,_,T,A,z,G){if(!_)throw Error("Invalid event type");const ae=p(z)?!!z.capture:!!z;let Ne=xs(u);if(Ne||(u[Le]=Ne=new ce(u)),T=Ne.add(_,T,A,ae,G),T.proxy)return T;if(A=Er(),T.proxy=A,A.src=u,A.listener=T,u.addEventListener)U||(z=ae),z===void 0&&(z=!1),u.addEventListener(_.toString(),A,z);else if(u.attachEvent)u.attachEvent(fi(_.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Er(){function u(T){return _.call(u.src,u.listener,T)}const _=Vo;return u}function Tr(u,_,T,A,z){if(Array.isArray(_))for(var G=0;G<_.length;G++)Tr(u,_[G],T,A,z);else A=p(A)?!!A.capture:!!A,T=Po(T),u&&u[Mt]?(u=u.i,G=String(_).toString(),G in u.g&&(_=u.g[G],T=xe(_,T,A,z),T>-1&&(pe(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete u.g[G],u.h--)))):u&&(u=xs(u))&&(_=u.g[_.toString()],u=-1,_&&(u=xe(_,T,A,z)),(T=u>-1?_[u]:null)&&br(T))}function br(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[Mt])Ee(_.i,u);else{var T=u.type,A=u.proxy;_.removeEventListener?_.removeEventListener(T,A,u.capture):_.detachEvent?_.detachEvent(fi(T),A):_.addListener&&_.removeListener&&_.removeListener(A),(T=xs(_))?(Ee(T,u),T.h==0&&(T.src=null,_[Le]=null)):pe(u)}}}function fi(u){return u in Vt?Vt[u]:Vt[u]="on"+u}function Vo(u,_){if(u.da)u=!0;else{_=new ot(_,this);const T=u.listener,A=u.ha||u.src;u.fa&&br(u),u=T.call(A,_)}return u}function xs(u){return u=u[Le],u instanceof ce?u:null}var ko="__closure_events_fn_"+(Math.random()*1e9>>>0);function Po(u){return typeof u=="function"?u:(u[ko]||(u[ko]=function(_){return u.handleEvent(_)}),u[ko])}function bt(){V.call(this),this.i=new ce(this),this.M=this,this.G=null}b(bt,V),bt.prototype[Mt]=!0,bt.prototype.removeEventListener=function(u,_,T,A){Tr(this,u,_,T,A)};function kt(u,_){var T,A=u.G;if(A)for(T=[];A;A=A.G)T.push(A);if(u=u.M,A=_.type||_,typeof _=="string")_=new j(_,u);else if(_ instanceof j)_.target=_.target||u;else{var z=_;_=new j(A,u),re(_,z)}z=!0;let G,ae;if(T)for(ae=T.length-1;ae>=0;ae--)G=_.g=T[ae],z=Na(G,A,!0,_)&&z;if(G=_.g=u,z=Na(G,A,!0,_)&&z,z=Na(G,A,!1,_)&&z,T)for(ae=0;ae<T.length;ae++)G=_.g=T[ae],z=Na(G,A,!1,_)&&z}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var u=this.i;for(const _ in u.g){const T=u.g[_];for(let A=0;A<T.length;A++)pe(T[A]);delete u.g[_],u.h--}}this.G=null},bt.prototype.J=function(u,_,T,A){return this.i.add(String(u),_,!1,T,A)},bt.prototype.K=function(u,_,T,A){return this.i.add(String(u),_,!0,T,A)};function Na(u,_,T,A){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();let z=!0;for(let G=0;G<_.length;++G){const ae=_[G];if(ae&&!ae.da&&ae.capture==T){const Ne=ae.listener,yt=ae.ha||ae.src;ae.fa&&Ee(u.i,ae),z=Ne.call(yt,A)!==!1&&z}}return z&&!A.defaultPrevented}function vd(u,_){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:h.setTimeout(u,_||0)}function Cc(u){u.g=vd(()=>{u.g=null,u.i&&(u.i=!1,Cc(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class ln extends V{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Cc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(u){V.call(this),this.h=u,this.g={}}b(Cs,V);var Lo=[];function Uo(u){ze(u.g,function(_,T){this.g.hasOwnProperty(T)&&br(_)},u),u.g={}}Cs.prototype.N=function(){Cs.Z.N.call(this),Uo(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ra=h.JSON.stringify,Ed=h.JSON.parse,Ic=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Dc(){}function jc(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){j.call(this,"d")}b(Gt,j);function Dn(){j.call(this,"c")}b(Dn,j);var gt={},Oc=null;function Sr(){return Oc=Oc||new bt}gt.Ia="serverreachability";function Mc(u){j.call(this,gt.Ia,u)}b(Mc,j);function mi(u){const _=Sr();kt(_,new Mc(_))}gt.STAT_EVENT="statevent";function Is(u,_){j.call(this,gt.STAT_EVENT,u),this.stat=_}b(Is,j);function St(u){const _=Sr();kt(_,new Is(_,u))}gt.Ja="timingevent";function pi(u,_){j.call(this,gt.Ja,u),this.size=_}b(pi,j);function gi(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},_)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Td(u,_,T,A,z,G){u.info(function(){if(u.g)if(G){var ae="",Ne=G.split("&");for(let He=0;He<Ne.length;He++){var yt=Ne[He].split("=");if(yt.length>1){const ct=yt[0];yt=yt[1];const Vn=ct.split("_");ae=Vn.length>=2&&Vn[1]=="type"?ae+(ct+"="+yt+"&"):ae+(ct+"=redacted&")}}}else ae=null;else ae=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+_+`
`+T+`
`+ae})}function Vc(u,_,T,A,z,G,ae){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+_+`
`+T+`
`+G+" "+ae})}function yi(u,_,T,A){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+bd(u,T)+(A?" "+A:"")})}function Ds(u,_){u.info(function(){return"TIMEOUT: "+_})}Yn.prototype.info=function(){};function bd(u,_){if(!u.g)return _;if(!_)return null;try{const G=JSON.parse(_);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var T=G[u];if(!(T.length<2)){var A=T[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ae=1;ae<A.length;ae++)A[ae]=""}}}}return Ra(G)}catch{return _}}var js={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bo;function Os(){}b(Os,Dc),Os.prototype.g=function(){return new XMLHttpRequest},Bo=new Os;function $i(u){return encodeURIComponent(String(u))}function kc(u){var _=1;u=u.split(":");const T=[];for(;_>0&&u.length;)T.push(u.shift()),_--;return u.length&&T.push(u.join(":")),T}function $n(u,_,T,A){this.j=u,this.i=_,this.l=T,this.S=A||1,this.V=new Cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var At={},zt={};function _i(u,_,T){u.M=1,u.A=Ms(Nt(_)),u.u=T,u.R=!0,Ar(u,null)}function Ar(u,_){u.F=Date.now(),vi(u),u.B=Nt(u.A);var T=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),xr(T.i,"t",A),u.C=0,T=u.j.L,u.h=new Xn,u.g=Jc(u.j,T?_:null,!u.u),u.P>0&&(u.O=new ln(y(u.Y,u,u.g),u.P)),_=u.V,T=u.g,A=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Lo[0]=z.toString()),z=Lo);for(let G=0;G<z.length;G++){const ae=lt(T,z[G],A||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,_)):(u.v="GET",u.g.ea(u.B,u.v,null,_)),mi(),Td(u.i,u.v,u.B,u.l,u.S,u.u)}$n.prototype.ba=function(u){u=u.target;const _=this.O;_&&Wn(u)==3?_.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=Wn(this.g),yt=this.g.ya(),He=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ne!=4||yt==7||(yt==8||He<=0?mi(3):mi(2)),Ei(this);var _=this.g.ca();this.X=_;var T=Sd(this);if(this.o=_==200,Vc(this.i,this.v,this.B,this.l,this.S,Ne,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var G=A;break t}}G=null}if(u=G)yi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,u);else{this.o=!1,this.m=3,St(12),En(this),jn(this);break e}}if(this.R){u=!0;let ct;for(;!this.K&&this.C<T.length;)if(ct=Lc(this,T),ct==zt){Ne==4&&(this.m=4,St(14),u=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==At){this.m=4,St(15),yi(this.i,this.l,T,"[Invalid Chunk]"),u=!1;break}else yi(this.i,this.l,ct,null),Ti(this,ct);if(Pc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||T.length!=0||this.h.h||(this.m=1,St(16),u=!1),this.o=this.o&&u,!u)yi(this.i,this.l,T,"[Invalid Chunked Response]"),En(this),jn(this);else if(T.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),nl(ae),ae.P=!0,St(11))}}else yi(this.i,this.l,T,null),Ti(this,T);Ne==4&&En(this),this.o&&!this.K&&(Ne==4?Qc(this.j,this):(this.o=!1,vi(this)))}else Ji(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),En(this),jn(this)}}}catch{}finally{}};function Sd(u){if(!Pc(u))return u.g.la();const _=Kt(u.g);if(_==="")return"";let T="";const A=_.length,z=Wn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),jn(u),"";u.h.i=new h.TextDecoder}for(let G=0;G<A;G++)u.h.h=!0,T+=u.h.i.decode(_[G],{stream:!(z&&G==A-1)});return _.length=0,u.h.g+=T,u.C=0,u.h.g}function Pc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Lc(u,_){var T=u.C,A=_.indexOf(`
`,T);return A==-1?zt:(T=Number(_.substring(T,A)),isNaN(T)?At:(A+=1,A+T>_.length?zt:(_=_.slice(A,A+T),u.C=A+T,_)))}$n.prototype.cancel=function(){this.K=!0,En(this)};function vi(u){u.T=Date.now()+u.H,wr(u,u.H)}function wr(u,_){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gi(y(u.aa,u),_)}function Ei(u){u.D&&(h.clearTimeout(u.D),u.D=null)}$n.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ds(this.i,this.B),this.M!=2&&(mi(),St(17)),En(this),this.m=2,jn(this)):wr(this,this.T-u)};function jn(u){u.j.I==0||u.K||Qc(u.j,u)}function En(u){Ei(u);var _=u.O;_&&typeof _.dispose=="function"&&_.dispose(),u.O=null,Uo(u.V),u.g&&(_=u.g,u.g=null,_.abort(),_.dispose())}function Ti(u,_){try{var T=u.j;if(T.I!=0&&(T.g==u||Si(T.h,u))){if(!u.L&&Si(T.h,u)&&T.I==3){try{var A=T.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<u.F)Or(T),Va(T);else break e;Bs(T),St(18)}}else T.xa=z[1],0<T.xa-T.K&&z[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=gi(y(T.Va,T),6e3));bi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ci(T,11)}else if((u.L||T.g==u)&&Or(T),!x(_))for(z=T.Ba.g.parse(_),_=0;_<z.length;_++){let He=z[_];const ct=He[0];if(!(ct<=T.K))if(T.K=ct,He=He[1],T.I==2)if(He[0]=="c"){T.M=He[1],T.ba=He[2];const Vn=He[3];Vn!=null&&(T.ka=Vn,T.j.info("VER="+T.ka));const Ii=He[4];Ii!=null&&(T.za=Ii,T.j.info("SVER="+T.za));const ei=He[5];ei!=null&&typeof ei=="number"&&ei>0&&(A=1.5*ei,T.O=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const ti=u.g;if(ti){const qs=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var G=A.h;G.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Fo(G,G.h),G.h=null))}if(A.G){const Mr=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Mr&&(A.wa=Mr,Qe(A.J,A.G,Mr))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-u.F,T.j.info("Handshake RTT: "+T.T+"ms")),A=T;var ae=u;if(A.na=Xc(A,A.L?A.ba:null,A.W),ae.L){Go(A.h,ae);var Ne=ae,yt=A.O;yt&&(Ne.H=yt),Ne.D&&(Ei(Ne),vi(Ne)),A.g=ae}else Gc(A);T.i.length>0&&xi(T)}else He[0]!="stop"&&He[0]!="close"||Ci(T,7);else T.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ci(T,7):el(T):He[0]!="noop"&&T.l&&T.l.qa(He),T.A=0)}}mi(4)}catch{}}var wt=class{constructor(u,_){this.g=u,this.map=_}};function qo(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ho(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bi(u){return u.h?1:u.g?u.g.size:0}function Si(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function Fo(u,_){u.g?u.g.add(_):u.h=_}function Go(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}qo.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ko(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const T of u.g.values())_=_.concat(T.G);return _}return k(u.i)}var Uc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nr(u,_){if(u){u=u.split("&");for(let T=0;T<u.length;T++){const A=u[T].indexOf("=");let z,G=null;A>=0?(z=u[T].substring(0,A),G=u[T].substring(A+1)):z=u[T],_(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;u instanceof Tn?(this.l=u.l,Bt(this,u.j),this.o=u.o,this.g=u.g,xa(this,u.u),this.h=u.h,Qo(this,Hc(u.i)),this.m=u.m):u&&(_=String(u).match(Uc))?(this.l=!1,Bt(this,_[1]||"",!0),this.o=Ai(_[2]||""),this.g=Ai(_[3]||"",!0),xa(this,_[4]),this.h=Ai(_[5]||"",!0),Qo(this,_[6]||"",!0),this.m=Ai(_[7]||"")):(this.l=!1,this.i=new Ia(null,this.l))}Tn.prototype.toString=function(){const u=[];var _=this.j;_&&u.push(Vs(_,Rr,!0),":");var T=this.g;return(T||_=="file")&&(u.push("//"),(_=this.o)&&u.push(Vs(_,Rr,!0),"@"),u.push($i(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&u.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(Vs(T,T.charAt(0)=="/"?Yo:zc,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",Vs(T,Bc)),u.join("")},Tn.prototype.resolve=function(u){const _=Nt(this);let T=!!u.j;T?Bt(_,u.j):T=!!u.o,T?_.o=u.o:T=!!u.g,T?_.g=u.g:T=u.u!=null;var A=u.h;if(T)xa(_,u.u);else if(T=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=_.h.lastIndexOf("/");z!=-1&&(A=_.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let ae=0;ae<z.length;){const Ne=z[ae++];Ne=="."?A&&ae==z.length&&G.push(""):Ne==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&ae==z.length&&G.push("")):(G.push(Ne),A=!0)}A=G.join("/")}else A=z}return T?_.h=A:T=u.i.toString()!=="",T?Qo(_,Hc(u.i)):T=!!u.m,T&&(_.m=u.m),_};function Nt(u){return new Tn(u)}function Bt(u,_,T){u.j=T?Ai(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function xa(u,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);u.u=_}else u.u=null}function Qo(u,_,T){_ instanceof Ia?(u.i=_,Cr(u.i,u.l)):(T||(_=Vs(_,Ca)),u.i=new Ia(_,u.l))}function Qe(u,_,T){u.i.set(_,T)}function Ms(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ai(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vs(u,_,T){return typeof u=="string"?(u=encodeURI(u).replace(_,hn),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Rr=/[#\/\?@]/g,zc=/[#\?:]/g,Yo=/[#\?]/g,Ca=/[#\?@]/g,Bc=/#/g;function Ia(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&Nr(u.i,function(_,T){u.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}a=Ia.prototype,a.add=function(u,_){dn(this),this.i=null,u=Da(this,u);let T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(_),this.h+=1,this};function qc(u,_){dn(u),_=Da(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function $o(u,_){return dn(u),_=Da(u,_),u.g.has(_)}a.forEach=function(u,_){dn(this),this.g.forEach(function(T,A){T.forEach(function(z){u.call(_,z,A,this)},this)},this)};function Xo(u,_){dn(u);let T=[];if(typeof _=="string")$o(u,_)&&(T=T.concat(u.g.get(Da(u,_))));else for(u=Array.from(u.g.values()),_=0;_<u.length;_++)T=T.concat(u[_]);return T}a.set=function(u,_){return dn(this),this.i=null,u=Da(this,u),$o(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},a.get=function(u,_){return u?(u=Xo(this,u),u.length>0?String(u[0]):_):_};function xr(u,_,T){qc(u,_),T.length>0&&(u.i=null,u.g.set(Da(u,_),k(T)),u.h+=T.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var T=_[A];const z=$i(T);T=Xo(this,T);for(let G=0;G<T.length;G++){let ae=z;T[G]!==""&&(ae+="="+$i(T[G])),u.push(ae)}}return this.i=u.join("&")};function Hc(u){const _=new Ia;return _.i=u.i,u.g&&(_.g=new Map(u.g),_.h=u.h),_}function Da(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function Cr(u,_){_&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(T,A){const z=A.toLowerCase();A!=z&&(qc(this,A),xr(this,z,T))},u)),u.j=_}function Jn(u,_){const T=new Yn;if(h.Image){const A=new Image;A.onload=E(On,T,"TestLoadImage: loaded",!0,_,A),A.onerror=E(On,T,"TestLoadImage: error",!1,_,A),A.onabort=E(On,T,"TestLoadImage: abort",!1,_,A),A.ontimeout=E(On,T,"TestLoadImage: timeout",!1,_,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else _(!1)}function Jo(u,_){const T=new Yn,A=new AbortController,z=setTimeout(()=>{A.abort(),On(T,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?On(T,"TestPingServer: ok",!0,_):On(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(z),On(T,"TestPingServer: error",!1,_)})}function On(u,_,T,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(T)}catch{}}function ja(){this.g=new Ic}function wi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(wi,Dc),wi.prototype.g=function(){return new ks(this.i,this.h)};function ks(u,_){bt.call(this),this.H=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ks,bt),a=ks.prototype,a.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=_,this.readyState=1,Zn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(_.body=u),(this.H||h).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Oa(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ir(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ir(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?Oa(this):Zn(this),this.readyState==3&&Ir(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,Oa(this))},a.Na=function(u){this.g&&(this.response=u,Oa(this))},a.ga=function(){this.g&&Oa(this)};function Oa(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}a.setRequestHeader=function(u,_){this.A.append(u,_)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=_.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let _="";return ze(u,function(T,A){_+=A,_+=":",_+=T,_+=`\r
`}),_}function Ps(u,_,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=Mn(T),typeof u=="string"?T!=null&&$i(T):Qe(u,_,T))}function Xe(u){bt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,bt);var Ni=/^https?$/i,Zo=["POST","PUT"];a=Xe.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,_,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bo.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch(G){Ls(this,G);return}if(u=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)T.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())T.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(Zo,_,void 0)>=0)||A||z||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of T)this.g.setRequestHeader(G,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){Ls(this,G)}};function Ls(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.o=5,Wo(u),Xi(u)}function Wo(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,kt(this,"complete"),kt(this,"abort"),Xi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),Xe.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},a.Xa=function(){Us(this)};function Us(u){if(u.h&&typeof c<"u"){if(u.v&&Wn(u)==4)setTimeout(u.Ca.bind(u),0);else if(kt(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const G=u.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var A;if(A=G===0){let ae=String(u.D).match(Uc)[1]||null;!ae&&h.self&&h.self.location&&(ae=h.self.location.protocol.slice(0,-1)),A=!Ni.test(ae?ae.toLowerCase():"")}T=A}if(T)kt(u,"complete"),kt(u,"success");else{u.o=6;try{var z=Wn(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",Wo(u)}}finally{Xi(u)}}}}function Xi(u,_){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const T=u.g;u.g=null,_||kt(u,"ready");try{T.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),Ed(_)}};function Kt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(u){const _={};u=(u.g&&Wn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(x(u[A]))continue;var T=kc(u[A]);const z=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const G=_[z]||[];_[z]=G,G.push(T)}Ke(_,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(u,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||_}function Ma(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,u),this.Za=Ri("retryDelaySeedMs",1e4,u),this.Ta=Ri("forwardChannelMaxRetries",2,u),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new qo(u&&u.concurrentRequestLimit),this.Ba=new ja,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Ma.prototype,a.ka=8,a.I=1,a.connect=function(u,_,T,A){St(0),this.W=u,this.H=_||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.J=Xc(this,null,this.W),xi(this)};function el(u){if(Dr(u),u.I==3){var _=u.V++,T=Nt(u.J);if(Qe(T,"SID",u.M),Qe(T,"RID",_),Qe(T,"TYPE","terminate"),zs(u,T),_=new $n(u,u.j,_),_.M=2,_.A=Ms(Nt(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&h.Image&&(new Image().src=_.A,T=!0),T||(_.g=Jc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),vi(_)}$c(u)}function Va(u){u.g&&(nl(u),u.g.cancel(),u.g=null)}function Dr(u){Va(u),u.v&&(h.clearTimeout(u.v),u.v=null),Or(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function xi(u){if(!Ho(u.h)&&!u.m){u.m=!0;var _=u.Ea;Ae||N(),we||(Ae(),we=!0),I.add(_,u),u.D=0}}function jr(u,_){return bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=_.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gi(y(u.Ea,u,_),Yc(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new $n(this,this.j,u);let G=this.o;if(this.U&&(G?(G=M(G),re(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Fc(this,z,_),T=Nt(this.J),Qe(T,"RID",u),Qe(T,"CVER",22),this.G&&Qe(T,"X-HTTP-Session-Id",this.G),zs(this,T),G&&(this.R?_="headers="+$i(Mn(G))+"&"+_:this.u&&Ps(T,this.u,G)),Fo(this.h,z),this.Ra&&Qe(T,"TYPE","init"),this.S?(Qe(T,"$req",_),Qe(T,"SID","null"),z.U=!0,_i(z,T,null)):_i(z,T,_),this.I=2}}else this.I==3&&(u?tl(this,u):this.i.length==0||Ho(this.h)||tl(this))};function tl(u,_){var T;_?T=_.l:T=u.V++;const A=Nt(u.J);Qe(A,"SID",u.M),Qe(A,"RID",T),Qe(A,"AID",u.K),zs(u,A),u.u&&u.o&&Ps(A,u.u,u.o),T=new $n(u,u.j,T,u.D+1),u.u===null&&(T.J=u.o),_&&(u.i=_.G.concat(u.i)),_=Fc(u,T,1e3),T.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Fo(u.h,T),_i(T,A,_)}function zs(u,_){u.H&&ze(u.H,function(T,A){Qe(_,A,T)}),u.l&&ze({},function(T,A){Qe(_,A,T)})}function Fc(u,_,T){T=Math.min(u.i.length,T);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var z=u.i;let Ne=-1;for(;;){const yt=["count="+T];Ne==-1?T>0?(Ne=z[0].g,yt.push("ofs="+Ne)):Ne=0:yt.push("ofs="+Ne);let He=!0;for(let ct=0;ct<T;ct++){var G=z[ct].g;const Vn=z[ct].map;if(G-=Ne,G<0)Ne=Math.max(0,z[ct].g-100),He=!1;else try{G="req"+G+"_"||"";try{var ae=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ii,ei]of ae){let ti=ei;p(ei)&&(ti=Ra(ei)),yt.push(G+Ii+"="+encodeURIComponent(ti))}}catch(Ii){throw yt.push(G+"type="+encodeURIComponent("_badmap")),Ii}}catch{A&&A(Vn)}}if(He){ae=yt.join("&");break e}}ae=void 0}return u=u.i.splice(0,T),_.G=u,ae}function Gc(u){if(!u.g&&!u.v){u.Y=1;var _=u.Da;Ae||N(),we||(Ae(),we=!0),I.add(_,u),u.A=0}}function Bs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gi(y(u.Da,u),Yc(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Kc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gi(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Va(this),Kc(this))};function nl(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function Kc(u){u.g=new $n(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var _=Nt(u.na);Qe(_,"RID","rpc"),Qe(_,"SID",u.M),Qe(_,"AID",u.K),Qe(_,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(_,"TO",u.ia),Qe(_,"TYPE","xmlhttp"),zs(u,_),u.u&&u.o&&Ps(_,u.u,u.o),u.O&&(u.g.H=u.O);var T=u.g;u=u.ba,T.M=1,T.A=Ms(Nt(_)),T.u=null,T.R=!0,Ar(T,u)}a.Va=function(){this.C!=null&&(this.C=null,Va(this),Bs(this),St(19))};function Or(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Qc(u,_){var T=null;if(u.g==_){Or(u),nl(u),u.g=null;var A=2}else if(Si(u.h,_))T=_.G,Go(u.h,_),A=1;else return;if(u.I!=0){if(_.o)if(A==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var z=u.D;A=Sr(),kt(A,new pi(A,T)),xi(u)}else Gc(u);else if(z=_.m,z==3||z==0&&_.X>0||!(A==1&&jr(u,_)||A==2&&Bs(u)))switch(T&&T.length>0&&(_=u.h,_.i=_.i.concat(T)),z){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function Yc(u,_){let T=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(T*=2),T*_}function Ci(u,_){if(u.j.info("Error code "+_),_==2){var T=y(u.bb,u),A=u.Ua;const z=!A;A=new Tn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Bt(A,"https"),Ms(A),z?Jn(A.toString(),T):Jo(A.toString(),T)}else St(2);u.I=0,u.l&&u.l.pa(_),$c(u),Dr(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function $c(u){if(u.I=0,u.ja=[],u.l){const _=Ko(u.h);(_.length!=0||u.i.length!=0)&&(F(u.ja,_),F(u.ja,u.i),u.h.i.length=0,k(u.i),u.i.length=0),u.l.oa()}}function Xc(u,_,T){var A=T instanceof Tn?Nt(T):new Tn(T);if(A.g!="")_&&(A.g=_+"."+A.g),xa(A,A.u);else{var z=h.location;A=z.protocol,_=_?_+"."+z.hostname:z.hostname,z=+z.port;const G=new Tn(null);A&&Bt(G,A),_&&(G.g=_),z&&xa(G,z),T&&(G.h=T),A=G}return T=u.G,_=u.wa,T&&_&&Qe(A,T,_),Qe(A,"VER",u.ka),zs(u,A),A}function Jc(u,_,T){if(_&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Aa&&!u.ma?new Xe(new wi({ab:T})):new Xe(u.ma),_.Fa(u.L),_}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zc(){}a=Zc.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ka(){}ka.prototype.g=function(u,_){return new cn(u,_)};function cn(u,_){bt.call(this),this.g=new Ma(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(u?u["X-WebChannel-Client-Profile"]=_.sa:u={"X-WebChannel-Client-Profile":_.sa}),this.g.U=u,(u=_&&_.Qb)&&!x(u)&&(this.g.u=u),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!x(_)&&(this.g.G=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new Zi(this)}b(cn,bt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){el(this.g)},cn.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.v&&(T={},T.__data__=Ra(u),u=T);_.i.push(new wt(_.Ya++,u)),_.I==3&&xi(_)},cn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,cn.Z.N.call(this)};function Wc(u){Gt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const T in _){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}b(Wc,Gt);function eu(){Dn.call(this),this.status=1}b(eu,Dn);function Zi(u){this.g=u}b(Zi,Zc),Zi.prototype.ra=function(){kt(this.g,"a")},Zi.prototype.qa=function(u){kt(this.g,new Wc(u))},Zi.prototype.pa=function(u){kt(this.g,new eu)},Zi.prototype.oa=function(){kt(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Z0=function(){return new ka},J0=function(){return Sr()},X0=gt,Zm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,_h=js,zo.COMPLETE="complete",$0=zo,jc.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Fl=jc,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,Y0=Xe}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const jE="@firebase/firestore",OE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new Rp("@firebase/firestore");function uo(){return hr.logLevel}function le(a,...e){if(hr.logLevel<=Me.DEBUG){const n=e.map(Lp);hr.debug(`Firestore (${Io}): ${a}`,...n)}}function ba(a,...e){if(hr.logLevel<=Me.ERROR){const n=e.map(Lp);hr.error(`Firestore (${Io}): ${a}`,...n)}}function To(a,...e){if(hr.logLevel<=Me.WARN){const n=e.map(Lp);hr.warn(`Firestore (${Io}): ${a}`,...n)}}function Lp(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(a,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,W0(a,s,n)}function W0(a,e,n){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ba(s),new Error(s)}function Ge(a,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,a||W0(e,o,s)}function Se(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class UC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zC{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new _a;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new _a,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new _a)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new e1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class BC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new BC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ME{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ME(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ME(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<a;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=FC(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Ve(a,e){return a<e?-1:a>e?1:0}function Wm(a,e){const n=Math.min(a.length,e.length);for(let s=0;s<n;s++){const o=a.charAt(s),c=e.charAt(s);if(o!==c)return Mm(o)===Mm(c)?Ve(o,c):Mm(o)?1:-1}return Ve(a.length,e.length)}const GC=55296,KC=57343;function Mm(a){const e=a.charCodeAt(0);return e>=GC&&e<=KC}function bo(a,e,n){return a.length===e.length&&a.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="__name__";class Vi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Vi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Vi.isNumericId(e),o=Vi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):Wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fs.fromString(e.substring(4,e.length-2))}}class tt extends Vi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const QC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Vi{construct(e,n,s){return new Zt(e,n,s)}static isValidIdentifier(e){return QC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VE}static keyField(){return new Zt([VE])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(c(),o++)}if(c(),h)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(a,e,n){if(!n)throw new oe(W.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function YC(a,e,n,s){if(e===!0&&s===!0)throw new oe(W.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function kE(a){if(!me.isDocumentKey(a))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function PE(a){if(me.isDocumentKey(a))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function n1(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function td(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":ve(12329,{type:typeof a})}function li(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=td(a);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(a,e){const n={typeString:a};return e&&(n.value=e),n}function bc(a,e){if(!n1(a))throw new oe(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){n=`JSON missing required field: '${s}'`;break}const h=a[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new oe(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=-62135596800,UE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*UE);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<LE)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bc(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-LE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Ot("string",st._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new st(0,0))}static max(){return new Te(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=-1;function $C(a,e){const n=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new gs(o,me.empty(),e)}function XC(a){return new gs(a.readTime,a.key,rc)}class gs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new gs(Te.min(),me.empty(),rc)}static max(){return new gs(Te.max(),me.empty(),rc)}}function JC(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(a.documentKey,e.documentKey),n!==0?n:Ve(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(a){if(a.code!==W.FAILED_PRECONDITION||a.message!==ZC)throw a;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,c=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++c,h&&c===o&&n()}),(g=>s(g)))})),h=!0,c===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((E=>{h[y]=E,++p,p===c&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function eI(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=-1;function id(a){return a==null}function Mh(a){return a===0&&1/a==-1/0}function tI(a){return typeof a=="number"&&Number.isInteger(a)&&!Mh(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="";function nI(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=zE(e)),e=iI(a.get(n),e);return zE(e)}function iI(a,e){let n=e;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":n+="";break;case i1:n+="";break;default:n+=c}}return n}function zE(a){return a+i1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function ws(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function a1(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=c??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Jt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qE(this.data.getIterator())}getIteratorFrom(e){return new qE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class qE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Lt(Zt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new s1("Invalid base64 string: "+c):c}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const aI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(a){if(Ge(!!a,39018),typeof a=="string"){let e=0;const n=aI.exec(a);if(Ge(!!n,46558,{timestamp:a}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(a.seconds),nanos:Et(a.nanos)}}function Et(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function _s(a){return typeof a=="string"?Wt.fromBase64String(a):Wt.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="server_timestamp",o1="__type__",l1="__previous_value__",c1="__local_write_time__";function Bp(a){return(a?.mapValue?.fields||{})[o1]?.stringValue===r1}function ad(a){const e=a.mapValue.fields[l1];return Bp(e)?ad(e):e}function oc(a){const e=ys(a.mapValue.fields[c1].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,s,o,c,h,p,g,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Vh="(default)";class lc{constructor(e,n){this.projectId=e,this.database=n||Vh}static empty(){return new lc("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="__type__",rI="__max__",lh={mapValue:{}},h1="__vector__",kh="value";function vs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Bp(a)?4:lI(a)?9007199254740991:oI(a)?10:11:ve(28295,{value:a})}function Hi(a,e){if(a===e)return!0;const n=vs(a);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return oc(a).isEqual(oc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=ys(o.timestampValue),p=ys(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,c){return _s(o.bytesValue).isEqual(_s(c.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,c){return Et(o.geoPointValue.latitude)===Et(c.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(c.geoPointValue.longitude)})(a,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Et(o.integerValue)===Et(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=Et(o.doubleValue),p=Et(c.doubleValue);return h===p?Mh(h)===Mh(p):isNaN(h)&&isNaN(p)}return!1})(a,e);case 9:return bo(a.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},p=c.mapValue.fields||{};if(BE(h)!==BE(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Hi(h[g],p[g])))return!1;return!0})(a,e);default:return ve(52216,{left:a})}}function cc(a,e){return(a.values||[]).find((n=>Hi(n,e)))!==void 0}function So(a,e){if(a===e)return 0;const n=vs(a),s=vs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(a.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=Et(c.integerValue||c.doubleValue),g=Et(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(a,e);case 3:return HE(a.timestampValue,e.timestampValue);case 4:return HE(oc(a),oc(e));case 5:return Wm(a.stringValue,e.stringValue);case 6:return(function(c,h){const p=_s(c),g=_s(h);return p.compareTo(g)})(a.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=Ve(p[y],g[y]);if(E!==0)return E}return Ve(p.length,g.length)})(a.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=Ve(Et(c.latitude),Et(h.latitude));return p!==0?p:Ve(Et(c.longitude),Et(h.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return FE(a.arrayValue,e.arrayValue);case 10:return(function(c,h){const p=c.fields||{},g=h.fields||{},y=p[kh]?.arrayValue,E=g[kh]?.arrayValue,b=Ve(y?.values?.length||0,E?.values?.length||0);return b!==0?b:FE(y,E)})(a.mapValue,e.mapValue);case 11:return(function(c,h){if(c===lh.mapValue&&h===lh.mapValue)return 0;if(c===lh.mapValue)return 1;if(h===lh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const w=Wm(g[b],E[b]);if(w!==0)return w;const k=So(p[g[b]],y[E[b]]);if(k!==0)return k}return Ve(g.length,E.length)})(a.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function HE(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ve(a,e);const n=ys(a),s=ys(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function FE(a,e){const n=a.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=So(n[o],s[o]);if(c)return c}return Ve(n.length,s.length)}function Ao(a){return ep(a)}function ep(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const s=ys(n);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return _s(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return me.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=ep(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${ep(n.fields[h])}`;return o+"}"})(a.mapValue):ve(61005,{value:a})}function vh(a){switch(vs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ad(a);return e?16+vh(e):16;case 5:return 2*a.stringValue.length;case 6:return _s(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+vh(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return ws(s.fields,((c,h)=>{o+=c.length+vh(h)})),o})(a.mapValue);default:throw ve(13486,{value:a})}}function GE(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function tp(a){return!!a&&"integerValue"in a}function qp(a){return!!a&&"arrayValue"in a}function KE(a){return!!a&&"nullValue"in a}function QE(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Eh(a){return!!a&&"mapValue"in a}function oI(a){return(a?.mapValue?.fields||{})[u1]?.stringValue===h1}function Jl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return ws(a.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Jl(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(a.arrayValue.values[n]);return e}return{...a}}function lI(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===rI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=Zt.emptyPath(),s={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}h?s[p.lastSegment()]=Jl(h):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());Eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ws(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new vn(Jl(this.value))}}function d1(a){const e=[];return ws(a.fields,((n,s)=>{const o=new Zt([n]);if(Eh(s)){const c=d1(s.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,s,o,c,h,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new an(e,0,Te.min(),Te.min(),Te.min(),vn.empty(),0)}static newFoundDocument(e,n,s,o){return new an(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new an(e,2,n,Te.min(),Te.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Te.min(),Te.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.position=e,this.inclusive=n}}function YE(a,e,n){let s=0;for(let o=0;o<a.position.length;o++){const c=e[o],h=a.position[o];if(c.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=So(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function $E(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!Hi(a.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function cI(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{}class jt extends f1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new hI(e,n,s):n==="array-contains"?new mI(e,s):n==="in"?new pI(e,s):n==="not-in"?new gI(e,s):n==="array-contains-any"?new yI(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new dI(e,s):new fI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends f1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return m1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function m1(a){return a.op==="and"}function p1(a){return uI(a)&&m1(a)}function uI(a){for(const e of a.filters)if(e instanceof ci)return!1;return!0}function np(a){if(a instanceof jt)return a.field.canonicalString()+a.op.toString()+Ao(a.value);if(p1(a))return a.filters.map((e=>np(e))).join(",");{const e=a.filters.map((n=>np(n))).join(",");return`${a.op}(${e})`}}function g1(a,e){return a instanceof jt?(function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&Hi(s.value,o.value)})(a,e):a instanceof ci?(function(s,o){return o instanceof ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,h,p)=>c&&g1(h,o.filters[p])),!0):!1})(a,e):void ve(19439)}function y1(a){return a instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`})(a):a instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(y1).join(" ,")+"}"})(a):"Filter"}class hI extends jt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class dI extends jt{constructor(e,n){super(e,"in",n),this.keys=_1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class fI extends jt{constructor(e,n){super(e,"not-in",n),this.keys=_1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _1(a,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class mI extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qp(n)&&cc(n.arrayValue,this.value)}}class pI extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cc(this.value.arrayValue,n)}}class gI extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cc(this.value.arrayValue,n)}}class yI extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>cc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n=null,s=[],o=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function XE(a,e=null,n=[],s=[],o=null,c=null,h=null){return new _I(a,e,n,s,o,c,h)}function Hp(a){const e=Se(a);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>np(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ao(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ao(s))).join(",")),e.Te=n}return e.Te}function Fp(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!cI(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!g1(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!$E(a.startAt,e.startAt)&&$E(a.endAt,e.endAt)}function ip(a){return me.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n=null,s=[],o=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vI(a,e,n,s,o,c,h,p){return new Sc(a,e,n,s,o,c,h,p)}function Gp(a){return new Sc(a)}function JE(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function v1(a){return a.collectionGroup!==null}function Zl(a){const e=Se(a);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Lt(Zt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Lh(c,s))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new Lh(Zt.keyField(),s))}return e.Ie}function Ui(a){const e=Se(a);return e.Ee||(e.Ee=EI(e,Zl(a))),e.Ee}function EI(a,e){if(a.limitType==="F")return XE(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Lh(o.field,c)}));const n=a.endAt?new Ph(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Ph(a.startAt.position,a.startAt.inclusive):null;return XE(a.path,a.collectionGroup,e,a.filters,a.limit,n,s)}}function ap(a,e){const n=a.filters.concat([e]);return new Sc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function sp(a,e,n){return new Sc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function sd(a,e){return Fp(Ui(a),Ui(e))&&a.limitType===e.limitType}function E1(a){return`${Hp(Ui(a))}|lt:${a.limitType}`}function ho(a){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>y1(o))).join(", ")}]`),id(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ao(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ao(o))).join(",")),`Target(${s})`})(Ui(a))}; limitType=${a.limitType})`}function rd(a,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):me.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,e)&&(function(s,o){for(const c of Zl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(h,p,g){const y=YE(h,p,g);return h.inclusive?y<=0:y<0})(s.startAt,Zl(s),o)||s.endAt&&!(function(h,p,g){const y=YE(h,p,g);return h.inclusive?y>=0:y>0})(s.endAt,Zl(s),o))})(a,e)}function TI(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function T1(a){return(e,n)=>{let s=!1;for(const o of Zl(a)){const c=bI(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function bI(a,e,n){const s=a.field.isKeyField()?me.comparator(e.key,n.key):(function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?So(g,y):ve(42886)})(a.field,e,n);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return a1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new dt(me.comparator);function Sa(){return SI}const b1=new dt(me.comparator);function Gl(...a){let e=b1;for(const n of a)e=e.insert(n.key,n);return e}function S1(a){let e=b1;return a.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function sr(){return Wl()}function A1(){return Wl()}function Wl(){return new yr((a=>a.toString()),((a,e)=>a.isEqual(e)))}const AI=new dt(me.comparator),wI=new Lt(me.comparator);function ke(...a){let e=wI;for(const n of a)e=e.add(n);return e}const NI=new Lt(Ve);function RI(){return NI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function w1(a){return{integerValue:""+a}}function xI(a,e){return tI(e)?w1(e):Kp(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this._=void 0}}function CI(a,e,n){return a instanceof Uh?(function(o,c){const h={fields:{[o1]:{stringValue:r1},[c1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Bp(c)&&(c=ad(c)),c&&(h.fields[l1]=c),{mapValue:h}})(n,e):a instanceof uc?R1(a,e):a instanceof hc?x1(a,e):(function(o,c){const h=N1(o,c),p=ZE(h)+ZE(o.Ae);return tp(h)&&tp(o.Ae)?w1(p):Kp(o.serializer,p)})(a,e)}function II(a,e,n){return a instanceof uc?R1(a,e):a instanceof hc?x1(a,e):n}function N1(a,e){return a instanceof zh?(function(s){return tp(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Uh extends od{}class uc extends od{constructor(e){super(),this.elements=e}}function R1(a,e){const n=C1(e);for(const s of a.elements)n.some((o=>Hi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class hc extends od{constructor(e){super(),this.elements=e}}function x1(a,e){let n=C1(e);for(const s of a.elements)n=n.filter((o=>!Hi(o,s)));return{arrayValue:{values:n}}}class zh extends od{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ZE(a){return Et(a.integerValue||a.doubleValue)}function C1(a){return qp(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function DI(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof uc&&o instanceof uc||s instanceof hc&&o instanceof hc?bo(s.elements,o.elements,Hi):s instanceof zh&&o instanceof zh?Hi(s.Ae,o.Ae):s instanceof Uh&&o instanceof Uh})(a.transform,e.transform)}class jI{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class ld{}function I1(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Qp(a.key,Gn.none()):new Ac(a.key,a.data,Gn.none());{const n=a.data,s=vn.empty();let o=new Lt(Zt.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new Ns(a.key,s,new In(o.toArray()),Gn.none())}}function OI(a,e,n){a instanceof Ac?(function(o,c,h){const p=o.value.clone(),g=eT(o.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(a,e,n):a instanceof Ns?(function(o,c,h){if(!Th(o.precondition,c))return void c.convertToUnknownDocument(h.version);const p=eT(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(D1(o)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(a,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function ec(a,e,n,s){return a instanceof Ac?(function(c,h,p,g){if(!Th(c.precondition,h))return p;const y=c.value.clone(),E=tT(c.fieldTransforms,g,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(a,e,n,s):a instanceof Ns?(function(c,h,p,g){if(!Th(c.precondition,h))return p;const y=tT(c.fieldTransforms,g,h),E=h.data;return E.setAll(D1(c)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(a,e,n,s):(function(c,h,p){return Th(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(a,e,n)}function MI(a,e){let n=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),c=N1(s.transform,o||null);c!=null&&(n===null&&(n=vn.empty()),n.set(s.field,c))}return n||null}function WE(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&bo(s,o,((c,h)=>DI(c,h)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Ac extends ld{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ns extends ld{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function D1(a){const e=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=a.data.field(n);e.set(n,s)}})),e}function eT(a,e,n){const s=new Map;Ge(a.length===n.length,32656,{Re:n.length,Ve:a.length});for(let o=0;o<n.length;o++){const c=a[o],h=c.transform,p=e.data.field(c.field);s.set(c.field,II(h,p,n[o]))}return s}function tT(a,e,n){const s=new Map;for(const o of a){const c=o.transform,h=n.data.field(o.field);s.set(o.field,CI(c,h,e))}return s}class Qp extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VI extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&OI(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ec(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ec(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=A1();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=n.has(o.key)?null:p;const g=I1(h,p);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,((n,s)=>WE(n,s)))&&bo(this.baseMutations,e.baseMutations,((n,s)=>WE(n,s)))}}class Yp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return AI})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new Yp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Ue;function UI(a){switch(a){case W.OK:return ve(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ve(15467,{code:a})}}function j1(a){if(a===void 0)return ba("GRPC error has no .code"),W.UNKNOWN;switch(a){case Dt.OK:return W.OK;case Dt.CANCELLED:return W.CANCELLED;case Dt.UNKNOWN:return W.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return W.INTERNAL;case Dt.UNAVAILABLE:return W.UNAVAILABLE;case Dt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Dt.NOT_FOUND:return W.NOT_FOUND;case Dt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Dt.ABORTED:return W.ABORTED;case Dt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Dt.DATA_LOSS:return W.DATA_LOSS;default:return ve(39323,{code:a})}}(Ue=Dt||(Dt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new fs([4294967295,4294967295],0);function nT(a){const e=zI().encode(a),n=new Q0;return n.update(e),new Uint8Array(n.digest())}function iT(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new fs([n,s],0),new fs([o,c],0)]}class $p{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(fs.fromNumber(s)));return o.compare(BI)===1&&(o=new fs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nT(e),[s,o]=iT(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new $p(c,o,n);return s.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=nT(e),[s,o]=iT(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new cd(Te.min(),o,new dt(Ve),Sa(),ke())}}class wc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wc(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class O1{constructor(e,n){this.targetId=e,this.Ce=n}}class M1{constructor(e,n,s=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class aT{constructor(){this.ve=0,this.Fe=sT(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:c})}})),new wc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=sT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sa(),this.Je=ch(),this.He=ch(),this.Ye=new dt(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(ip(c))if(s===0){const h=new me(c.path);this.et(n,h,an.newNoDocument(h,Te.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let h,p;try{h=_s(s).toUint8Array()}catch(g){if(g instanceof s1)return To("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new $p(h,o,c)}catch(g){return To(g instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&ip(p.target)){const g=new me(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,an.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.qe())}}));let s=ke();this.He.forEach(((c,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new cd(e,n,this.Ye,this.je,s);return this.je=Sa(),this.Je=ch(),this.He=ch(),this.Ye=new dt(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new aT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ch(){return new dt(me.comparator)}function sT(){return new dt(me.comparator)}const HI={asc:"ASCENDING",desc:"DESCENDING"},FI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GI={and:"AND",or:"OR"};class KI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rp(a,e){return a.useProto3Json||id(e)?e:{value:e}}function Bh(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V1(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function QI(a,e){return Bh(a,e.toTimestamp())}function zi(a){return Ge(!!a,49232),Te.fromTimestamp((function(n){const s=ys(n);return new st(s.seconds,s.nanos)})(a))}function Xp(a,e){return op(a,e).canonicalString()}function op(a,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?n:n.child(e)}function k1(a){const e=tt.fromString(a);return Ge(B1(e),10190,{key:e.toString()}),e}function lp(a,e){return Xp(a.databaseId,e.path)}function Vm(a,e){const n=k1(e);if(n.get(1)!==a.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new me(L1(n))}function P1(a,e){return Xp(a.databaseId,e)}function YI(a){const e=k1(a);return e.length===4?tt.emptyPath():L1(e)}function cp(a){return new tt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function L1(a){return Ge(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function rT(a,e,n){return{name:lp(a,e),fields:n.value.mapValue.fields}}function $I(a,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Wt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Wt.fromUint8Array(E||new Uint8Array))})(a,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const E=y.code===void 0?W.UNKNOWN:j1(y.code);return new oe(E,y.message||"")})(h);n=new M1(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Vm(a,s.document.name),c=zi(s.document.updateTime),h=s.document.createTime?zi(s.document.createTime):Te.min(),p=new vn({mapValue:{fields:s.document.fields}}),g=an.newFoundDocument(o,c,h,p),y=s.targetIds||[],E=s.removedTargetIds||[];n=new bh(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Vm(a,s.document),c=s.readTime?zi(s.readTime):Te.min(),h=an.newNoDocument(o,c),p=s.removedTargetIds||[];n=new bh([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Vm(a,s.document),c=s.removedTargetIds||[];n=new bh([],c,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new LI(o,c),p=s.targetId;n=new O1(p,h)}}return n}function XI(a,e){let n;if(e instanceof Ac)n={update:rT(a,e.key,e.value)};else if(e instanceof Qp)n={delete:lp(a,e.key)};else if(e instanceof Ns)n={update:rT(a,e.key,e.data),updateMask:s2(e.fieldMask)};else{if(!(e instanceof VI))return ve(16599,{Vt:e.type});n={verify:lp(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const p=h.transform;if(p instanceof Uh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof uc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof hc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof zh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw ve(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:QI(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(a,e.precondition)),n}function JI(a,e){return a&&a.length>0?(Ge(e!==void 0,14353),a.map((n=>(function(o,c){let h=o.updateTime?zi(o.updateTime):zi(c);return h.isEqual(Te.min())&&(h=zi(c)),new jI(h,o.transformResults||[])})(n,e)))):[]}function ZI(a,e){return{documents:[P1(a,e.path)]}}function WI(a,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=P1(a,o);const c=(function(y){if(y.length!==0)return z1(ci.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:fo(w.field),direction:n2(w.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=rp(a,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function e2(a){let e=YI(a.parent);const n=a.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(b){const w=U1(b);return w instanceof ci&&p1(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((w=>(function(F){return new Lh(mo(F.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(w)))})(n.orderBy));let p=null;n.limit&&(p=(function(b){let w;return w=typeof b=="object"?b.value:b,id(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(b){const w=!!b.before,k=b.values||[];return new Ph(k,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const w=!b.before,k=b.values||[];return new Ph(k,w)})(n.endAt)),vI(e,o,h,c,p,"F",g,y)}function t2(a,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U1(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=mo(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=mo(n.unaryFilter.field);return jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=mo(n.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(a):a.fieldFilter!==void 0?(function(n){return jt.create(mo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((s=>U1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(a):ve(30097,{filter:a})}function n2(a){return HI[a]}function i2(a){return FI[a]}function a2(a){return GI[a]}function fo(a){return{fieldPath:a.canonicalString()}}function mo(a){return Zt.fromServerFormat(a.fieldPath)}function z1(a){return a instanceof jt?(function(n){if(n.op==="=="){if(QE(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(KE(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QE(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(KE(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:i2(n.op),value:n.value}}})(a):a instanceof ci?(function(n){const s=n.getFilters().map((o=>z1(o)));return s.length===1?s[0]:{compositeFilter:{op:a2(n.op),filters:s}}})(a):ve(54877,{filter:a})}function s2(a){const e=[];return a.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function B1(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,s,o,c=Te.min(),h=Te.min(),p=Wt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.yt=e}}function o2(a){const e=e2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.Cn=new c2}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(gs.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class c2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(tt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q1=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(q1,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wo(0)}static cr(){return new wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="LruGarbageCollector",u2=1048576;function cT([a,e],[n,s]){const o=Ve(a,n);return o===0?Ve(e,s):o}class h2{constructor(e){this.Ir=e,this.buffer=new Lt(cT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();cT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class d2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(lT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?le(lT,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.Vr(3e5)}))}}class f2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(nd.ce);const s=new h2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(oT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,h,p,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,p=Date.now(),this.removeTargets(e,s,n)))).next((b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(y=Date.now(),uo()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function m2(a,e){return new f2(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.changes=new yr((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&ec(s.mutation,o,In.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=sr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let h=Gl();return c.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=sr();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,s,o){let c=Sa();const h=Wl(),p=(function(){return Wl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ns)?c=c.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),ec(E.mutation,y,E.mutation.getFieldMask(),st.now())):h.set(y.key,In.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,E)=>h.set(y,E))),n.forEach(((y,E)=>p.set(y,new g2(E,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=Wl();let o=new dt(((h,p)=>h-p)),c=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||In.empty();E=p.applyToLocalView(y,E),s.set(g,E);const b=(o.get(p.batchId)||ke()).add(g);o=o.insert(p.batchId,b)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,b=A1();E.forEach((w=>{if(!c.has(w)){const k=I1(n.get(w),s.get(w));k!==null&&b.set(w,k),c=c.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,b))}return te.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):te.resolve(sr());let p=rc,g=c;return h.next((y=>te.forEach(y,((E,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,ke()))).next((E=>({batchId:p,changes:S1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let h=Gl();return this.indexManager.getCollectionParents(e,c).next((p=>te.forEach(p,(g=>{const y=(function(b,w){return new Sc(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((b,w)=>{h=h.insert(b,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((h=>{c.forEach(((g,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,an.newInvalidDocument(E)))}));let p=Gl();return h.forEach(((g,y)=>{const E=c.get(g);E!==void 0&&ec(E.mutation,y,In.empty(),st.now()),rd(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:o2(o.bundledQuery),readTime:zi(o.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.overlays=new dt(me.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=sr();return te.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=sr(),c=n.length+1,h=new me(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new dt(((y,E)=>y-E));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=sr(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=sr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return te.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new PI(n,s));let c=this.qr.get(n);c===void 0&&(c=ke(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.Qr=new Lt(Ft.$r),this.Ur=new Lt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ft(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ft(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new tt([])),s=new Ft(n,e),o=new Ft(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new tt([])),s=new Ft(n,e),o=new Ft(n,e+1);let c=ke();return this.Ur.forEachInRange([s,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new Ft(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Ft.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new kI(c,n,s,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new Ft(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?zp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ft(n,0),o=new Ft(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(h=>{const p=this.Xr(h.Yr);c.push(p)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(Ve);return n.forEach((o=>{const c=new Ft(o,0),h=new Ft(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(p=>{s=s.add(p.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;me.isDocumentKey(c)||(c=c.child(""));const h=new Ft(new me(c),0);let p=new Lt(Ve);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),h),te.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const c=new Ft(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ft(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.ri=e,this.docs=(function(){return new dt(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let s=Sa();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=Sa();const h=n.path,p=new me(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||JC(XC(E),s)<=0||(o.has(E.key)||rd(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new S2(this)}getSize(e){return te.resolve(this.size)}}class S2 extends p2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.persistence=e,this.si=new yr((n=>Hp(n)),Fp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Jp,this.targetCount=0,this.ai=wo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new wo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.ui={},this.overlays={},this.ci=new nd(0),this.li=!1,this.li=!0,this.hi=new E2,this.referenceDelegate=e(this),this.Pi=new A2(this),this.indexManager=new l2,this.remoteDocumentCache=(function(o){return new b2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new r2(n),this.Ii=new _2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new T2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new w2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class w2 extends WC{constructor(e){super(),this.currentSequenceNumber=e}}class Zp{constructor(e){this.persistence=e,this.Ri=new Jp,this.Vi=null}static mi(e){return new Zp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class qh{constructor(e,n){this.persistence=e,this.pi=new yr((s=>nI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=m2(this,n)}static mi(e,n){return new qh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((p=>{p||(s++,c.removeEntry(h,Te.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Wp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aN()?8:eI(sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new N2;return this.Ss(e,n,h).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(uo()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(uo()<=Me.DEBUG&&le("QueryEngine","Query:",ho(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(uo()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):te.resolve())}ys(e,n){if(JE(n))return te.resolve(null);let s=Ui(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=sp(n,null,"F"),s=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=ke(...c);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,h,g.readTime)?this.ys(e,sp(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return JE(n)||o.isEqual(Te.min())?te.resolve(null):this.ps.getDocuments(e,s).next((c=>{const h=this.Ds(n,c);return this.Cs(n,h,s,o)?te.resolve(null):(uo()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(n)),this.vs(e,h,n,$C(o,rc)).next((p=>p)))}))}Ds(e,n){let s=new Lt(T1(e));return n.forEach(((o,c)=>{rd(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return uo()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ho(n)),this.ps.getDocumentsMatchingQuery(e,n,gs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="LocalStore",x2=3e8;class C2{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new dt(Ve),this.xs=new yr((c=>Hp(c)),Fp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function I2(a,e,n,s){return new C2(a,e,n,s)}async function F1(a,e){const n=Se(a);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],p=[];let g=ke();for(const y of o){h.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function D2(a,e){const n=Se(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,E){const b=y.batch,w=b.keys();let k=te.resolve();return w.forEach((F=>{k=k.next((()=>E.getEntry(g,F))).next((Q=>{const P=y.docVersions.get(F);Ge(P!==null,48541),Q.version.compareTo(P)<0&&(b.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))}))})),k.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=ke();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function G1(a){const e=Se(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function j2(a,e){const n=Se(a),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((E,b)=>{const w=o.get(b);if(!w)return;p.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,b))));let k=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?k=k.withResumeToken(Wt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(b,k),(function(Q,P,J){return Q.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=x2?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(w,k,E)&&p.push(n.Pi.updateTargetData(c,k))}));let g=Sa(),y=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(O2(c,h,e.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(Te.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(E)}return te.waitFor(p).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=o,c)))}function O2(a,e,n){let s=ke(),o=ke();return n.forEach((c=>s=s.add(c))),e.getEntries(a,s).next((c=>{let h=Sa();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):le(eg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function M2(a,e){const n=Se(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=zp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function V2(a,e){const n=Se(a);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,te.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new us(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function up(a,e,n){const s=Se(a),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!jo(h))throw h;le(eg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function uT(a,e,n){const s=Se(a);let o=Te.min(),c=ke();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,E){const b=Se(g),w=b.xs.get(E);return w!==void 0?te.resolve(b.Ms.get(w)):b.Pi.getTargetData(y,E)})(s,h,Ui(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Te.min(),n?c:ke()))).next((p=>(k2(s,TI(e),p),{documents:p,Qs:c})))))}function k2(a,e,n){let s=a.Os.get(e)||Te.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Os.set(e,s)}class hT{constructor(){this.activeTargetIds=RI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P2{constructor(){this.Mo=new hT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="ConnectivityMonitor";class fT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(dT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(dT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function hp(){return uh===null?uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",U2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const h=hp(),p=this.zo(e,n.toUriEncodedString());le(km,`Sending RPC '${e}' ${h}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),E=mr(y);return this.Jo(e,p,g,s,E).then((b=>(le(km,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw To(km,`RPC '${e}' ${h} failed with error: `,b,"url: ",p,"request:",s),b}))}Ho(e,n,s,o,c,h){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=U2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class q2 extends z2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const h=hp();return new Promise(((p,g)=>{const y=new Y0;y.setWithCredentials(!0),y.listenOnce($0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case _h.NO_ERROR:const b=y.getResponseJson();le(tn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),p(b);break;case _h.TIMEOUT:le(tn,`RPC '${e}' ${h} timed out`),g(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const w=y.getStatus();if(le(tn,`RPC '${e}' ${h} failed with status:`,w,"response text:",y.getResponseText()),w>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k?.error;if(F&&F.status&&F.message){const Q=(function(J){const ne=J.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ne)>=0?ne:W.UNKNOWN})(F.status);g(new oe(Q,F.message))}else g(new oe(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new oe(W.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(tn,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);le(tn,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=hp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Z0(),p=J0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=c.join("");le(tn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const b=h.createWebChannel(E,g);this.I_(b);let w=!1,k=!1;const F=new B2({Yo:P=>{k?le(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(w||(le(tn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),le(tn,`RPC '${e}' stream ${o} sending:`,P),b.send(P))},Zo:()=>b.close()}),Q=(P,J,ne)=>{P.listen(J,(ie=>{try{ne(ie)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return Q(b,Fl.EventType.OPEN,(()=>{k||(le(tn,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),Q(b,Fl.EventType.CLOSE,(()=>{k||(k=!0,le(tn,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(b))})),Q(b,Fl.EventType.ERROR,(P=>{k||(k=!0,To(tn,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),F.a_(new oe(W.UNAVAILABLE,"The operation could not be completed")))})),Q(b,Fl.EventType.MESSAGE,(P=>{if(!k){const J=P.data[0];Ge(!!J,16349);const ne=J,ie=ne?.error||ne[0]?.error;if(ie){le(tn,`RPC '${e}' stream ${o} received error:`,ie);const ge=ie.status;let Ae=(function(N){const R=Dt[N];if(R!==void 0)return j1(R)})(ge),we=ie.message;Ae===void 0&&(Ae=W.INTERNAL,we="Unknown error status: "+ge+" with message "+ie.message),k=!0,F.a_(new oe(Ae,we)),b.close()}else le(tn,`RPC '${e}' stream ${o} received:`,J),F.u_(J)}})),Q(p,X0.STAT_EVENT,(P=>{P.stat===Zm.PROXY?le(tn,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Zm.NOPROXY&&le(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(a){return new KI(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="PersistentStream";class Q1{constructor(e,n,s,o,c,h,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new K1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(ba(n.toString()),ba("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(mT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(mT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class H2 extends Q1{constructor(e,n,s,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$I(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Te.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?zi(h.readTime):Te.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=cp(this.serializer),n.addTarget=(function(c,h){let p;const g=h.target;if(p=ip(g)?{documents:ZI(c,g)}:{query:WI(c,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=V1(c,h.resumeToken);const y=rp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Te.min())>0){p.readTime=Bh(c,h.snapshotVersion.toTimestamp());const y=rp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=t2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=cp(this.serializer),n.removeTarget=e,this.q_(n)}}class F2 extends Q1{constructor(e,n,s,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JI(e.writeResults,e.commitTime),s=zi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=cp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>XI(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{}class K2 extends G2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,op(n,s),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(W.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,op(n,s),o,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(W.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Q2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ba(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="RemoteStore";class Y2{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{_r(this)&&(le(dr,"Restarting streams for network reachability change."),await(async function(g){const y=Se(g);y.Ea.add(4),await Nc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await hd(y)})(this))}))})),this.Ra=new Q2(s,o)}}async function hd(a){if(_r(a))for(const e of a.da)await e(!0)}async function Nc(a){for(const e of a.da)await e(!1)}function Y1(a,e){const n=Se(a);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ag(n)?ig(n):Oo(n).O_()&&ng(n,e))}function tg(a,e){const n=Se(a),s=Oo(n);n.Ia.delete(e),s.O_()&&$1(n,e),n.Ia.size===0&&(s.O_()?s.L_():_r(n)&&n.Ra.set("Unknown"))}function ng(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(a).Y_(e)}function $1(a,e){a.Va.Ue(e),Oo(a).Z_(e)}function ig(a){a.Va=new qI({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Oo(a).start(),a.Ra.ua()}function ag(a){return _r(a)&&!Oo(a).x_()&&a.Ia.size>0}function _r(a){return Se(a).Ea.size===0}function X1(a){a.Va=void 0}async function $2(a){a.Ra.set("Online")}async function X2(a){a.Ia.forEach(((e,n)=>{ng(a,e)}))}async function J2(a,e){X1(a),ag(a)?(a.Ra.ha(e),ig(a)):a.Ra.set("Unknown")}async function Z2(a,e,n){if(a.Ra.set("Online"),e instanceof M1&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(a,e)}catch(s){le(dr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(a,s)}else if(e instanceof bh?a.Va.Ze(e):e instanceof O1?a.Va.st(e):a.Va.tt(e),!n.isEqual(Te.min()))try{const s=await G1(a.localStore);n.compareTo(s)>=0&&await(function(c,h){const p=c.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken(Wt.EMPTY_BYTE_STRING,E.snapshotVersion)),$1(c,g);const b=new us(E.target,g,y,E.sequenceNumber);ng(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(a,n)}catch(s){le(dr,"Failed to raise snapshot:",s),await Hh(a,s)}}async function Hh(a,e,n){if(!jo(e))throw e;a.Ea.add(1),await Nc(a),a.Ra.set("Offline"),n||(n=()=>G1(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{le(dr,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await hd(a)}))}function J1(a,e){return e().catch((n=>Hh(a,n,e)))}async function dd(a){const e=Se(a),n=Es(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zp;for(;W2(e);)try{const o=await M2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,eD(e,o)}catch(o){await Hh(e,o)}Z1(e)&&W1(e)}function W2(a){return _r(a)&&a.Ta.length<10}function eD(a,e){a.Ta.push(e);const n=Es(a);n.O_()&&n.X_&&n.ea(e.mutations)}function Z1(a){return _r(a)&&!Es(a).x_()&&a.Ta.length>0}function W1(a){Es(a).start()}async function tD(a){Es(a).ra()}async function nD(a){const e=Es(a);for(const n of a.Ta)e.ea(n.mutations)}async function iD(a,e,n){const s=a.Ta.shift(),o=Yp.from(s,e,n);await J1(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await dd(a)}async function aD(a,e){e&&Es(a).X_&&await(async function(s,o){if((function(h){return UI(h)&&h!==W.ABORTED})(o.code)){const c=s.Ta.shift();Es(s).B_(),await J1(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await dd(s)}})(a,e),Z1(a)&&W1(a)}async function pT(a,e){const n=Se(a);n.asyncQueue.verifyOperationInProgress(),le(dr,"RemoteStore received new credentials");const s=_r(n);n.Ea.add(3),await Nc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hd(n)}async function sD(a,e){const n=Se(a);e?(n.Ea.delete(2),await hd(n)):e||(n.Ea.add(2),await Nc(n),n.Ra.set("Unknown"))}function Oo(a){return a.ma||(a.ma=(function(n,s,o){const c=Se(n);return c.sa(),new H2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:$2.bind(null,a),t_:X2.bind(null,a),r_:J2.bind(null,a),H_:Z2.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),ag(a)?ig(a):a.Ra.set("Unknown")):(await a.ma.stop(),X1(a))}))),a.ma}function Es(a){return a.fa||(a.fa=(function(n,s,o){const c=Se(n);return c.sa(),new F2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:tD.bind(null,a),r_:aD.bind(null,a),ta:nD.bind(null,a),na:iD.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await dd(a)):(await a.fa.stop(),a.Ta.length>0&&(le(dr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new _a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const h=Date.now()+s,p=new sg(e,n,h,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(a,e){if(ba("AsyncQueue",`${e}: ${a}`),jo(a))return new oe(W.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Gl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.ga=new dt(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class No{constructor(e,n,s,o,c,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new No(e,n,vo.emptySet(n),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class oD{constructor(){this.queries=yT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),c=o.queries;o.queries=yT(),c.forEach(((h,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function yT(){return new yr((a=>E1(a)),sd)}async function eb(a,e){const n=Se(a);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new rD,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=rg(h,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&og(n)}async function tb(a,e){const n=Se(a),s=e.query;let o=3;const c=n.queries.get(s);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function lD(a,e){const n=Se(a);let s=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const p of h.Sa)p.Fa(o)&&(s=!0);h.wa=o}}s&&og(n)}function cD(a,e,n){const s=Se(a),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function og(a){a.Ca.forEach((e=>{e.next()}))}var dp,_T;(_T=dp||(dp={})).Ma="default",_T.Cache="cache";class nb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new No(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.key=e}}class ab{constructor(e){this.key=e}}class uD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=T1(e),this.tu=new vo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new gT,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const w=o.get(E),k=rd(this.query,b)?b:null,F=!!w&&this.mutatedKeys.has(w.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let P=!1;w&&k?w.data.isEqual(k.data)?F!==Q&&(s.track({type:3,doc:k}),P=!0):this.su(w,k)||(s.track({type:2,doc:k}),P=!0,(g&&this.eu(k,g)>0||y&&this.eu(k,y)<0)&&(p=!0)):!w&&k?(s.track({type:0,doc:k}),P=!0):w&&!k&&(s.track({type:1,doc:w}),P=!0,(g||y)&&(p=!0)),P&&(k?(h=h.add(k),c=Q?c.add(E):c.delete(E)):(h=h.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,b)=>(function(k,F){const Q=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:P})}};return Q(k)-Q(F)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new No(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new ab(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new ib(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lg="SyncEngine";class hD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class dD{constructor(e){this.key=e,this.hu=!1}}class fD{constructor(e,n,s,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new yr((p=>E1(p)),sd),this.Iu=new Map,this.Eu=new Set,this.du=new dt(me.comparator),this.Au=new Map,this.Ru=new Jp,this.Vu={},this.mu=new Map,this.fu=wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mD(a,e,n=!0){const s=ub(a);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await sb(s,e,n,!0),o}async function pD(a,e){const n=ub(a);await sb(n,e,!0,!1)}async function sb(a,e,n,s){const o=await V2(a.localStore,Ui(e)),c=o.targetId,h=a.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await gD(a,e,c,h==="current",o.resumeToken)),a.isPrimaryClient&&n&&Y1(a.remoteStore,o),p}async function gD(a,e,n,s,o){a.pu=(b,w,k)=>(async function(Q,P,J,ne){let ie=P.view.ru(J);ie.Cs&&(ie=await uT(Q.localStore,P.query,!1).then((({documents:I})=>P.view.ru(I,ie))));const ge=ne&&ne.targetChanges.get(P.targetId),Ae=ne&&ne.targetMismatches.get(P.targetId)!=null,we=P.view.applyChanges(ie,Q.isPrimaryClient,ge,Ae);return ET(Q,P.targetId,we.au),we.snapshot})(a,b,w,k);const c=await uT(a.localStore,e,!0),h=new uD(e,c.Qs),p=h.ru(c.documents),g=wc.createSynthesizedTargetChangeForCurrentChange(n,s&&a.onlineState!=="Offline",o),y=h.applyChanges(p,a.isPrimaryClient,g);ET(a,n,y.au);const E=new hD(e,n,h);return a.Tu.set(e,E),a.Iu.has(n)?a.Iu.get(n).push(e):a.Iu.set(n,[e]),y.snapshot}async function yD(a,e,n){const s=Se(a),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((h=>!sd(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await up(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&tg(s.remoteStore,o.targetId),fp(s,o.targetId)})).catch(Do)):(fp(s,o.targetId),await up(s.localStore,o.targetId,!0))}async function _D(a,e){const n=Se(a),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),tg(n.remoteStore,s.targetId))}async function vD(a,e,n){const s=ND(a);try{const o=await(function(h,p){const g=Se(h),y=st.now(),E=p.reduce(((k,F)=>k.add(F.key)),ke());let b,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let F=Sa(),Q=ke();return g.Ns.getEntries(k,E).next((P=>{F=P,F.forEach(((J,ne)=>{ne.isValidDocument()||(Q=Q.add(J))}))})).next((()=>g.localDocuments.getOverlayedDocuments(k,F))).next((P=>{b=P;const J=[];for(const ne of p){const ie=MI(ne,b.get(ne.key).overlayedDocument);ie!=null&&J.push(new Ns(ne.key,ie,d1(ie.value.mapValue),Gn.exists(!0)))}return g.mutationQueue.addMutationBatch(k,y,J,p)})).next((P=>{w=P;const J=P.applyToLocalDocumentSet(b,Q);return g.documentOverlayCache.saveOverlays(k,P.batchId,J)}))})).then((()=>({batchId:w.batchId,changes:S1(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new dt(Ve)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(s,o.batchId,n),await Rc(s,o.changes),await dd(s.remoteStore)}catch(o){const c=rg(o,"Failed to persist write");n.reject(c)}}async function rb(a,e){const n=Se(a);try{const s=await j2(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await Rc(n,s,e)}catch(s){await Do(s)}}function vT(a,e,n){const s=Se(a);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Se(h);g.onlineState=p;let y=!1;g.queries.forEach(((E,b)=>{for(const w of b.Sa)w.va(p)&&(y=!0)})),y&&og(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ED(a,e,n){const s=Se(a);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let h=new dt(me.comparator);h=h.insert(c,an.newNoDocument(c,Te.min()));const p=ke().add(c),g=new cd(Te.min(),new Map,new dt(Ve),h,p);await rb(s,g),s.du=s.du.remove(c),s.Au.delete(e),cg(s)}else await up(s.localStore,e,!1).then((()=>fp(s,e,n))).catch(Do)}async function TD(a,e){const n=Se(a),s=e.batch.batchId;try{const o=await D2(n.localStore,e);lb(n,s,null),ob(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Rc(n,o)}catch(o){await Do(o)}}async function bD(a,e,n){const s=Se(a);try{const o=await(function(h,p){const g=Se(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next((b=>(Ge(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);lb(s,e,n),ob(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Rc(s,o)}catch(o){await Do(o)}}function ob(a,e){(a.mu.get(e)||[]).forEach((n=>{n.resolve()})),a.mu.delete(e)}function lb(a,e,n){const s=Se(a);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function fp(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),n&&a.Pu.yu(s,n);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||cb(a,s)}))}function cb(a,e){a.Eu.delete(e.path.canonicalString());const n=a.du.get(e);n!==null&&(tg(a.remoteStore,n),a.du=a.du.remove(e),a.Au.delete(n),cg(a))}function ET(a,e,n){for(const s of n)s instanceof ib?(a.Ru.addReference(s.key,e),SD(a,s)):s instanceof ab?(le(lg,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||cb(a,s.key)):ve(19791,{wu:s})}function SD(a,e){const n=e.key,s=n.path.canonicalString();a.du.get(n)||a.Eu.has(s)||(le(lg,"New document in limbo: "+n),a.Eu.add(s),cg(a))}function cg(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const n=new me(tt.fromString(e)),s=a.fu.next();a.Au.set(s,new dD(n)),a.du=a.du.insert(n,s),Y1(a.remoteStore,new us(Ui(Gp(n.path)),s,"TargetPurposeLimboResolution",nd.ce))}}async function Rc(a,e,n){const s=Se(a),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{h.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Wp.As(g.targetId,y);c.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(g,y){const E=Se(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(y,(w=>te.forEach(w.Es,(k=>E.persistence.referenceDelegate.addReference(b,w.targetId,k))).next((()=>te.forEach(w.ds,(k=>E.persistence.referenceDelegate.removeReference(b,w.targetId,k)))))))))}catch(b){if(!jo(b))throw b;le(eg,"Failed to update sequence numbers: "+b)}for(const b of y){const w=b.targetId;if(!b.fromCache){const k=E.Ms.get(w),F=k.snapshotVersion,Q=k.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(w,Q)}}})(s.localStore,c))}async function AD(a,e){const n=Se(a);if(!n.currentUser.isEqual(e)){le(lg,"User change. New user:",e.toKey());const s=await F1(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new oe(W.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Rc(n,s.Ls)}}function wD(a,e){const n=Se(a),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function ub(a){const e=Se(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=rb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ED.bind(null,e),e.Pu.H_=lD.bind(null,e.eventManager),e.Pu.yu=cD.bind(null,e.eventManager),e}function ND(a){const e=Se(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bD.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ud(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return I2(this.persistence,new R2,e.initialUser,this.serializer)}Cu(e){return new H1(Zp.mi,this.serializer)}Du(e){return new P2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class RD extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new d2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new H1((s=>qh.mi(s,n)),this.serializer)}}class mp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AD.bind(null,this.syncEngine),await sD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oD})()}createDatastore(e){const n=ud(e.databaseInfo.databaseId),s=(function(c){return new q2(c)})(e.databaseInfo);return(function(c,h,p,g){return new K2(c,h,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,h,p){return new Y2(s,o,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>vT(this.syncEngine,n,0)),(function(){return fT.v()?new fT:new L2})())}createSyncEngine(e,n){return(function(o,c,h,p,g,y,E){const b=new fD(o,c,h,p,g,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Se(n);le(dr,"RemoteStore shutting down."),s.Ea.add(5),await Nc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mp.provider={build:()=>new mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ba("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class xD{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{le(Ts,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(Ts,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=rg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Lm(a,e){a.asyncQueue.verifyOperationInProgress(),le(Ts,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let s=n.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await F1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function TT(a,e){a.asyncQueue.verifyOperationInProgress();const n=await CD(a);le(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener((s=>pT(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>pT(e.remoteStore,o))),a._onlineComponents=e}async function CD(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){le(Ts,"Using user provided OfflineComponentProvider");try{await Lm(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Lm(a,new Fh)}}else le(Ts,"Using default OfflineComponentProvider"),await Lm(a,new RD(void 0));return a._offlineComponents}async function db(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(le(Ts,"Using user provided OnlineComponentProvider"),await TT(a,a._uninitializedComponentsProvider._online)):(le(Ts,"Using default OnlineComponentProvider"),await TT(a,new mp))),a._onlineComponents}function ID(a){return db(a).then((e=>e.syncEngine))}async function fb(a){const e=await db(a),n=e.eventManager;return n.onListen=mD.bind(null,e.syncEngine),n.onUnlisten=yD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_D.bind(null,e.syncEngine),n}function DD(a,e,n={}){const s=new _a;return a.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const E=new hb({next:w=>{E.Nu(),h.enqueueAndForget((()=>tb(c,b)));const k=w.docs.has(p);!k&&w.fromCache?y.reject(new oe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&g&&g.source==="server"?y.reject(new oe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new nb(Gp(p.path),E,{includeMetadataChanges:!0,qa:!0});return eb(c,b)})(await fb(a),a.asyncQueue,e,n,s))),s.promise}function jD(a,e,n={}){const s=new _a;return a.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const E=new hb({next:w=>{E.Nu(),h.enqueueAndForget((()=>tb(c,b))),w.fromCache&&g.source==="server"?y.reject(new oe(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new nb(p,E,{includeMetadataChanges:!0,qa:!0});return eb(c,b)})(await fb(a),a.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="firestore.googleapis.com",ST=!0;class AT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pb,this.ssl=ST}else this.host=e.host,this.ssl=e.ssl??ST;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u2)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new LC;switch(s.type){case"firstParty":return new qC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=bT.get(n);s&&(le("ComponentProvider","Removing Datastore"),bT.delete(n),s.terminate())})(this),Promise.resolve()}}function OD(a,e,n,s={}){a=li(a,fd);const o=mr(e),c=a._getSettings(),h={...c,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${n}`;o&&(wp(`https://${p}`),Np("Firestore",!0)),c.host!==pb&&c.host!==p&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!or(g,h)&&(a._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=nn.MOCK_USER;else{y=r0(s.mockUserToken,a._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new nn(b)}a._authCredentials=new UC(new e1(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mo(this.firestore,e,this._query)}}class Tt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(bc(n,Tt._jsonSchema))return new Tt(e,s||null,new me(tt.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Ot("string",Tt._jsonSchemaVersion),referencePath:Ot("string")};class ms extends Mo{constructor(e,n,s){super(e,n,Gp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new me(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function ui(a,e,...n){if(a=Ut(a),t1("collection","path",e),a instanceof fd){const s=tt.fromString(e,...n);return PE(s),new ms(a,null,s)}{if(!(a instanceof Tt||a instanceof ms))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(tt.fromString(e,...n));return PE(s),new ms(a.firestore,null,s)}}function rn(a,e,...n){if(a=Ut(a),arguments.length===1&&(e=Up.newId()),t1("doc","path",e),a instanceof fd){const s=tt.fromString(e,...n);return kE(s),new Tt(a,null,new me(s))}{if(!(a instanceof Tt||a instanceof ms))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(tt.fromString(e,...n));return kE(s),new Tt(a.firestore,a instanceof ms?a.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="AsyncQueue";class NT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new K1(this,"async_queue_retry"),this._c=()=>{const s=Pm();s&&le(wT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _a;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;le(wT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ba("INTERNAL UNHANDLED ERROR: ",RT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=sg.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:RT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function RT(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class vr extends fd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new NT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NT(e),this._firestoreClient=void 0,await e}}}function MD(a,e){const n=typeof a=="object"?a:Cp(),s=typeof a=="string"?a:Vh,o=Jh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=i0("firestore");c&&OD(o,...c)}return o}function ug(a){if(a._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||VD(a),a._firestoreClient}function VD(a){const e=a._freezeSettings(),n=(function(o,c,h,p){return new sI(o,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,mb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new xD(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Wt.fromBase64String(e))}catch(n){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bc(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ot("string",Fn._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(bc(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Ot("string",Bi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bc(e,qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qi(e.vectorValues);throw new oe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Ot("string",qi._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=/^__.*__$/;class PD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(e,this.data,n,this.fieldTransforms)}}class gb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yb(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:a})}}class dg{constructor(e,n,s,o,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yb(this.Ac)&&kD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class LD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ud(e)}Cc(e,n,s,o=!1){return new dg({Ac:e,methodName:n,Dc:s,path:Zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pd(a){const e=a._freezeSettings(),n=ud(a._databaseId);return new LD(a._databaseId,!!e.ignoreUndefinedProperties,n)}function _b(a,e,n,s,o,c={}){const h=a.Cc(c.merge||c.mergeFields?2:0,e,n,o);fg("Data must be an object, but it was:",h,s);const p=vb(s,h);let g,y;if(c.merge)g=new In(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const w=pp(e,b,n);if(!h.contains(w))throw new oe(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Tb(E,w)||E.push(w)}g=new In(E),y=h.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=h.fieldTransforms;return new PD(new vn(p),g,y)}class gd extends hg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gd}}function UD(a,e,n,s){const o=a.Cc(1,e,n);fg("Data must be an object, but it was:",o,s);const c=[],h=vn.empty();ws(s,((g,y)=>{const E=mg(e,g,n);y=Ut(y);const b=o.yc(E);if(y instanceof gd)c.push(E);else{const w=xc(y,b);w!=null&&(c.push(E),h.set(E,w))}}));const p=new In(c);return new gb(h,p,o.fieldTransforms)}function zD(a,e,n,s,o,c){const h=a.Cc(1,e,n),p=[pp(e,s,n)],g=[o];if(c.length%2!=0)throw new oe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)p.push(pp(e,c[w])),g.push(c[w+1]);const y=[],E=vn.empty();for(let w=p.length-1;w>=0;--w)if(!Tb(y,p[w])){const k=p[w];let F=g[w];F=Ut(F);const Q=h.yc(k);if(F instanceof gd)y.push(k);else{const P=xc(F,Q);P!=null&&(y.push(k),E.set(k,P))}}const b=new In(y);return new gb(E,b,h.fieldTransforms)}function BD(a,e,n,s=!1){return xc(n,a.Cc(s?4:3,e))}function xc(a,e){if(Eb(a=Ut(a)))return fg("Unsupported field value:",e,a),vb(a,e);if(a instanceof hg)return(function(s,o){if(!yb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let h=0;for(const p of s){let g=xc(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(a,e)}return(function(s,o){if((s=Ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=st.fromDate(s);return{timestampValue:Bh(o.serializer,c)}}if(s instanceof st){const c=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,c)}}if(s instanceof Bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:V1(o.serializer,s._byteString)};if(s instanceof Tt){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qi)return(function(h,p){return{mapValue:{fields:{[u1]:{stringValue:h1},[kh]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Kp(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${td(s)}`)})(a,e)}function vb(a,e){const n={};return a1(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(a,((s,o)=>{const c=xc(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function Eb(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof st||a instanceof Bi||a instanceof Fn||a instanceof Tt||a instanceof hg||a instanceof qi)}function fg(a,e,n){if(!Eb(n)||!n1(n)){const s=td(n);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function pp(a,e,n){if((e=Ut(e))instanceof md)return e._internalPath;if(typeof e=="string")return mg(a,e);throw Gh("Field path arguments must be of type string or ",a,!1,void 0,n)}const qD=new RegExp("[~\\*/\\[\\]]");function mg(a,e,n){if(e.search(qD)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new md(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function Gh(a,e,n,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new oe(W.INVALID_ARGUMENT,p+a+g)}function Tb(a,e){return a.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HD extends bb{data(){return super.data()}}function pg(a,e){return typeof e=="string"?mg(a,e):e instanceof md?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class GD extends gg{}function Fi(a,e,...n){let s=[];e instanceof gg&&s.push(e),s=s.concat(n),(function(c){const h=c.filter((g=>g instanceof yg)).length,p=c.filter((g=>g instanceof yd)).length;if(h>1||h>0&&p>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class yd extends GD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new yd(e,n,s)}_apply(e){const n=this._parse(e);return Sb(e._query,n),new Mo(e.firestore,e.converter,ap(e._query,n))}_parse(e){const n=pd(e.firestore);return(function(c,h,p,g,y,E,b){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){CT(b,E);const F=[];for(const Q of b)F.push(xT(g,c,Q));w={arrayValue:{values:F}}}else w=xT(g,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||CT(b,E),w=BD(p,h,b,E==="in"||E==="not-in");return jt.create(y,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function on(a,e,n){const s=e,o=pg("where",a);return yd._create(o,s,n)}class yg extends gg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const p=c.getFlattenedFilters();for(const g of p)Sb(h,g),h=ap(h,g)})(e._query,n),new Mo(e.firestore,e.converter,ap(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function xT(a,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v1(e)&&n.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!me.isDocumentKey(s))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return GE(a,new me(s))}if(n instanceof Tt)return GE(a,n._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${td(n)}.`)}function CT(a,e){if(!Array.isArray(a)||a.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Sb(a,e){const n=(function(o,c){for(const h of o)for(const p of h.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KD{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ws(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[kh].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new qi(n)}convertGeoPoint(e){return new Bi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ad(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(oc(e));default:return null}}convertTimestamp(e){const n=ys(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ge(B1(s),9688,{name:e});const o=new lc(s.get(1),s.get(3)),c=new me(s.popFirst(5));return o.isEqual(n)||ba(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(a,e,n){let s;return s=a?n&&(n.merge||n.mergeFields)?a.toFirestore(e,n):a.toFirestore(e):e,s}class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rr extends bb{constructor(e,n,s,o,c,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(pg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=rr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}rr._jsonSchemaVersion="firestore/documentSnapshot/1.0",rr._jsonSchema={type:Ot("string",rr._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Sh extends rr{data(e={}){return super.data(e)}}class Eo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Sh(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Sh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ql(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Sh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ql(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),E=h.indexOf(p.doc.key)),{type:QD(p.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QD(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(a){a=li(a,Tt);const e=li(a.firestore,vr);return DD(ug(e),a._key).then((n=>JD(e,a,n)))}Eo._jsonSchemaVersion="firestore/querySnapshot/1.0",Eo._jsonSchema={type:Ot("string",Eo._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class wb extends KD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function wa(a){a=li(a,Mo);const e=li(a.firestore,vr),n=ug(e),s=new wb(e);return FD(a._query),jD(n,a._query).then((o=>new Eo(e,s,a,o)))}function _g(a,e,n){a=li(a,Tt);const s=li(a.firestore,vr),o=Ab(a.converter,e,n);return _d(s,[_b(pd(s),"setDoc",a._key,o,a.converter!==null,n).toMutation(a._key,Gn.none())])}function YD(a,e,n,...s){a=li(a,Tt);const o=li(a.firestore,vr),c=pd(o);let h;return h=typeof(e=Ut(e))=="string"||e instanceof md?zD(c,"updateDoc",a._key,e,n,s):UD(c,"updateDoc",a._key,e),_d(o,[h.toMutation(a._key,Gn.exists(!0))])}function $D(a){return _d(li(a.firestore,vr),[new Qp(a._key,Gn.none())])}function XD(a,e){const n=li(a.firestore,vr),s=rn(a),o=Ab(a.converter,e);return _d(n,[_b(pd(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then((()=>s))}function _d(a,e){return(function(s,o){const c=new _a;return s.asyncQueue.enqueueAndForget((async()=>vD(await ID(s),o,c))),c.promise})(ug(a),e)}function JD(a,e,n){const s=n.docs.get(e._key),o=new wb(a);return new rr(a,o,e._key,s,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Io=o})(pr),lr(new ps("firestore",((s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),p=new vr(new zC(s.getProvider("auth-internal")),new HC(h,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(y.options.projectId,E)})(h,o),h);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ki(jE,OE,e),ki(jE,OE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="firebasestorage.googleapis.com",ZD="storageBucket",WD=120*1e3,ej=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Ki{constructor(e,n,s=0){super(Um(e),`Firebase Storage: ${n} (${Um(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Um(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gi;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gi||(Gi={}));function Um(a){return"storage/"+a}function tj(){const a="An unknown error occurred, please check the error payload for server response.";return new Yi(Gi.UNKNOWN,a)}function nj(){return new Yi(Gi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ij(){return new Yi(Gi.CANCELED,"User canceled the upload/download.")}function aj(a){return new Yi(Gi.INVALID_URL,"Invalid URL '"+a+"'.")}function sj(a){return new Yi(Gi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function IT(a){return new Yi(Gi.INVALID_ARGUMENT,a)}function Rb(){return new Yi(Gi.APP_DELETED,"The Firebase app was deleted.")}function rj(a){return new Yi(Gi.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ri.makeFromUrl(e,n)}catch{return new ri(e,"")}if(s.path==="")return s;throw sj(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(ge){ge.path.charAt(ge.path.length-1)==="/"&&(ge.path_=ge.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function y(ge){ge.path_=decodeURIComponent(ge.path)}const E="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",k=new RegExp(`^https?://${b}/${E}/b/${o}/o${w}`,"i"),F={bucket:1,path:3},Q=n===Nb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",J=new RegExp(`^https?://${Q}/${o}/${P}`,"i"),ie=[{regex:p,indices:g,postModify:c},{regex:k,indices:F,postModify:y},{regex:J,indices:{bucket:1,path:2},postModify:y}];for(let ge=0;ge<ie.length;ge++){const Ae=ie[ge],we=Ae.regex.exec(e);if(we){const I=we[Ae.indices.bucket];let N=we[Ae.indices.path];N||(N=""),s=new ri(I,N),Ae.postModify(s);break}}if(s==null)throw aj(e);return s}}class oj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(a,e,n){let s=1,o=null,c=null,h=!1,p=0;function g(){return p===2}let y=!1;function E(...P){y||(y=!0,e.apply(null,P))}function b(P){o=setTimeout(()=>{o=null,a(k,g())},P)}function w(){c&&clearTimeout(c)}function k(P,...J){if(y){w();return}if(P){w(),E.call(null,P,...J);return}if(g()||h){w(),E.call(null,P,...J);return}s<64&&(s*=2);let ie;p===1?(p=2,ie=0):ie=(s+Math.random())*1e3,b(ie)}let F=!1;function Q(P){F||(F=!0,w(),!y&&(o!==null?(P||(p=2),clearTimeout(o),b(0)):P||(p=1)))}return b(0),c=setTimeout(()=>{h=!0,Q(!0)},n),Q}function cj(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(a){return a!==void 0}function DT(a,e,n,s){if(s<e)throw IT(`Invalid value for '${a}'. Expected ${e} or greater.`);if(s>n)throw IT(`Invalid value for '${a}'. Expected ${n} or less.`)}function hj(a){const e=encodeURIComponent;let n="?";for(const s in a)if(a.hasOwnProperty(s)){const o=e(s)+"="+e(a[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Kh;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(Kh||(Kh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(a,e){const n=a>=500&&a<600,o=[408,429].indexOf(a)!==-1,c=e.indexOf(a)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n,s,o,c,h,p,g,y,E,b,w=!0,k=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,Q)=>{this.resolve_=F,this.reject_=Q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new hh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const p=c.getErrorCode()===Kh.NO_ERROR,g=c.getStatus();if(!p||dj(g,this.additionalRetryCodes_)&&this.retry){const E=c.getErrorCode()===Kh.ABORT;s(!1,new hh(!1,null,E));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new hh(y,c))})},n=(s,o)=>{const c=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());uj(g)?c(g):c()}catch(g){h(g)}else if(p!==null){const g=tj();g.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,g)):h(g)}else if(o.canceled){const g=this.appDelete_?Rb():ij();h(g)}else{const g=nj();h(g)}};this.canceled_?n(!1,new hh(!1,null,!0)):this.backoffId_=lj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&cj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function mj(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function pj(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gj(a,e){e&&(a["X-Firebase-GMPID"]=e)}function yj(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function _j(a,e,n,s,o,c,h=!0,p=!1){const g=hj(a.urlParams),y=a.url+g,E=Object.assign({},a.headers);return gj(E,e),mj(E,n),pj(E,c),yj(E,s),new fj(y,a.method,E,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,o,h,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function Ej(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this._service=e,n instanceof ri?this._location=n:this._location=ri.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qh(e,n)}get root(){const e=new ri(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ej(this._location.path)}get storage(){return this._service}get parent(){const e=vj(this._location.path);if(e===null)return null;const n=new ri(this._location.bucket,e);return new Qh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rj(e)}}function jT(a,e){const n=e?.[ZD];return n==null?null:ri.makeFromBucketSpec(n,a)}function Tj(a,e,n,s={}){a.host=`${e}:${n}`;const o=mr(e);o&&(wp(`https://${a.host}/b`),Np("Storage",!0)),a._isUsingEmulator=!0,a._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(a._overrideAuthToken=typeof c=="string"?c:r0(c,a.app.options.projectId))}class bj{constructor(e,n,s,o,c,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=Nb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WD,this._maxUploadRetryTime=ej,this._requests=new Set,o!=null?this._bucket=ri.makeFromBucketSpec(o,this._host):this._bucket=jT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ri.makeFromBucketSpec(this._url,e):this._bucket=jT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qh(this,e)}_makeRequest(e,n,s,o,c=!0){if(this._deleted)return new oj(Rb());{const h=_j(e,this._appId,s,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const OT="@firebase/storage",MT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="storage";function Sj(a=Cp(),e){a=Ut(a);const s=Jh(a,xb).getImmediate({identifier:e}),o=i0("storage");return o&&Aj(s,...o),s}function Aj(a,e,n,s={}){Tj(a,e,n,s)}function wj(a,{instanceIdentifier:e}){const n=a.getProvider("app").getImmediate(),s=a.getProvider("auth-internal"),o=a.getProvider("app-check-internal");return new bj(n,s,o,e,pr)}function Nj(){lr(new ps(xb,wj,"PUBLIC").setMultipleInstances(!0)),ki(OT,MT,""),ki(OT,MT,"esm2020")}Nj();const Rj={apiKey:"AIzaSyBylcv1SiZLujKAS7vfkhyY-jx75vIHSsM",authDomain:"webg2-2025-2.firebaseapp.com",projectId:"webg2-2025-2",storageBucket:"webg2-2025-2.firebasestorage.app",messagingSenderId:"61296509279",appId:"1:61296509279:web:7f3f0c92e1ce407bb3f6ea"},vg=c0(Rj),nt=MD(vg),dc=MC(vg);Sj(vg);const Ht=()=>{const[a,e]=D.useState(new Date),[n,s]=D.useState(!1),o=Aa(),c=mc();D.useEffect(()=>{const E=setInterval(()=>{e(new Date)},1e3),b=()=>{s(window.scrollY>50)};return window.addEventListener("scroll",b),()=>{clearInterval(E),window.removeEventListener("scroll",b)}},[]);const h=[{nombre:"Tecnologa",ruta:"/tecnologia",icono:"",color:"#00f5ff"},{nombre:"Deportes",ruta:"/deportes",icono:"",color:"#ff0080"},{nombre:"Poltica",ruta:"/politica",icono:"",color:"#00ff88"},{nombre:"Cultura",ruta:"/cultura",icono:"",color:"#ffaa00"},{nombre:"Economa",ruta:"/economia",icono:"",color:"#8844ff"},{nombre:"Salud",ruta:"/salud",icono:"",color:"#00ffcc"},{nombre:"Educacin",ruta:"/educacion",icono:"",color:"#ff4444"}],p=E=>E.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),g=E=>E.toLocaleDateString("es-ES",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),y=async E=>{E.preventDefault();try{await k0(dc),c("/login")}catch(b){console.error(" Error al cerrar sesin:",b)}};return f.jsxs("header",{className:`header-futurista ${n?"scrolled":""}`,children:[f.jsxs("div",{className:"header-top-bar",children:[f.jsxs("div",{className:"news-ticker",children:[f.jsx("div",{className:"ticker-label",children:" EN VIVO:"}),f.jsxs("div",{className:"ticker-content",children:[f.jsx("span",{children:"LTIMA HORA  NOTICIERO DIGITAL  INFORMACIN EN TIEMPO REAL  "}),f.jsx("span",{children:"LTIMA HORA  NOTICIERO DIGITAL  INFORMACIN EN TIEMPO REAL  "})]})]}),f.jsxs("div",{className:"time-display",children:[f.jsx("div",{className:"digital-clock",children:p(a)}),f.jsx("div",{className:"digital-date",children:g(a)})]})]}),f.jsxs("div",{className:"header-main",children:[f.jsx("div",{className:"header-brand",children:f.jsxs(ue,{to:"/",className:"brand-link",children:[f.jsx("div",{className:"brand-glow"}),f.jsx("div",{className:"brand-icon",children:""}),f.jsxs("div",{className:"brand-text",children:[f.jsx("h1",{className:"brand-name",children:"NEXUS NEWS"}),f.jsx("div",{className:"brand-tagline",children:"DIGITAL NETWORK"})]})]})}),f.jsx("nav",{className:"header-nav",children:f.jsx("div",{className:"nav-container",children:h.map((E,b)=>f.jsxs(ue,{to:E.ruta,className:`nav-item ${o.pathname.startsWith(E.ruta)?"active":""}`,style:{"--neon-color":E.color,"--delay":b*.1+"s"},children:[f.jsx("span",{className:"nav-glow"}),f.jsx("span",{className:"nav-icon",children:E.icono}),f.jsx("span",{className:"nav-text",children:E.nombre}),f.jsx("span",{className:"nav-pulse"})]},E.ruta))})}),f.jsxs("div",{className:"header-actions",children:[f.jsxs(ue,{to:"/register",className:"register-portal",children:[f.jsx("span",{className:"portal-icon",children:""}),f.jsx("span",{className:"portal-text",children:"REGISTRO"}),f.jsx("div",{className:"portal-glow"})]}),f.jsxs(ue,{to:"/login",onClick:y,className:"admin-portal",children:[f.jsx("span",{className:"portal-icon",children:""}),f.jsx("span",{className:"portal-text",children:"PANEL CONTROL"}),f.jsx("div",{className:"portal-glow"})]})]})]}),f.jsx("div",{className:"scan-line"})]})};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cj=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),VT=a=>{const e=Cj(a);return e.charAt(0).toUpperCase()+e.slice(1)},Cb=(...a)=>a.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),Ij=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=D.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:h,...p},g)=>D.createElement("svg",{ref:g,...Dj,width:e,height:e,stroke:a,strokeWidth:s?Number(n)*24/Number(e):n,className:Cb("lucide",o),...!c&&!Ij(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,E])=>D.createElement(y,E)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(a,e)=>{const n=D.forwardRef(({className:s,...o},c)=>D.createElement(jj,{ref:c,iconNode:e,className:Cb(`lucide-${xj(VT(a))}`,`lucide-${a}`,s),...o}));return n.displayName=VT(a),n};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Yl=rt("arrow-left",Oj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vj=rt("ban",Mj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ah=rt("circle-check-big",kj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],kT=rt("circle-x",Pj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Uj=rt("clock",Lj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],PT=rt("eye-off",zj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tc=rt("eye",Bj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],LT=rt("file-text",qj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Ib=rt("house",Hj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Gj=rt("image",Fj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gp=rt("lock",Kj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Yj=rt("log-in",Qj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Db=rt("mail",$j);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Jj=rt("map-pin",Xj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],Wj=rt("newspaper",Zj);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],zm=rt("pen",eO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],nO=rt("phone",tO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],aO=rt("plus",iO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],rO=rt("save",sO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],lO=rt("send",oO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],uO=rt("share-2",cO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dO=rt("shield",hO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mO=rt("trash-2",fO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],gO=rt("user-plus",pO);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jb=rt("user",yO);function _O({onLogin:a}){const[e,n]=D.useState(""),[s,o]=D.useState(""),[c,h]=D.useState(""),[p,g]=D.useState(!1),y=mc(),E=async b=>{b.preventDefault(),h(""),g(!0);try{const k=(await Ex(dc,e,s)).user,F=await Qi(rn(nt,"usuarios",k.uid));let Q;F.exists()?Q=F.data():Q={nombre:k.email.split("@")[0],rol:k.email.includes("editor")?"Editor":"Reportero"},a({uid:k.uid,email:k.email,...Q})}catch(w){console.error("Error de login:",w),h("Credenciales incorrectas. Verifica tu email y contrasea.")}finally{g(!1)}};return f.jsxs("div",{className:"login-futurista-container",children:[f.jsx("div",{className:"bg-circles"}),f.jsxs("div",{className:"login-futurista-card",children:[f.jsxs("div",{className:"login-futurista-header",children:[f.jsx("div",{className:"logo-glow",children:f.jsx(Yj,{size:48})}),f.jsx("h1",{className:"titulo-login",children:"Login"}),f.jsx("p",{className:"subtitulo-login",children:"Acceso al sistema de gestin"})]}),c&&f.jsx("div",{className:"error-login",children:c}),f.jsxs("form",{onSubmit:E,className:"form-futurista",children:[f.jsxs("div",{className:"input-group",children:[f.jsx("div",{className:"input-icon",children:f.jsx(jb,{size:18})}),f.jsx("input",{type:"email",value:e,onChange:b=>n(b.target.value),placeholder:"Correo electrnico",required:!0})]}),f.jsxs("div",{className:"input-group",children:[f.jsx("div",{className:"input-icon",children:f.jsx(gp,{size:18})}),f.jsx("input",{type:"password",value:s,onChange:b=>o(b.target.value),placeholder:"Contrasea",required:!0})]}),f.jsx("button",{type:"submit",className:"btn-futurista",disabled:p,children:p?"Ingresando...":"Iniciar Sesin"}),f.jsxs("button",{type:"button",className:"btn-volver",onClick:()=>y("/"),children:[f.jsx(Ib,{size:18}),"Volver al Inicio"]}),f.jsx("div",{className:"login-links",children:f.jsxs("p",{children:["No tienes cuenta? ",f.jsx(ue,{to:"/register",children:"Regstrate aqu"})]})}),f.jsxs("div",{className:"demo-info",children:[f.jsx("p",{children:"Usuarios de prueba:"}),f.jsxs("p",{children:[f.jsx("strong",{children:"Editor:"})," editor@noticiero.com / editor123"]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Reportero:"})," reportero@noticiero.com / reportero123"]})]})]})]})]})}function vO({onRegister:a}){const[e,n]=D.useState({nombre:"",email:"",password:"",confirmPassword:"",rol:"Reportero"}),[s,o]=D.useState(""),[c,h]=D.useState(!1),[p,g]=D.useState(!1),[y,E]=D.useState(!1),b=mc(),w=P=>{n({...e,[P.target.name]:P.target.value})},k=()=>{g(!p)},F=()=>{E(!y)},Q=async P=>{if(P.preventDefault(),o(""),h(!0),e.password!==e.confirmPassword){o("Las contraseas no coinciden"),h(!1);return}if(e.password.length<6){o("La contrasea debe tener al menos 6 caracteres"),h(!1);return}try{const ne=(await vx(dc,e.email,e.password)).user,ie={nombre:e.nombre,email:e.email,rol:e.rol,fecha_creacion:new Date().toISOString()};await _g(rn(nt,"usuarios",ne.uid),ie),a&&a({uid:ne.uid,...ie}),b("/admin")}catch(J){console.error("Error de registro:",J);let ne="Error al crear la cuenta. Intenta nuevamente.";J.code==="auth/email-already-in-use"?ne="Este correo electrnico ya est registrado.":J.code==="auth/invalid-email"?ne="El correo electrnico no es vlido.":J.code==="auth/weak-password"&&(ne="La contrasea es demasiado dbil."),o(ne)}finally{h(!1)}};return f.jsxs("div",{className:"register-futurista-container",children:[f.jsx("div",{className:"bg-circles"}),f.jsxs("div",{className:"register-futurista-card",children:[f.jsxs("div",{className:"register-futurista-header",children:[f.jsx("div",{className:"logo-glow",children:f.jsx(gO,{size:48})}),f.jsx("h1",{className:"titulo-register",children:"Crear Cuenta"}),f.jsx("p",{className:"subtitulo-register",children:"nete a nuestro sistema de noticias"})]}),s&&f.jsx("div",{className:"error-register",children:s}),f.jsxs("form",{onSubmit:Q,className:"form-futurista",children:[f.jsxs("div",{className:"input-group",children:[f.jsx("div",{className:"input-icon",children:f.jsx(jb,{size:18})}),f.jsx("input",{type:"text",name:"nombre",value:e.nombre,onChange:w,placeholder:"Nombre completo",required:!0})]}),f.jsxs("div",{className:"input-group",children:[f.jsx("div",{className:"input-icon",children:f.jsx(Db,{size:18})}),f.jsx("input",{type:"email",name:"email",value:e.email,onChange:w,placeholder:"Correo electrnico",required:!0})]}),f.jsxs("div",{className:"input-group",children:[f.jsx("div",{className:"input-icon",children:f.jsx(gp,{size:18})}),f.jsx("input",{type:p?"text":"password",name:"password",value:e.password,onChange:w,placeholder:"Contrasea",required:!0}),f.jsx("button",{type:"button",className:"password-toggle",onClick:k,children:p?f.jsx(PT,{size:18,color:"#cbd5e1"}):f.jsx(tc,{size:18,color:"#cbd5e1"})})]}),f.jsxs("div",{className:"input-group",children:[f.jsx("div",{className:"input-icon",children:f.jsx(gp,{size:18})}),f.jsx("input",{type:y?"text":"password",name:"confirmPassword",value:e.confirmPassword,onChange:w,placeholder:"Confirmar contrasea",required:!0}),f.jsx("button",{type:"button",className:"password-toggle",onClick:F,children:y?f.jsx(PT,{size:18,color:"#cbd5e1"}):f.jsx(tc,{size:18,color:"#cbd5e1"})})]}),f.jsxs("div",{className:"input-group",children:[f.jsx("div",{className:"input-icon",children:f.jsx(dO,{size:18})}),f.jsxs("select",{name:"rol",value:e.rol,onChange:w,className:"role-select",children:[f.jsx("option",{value:"Reportero",children:"Reportero"}),f.jsx("option",{value:"Editor",children:"Editor"})]})]}),f.jsx("button",{type:"submit",className:"btn-futurista",disabled:c,children:c?"Creando Cuenta...":"Registrarse"}),f.jsxs("button",{type:"button",className:"btn-volver",onClick:()=>b("/"),children:[f.jsx(Ib,{size:18}),"Volver al Inicio"]}),f.jsx("div",{className:"login-link",children:f.jsxs("p",{children:["Ya tienes una cuenta? ",f.jsx(ue,{to:"/login",children:"Inicia Sesin"})]})}),f.jsx("div",{className:"demo-info",children:f.jsxs("p",{children:[f.jsx("strong",{children:"Nota:"})," Los editores pueden crear, editar y publicar noticias. Los reporteros solo pueden crear borradores."]})})]})]})]})}function EO({noticias:a,usuario:e,onEditar:n,onActualizar:s}){const[o,c]=D.useState("Todas"),h=o==="Todas"?a:a.filter(E=>E.estado===o),p=async(E,b)=>{if(console.log(" Intentando eliminar noticia:",E,b),!confirm(`Ests seguro de eliminar la noticia: "${b}"?`)){console.log(" Eliminacin cancelada por el usuario");return}try{console.log(" Eliminando de Firestore..."),await $D(rn(nt,"noticias",E)),console.log(" Noticia eliminada exitosamente"),s()}catch(w){console.error(" Error al eliminar:",w),alert("Error al eliminar: "+w.message)}},g=async(E,b,w)=>{console.log(" Cambiando estado:",{id:E,nuevoEstado:b,titulo:w});try{const k={estado:b,fecha_actualizacion:new Date().toISOString()};b==="Publicada"&&(k.fecha_publicacion=new Date().toISOString()),await YD(rn(nt,"noticias",E),k),console.log(" Estado actualizado exitosamente"),s()}catch(k){console.error(" Error al cambiar estado:",k),alert("Error al cambiar estado: "+k.message)}},y=E=>{const b={Borrador:{bg:"#f1f5f9",color:"#64748b",icon:f.jsx(zm,{size:14})},"En revisin":{bg:"#fef3c7",color:"#d97706",icon:f.jsx(tc,{size:14})},Publicada:{bg:"#d1fae5",color:"#059669",icon:f.jsx(Ah,{size:14})},Rechazada:{bg:"#fee2e2",color:"#dc2626",icon:f.jsx(kT,{size:14})},Publicado:{bg:"#d1fae5",color:"#059669",icon:f.jsx(Ah,{size:14})},Terminado:{bg:"#fef3c7",color:"#d97706",icon:f.jsx(tc,{size:14})},Edicin:{bg:"#f1f5f9",color:"#64748b",icon:f.jsx(zm,{size:14})}};return b[E]||b.Borrador};return f.jsxs("div",{className:"lista-noticias",children:[f.jsxs("div",{className:"lista-header",children:[f.jsx("h3",{className:"lista-title",children:"Gestin de Noticias"}),f.jsx("div",{className:"filtros",children:["Todas","Borrador","En revisin","Publicada","Rechazada"].map(E=>f.jsx("button",{onClick:()=>c(E),className:`filtro-btn ${o===E?"active":""}`,children:E},E))})]}),h.length===0?f.jsxs("div",{className:"lista-vacia",children:[f.jsx("p",{children:"No hay noticias para mostrar"}),f.jsxs("p",{children:[" ",f.jsx("strong",{children:"Sugerencia:"})," Crea una nueva noticia o cambia el filtro"]})]}):f.jsx("div",{className:"noticias-grid",children:h.map(E=>{const b=y(E.estado);return f.jsxs("div",{className:"noticia-card",children:[E.imagen&&f.jsxs("div",{className:"noticia-imagen",children:[f.jsx("img",{src:E.imagen,alt:E.titulo}),f.jsxs("div",{className:"noticia-overlay",children:[f.jsx(tc,{size:20}),f.jsxs("span",{children:[E.vistas||0," vistas"]})]})]}),f.jsxs("div",{className:"noticia-contenido",children:[f.jsxs("div",{className:"noticia-meta",children:[f.jsx("span",{className:"categoria-badge",children:E.categoria||"General"}),f.jsxs("span",{className:"estado-badge",style:{background:b.bg,color:b.color},children:[b.icon,E.estado]})]}),f.jsx("h4",{className:"noticia-titulo",children:E.titulo}),f.jsxs("p",{className:"noticia-texto",children:[(E.contenido||"Sin contenido disponible").substring(0,120),"..."]}),f.jsxs("div",{className:"noticia-footer",children:[f.jsxs("span",{className:"noticia-autor",children:["Por ",E.autor||"Annimo"]}),f.jsxs("div",{className:"noticia-acciones",children:[f.jsx("button",{onClick:w=>{w.stopPropagation(),console.log(" Editando noticia:",E.id,E.titulo),n(E)},className:"btn-accion editar",title:`Editar: ${E.titulo}`,children:f.jsx(zm,{size:18})}),e.rol==="Editor"&&(E.estado==="En revisin"||E.estado==="Terminado")&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:w=>{w.stopPropagation(),g(E.id,"Publicada",E.titulo)},className:"btn-accion publicar",title:"Publicar noticia",children:f.jsx(Ah,{size:18})}),f.jsx("button",{onClick:w=>{w.stopPropagation(),g(E.id,"Rechazada",E.titulo)},className:"btn-accion rechazar",title:"Rechazar noticia",children:f.jsx(kT,{size:18})})]}),f.jsx("button",{onClick:w=>{w.stopPropagation(),p(E.id,E.titulo)},className:"btn-accion eliminar",title:`Eliminar: ${E.titulo}`,children:f.jsx(mO,{size:18})})]})]})]})]},E.id)})})]})}function TO({usuario:a,noticia:e,onCerrar:n}){const[s,o]=D.useState(e?.titulo||""),[c,h]=D.useState(e?.subtitulo||""),[p,g]=D.useState(e?.contenido||""),[y,E]=D.useState(e?.imagen||""),[b,w]=D.useState(e?.categoria||""),[k,F]=D.useState(!1),Q=async P=>{if(!s||!p){alert("Por favor completa todos los campos obligatorios");return}F(!0),console.log(" Guardando noticia en Firebase...",{titulo:s,estado:P});try{const J={titulo:s,subtitulo:c,contenido:p,imagen:y,categoria:b||"General",autor:a.nombre||a.email,autor_id:a.uid,estado:P,fecha_actualizacion:new Date().toISOString()};if(e?.id)console.log(" Actualizando noticia existente:",e.id),await _g(rn(nt,"noticias",e.id),J,{merge:!0}),console.log(" Noticia actualizada:",e.id);else{J.fecha_creacion=new Date().toISOString(),console.log(" Creando nueva noticia...");const ne=await XD(ui(nt,"noticias"),J);console.log(" Nueva noticia creada:",ne.id)}n()}catch(J){console.error(" Error al guardar:",J),alert("Error al guardar: "+J.message)}finally{F(!1)}};return f.jsxs("div",{className:"formulario-noticia",children:[f.jsxs("div",{className:"formulario-header",children:[f.jsxs("button",{onClick:n,className:"btn-volver",children:[f.jsx(Yl,{size:20}),"Volver al Dashboard"]}),f.jsx("h2",{className:"formulario-title",children:e?"Editar Noticia":"Nueva Noticia"})]}),f.jsxs("div",{className:"formulario-container",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Ttulo de la Noticia *"}),f.jsx("input",{type:"text",value:s,onChange:P=>o(P.target.value),className:"form-input",placeholder:"Escribe un ttulo llamativo...",required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Subttulo o Bajante"}),f.jsx("input",{type:"text",value:c,onChange:P=>h(P.target.value),className:"form-input",placeholder:"Escribe un subttulo descriptivo..."})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Categora"}),f.jsxs("select",{value:b,onChange:P=>w(P.target.value),className:"form-select",children:[f.jsx("option",{value:"",children:"Selecciona una categora"}),f.jsx("option",{value:"Tecnologa",children:"Tecnologa"}),f.jsx("option",{value:"Deportes",children:"Deportes"}),f.jsx("option",{value:"Poltica",children:"Poltica"}),f.jsx("option",{value:"Cultura",children:"Cultura"}),f.jsx("option",{value:"Economa",children:"Economa"}),f.jsx("option",{value:"Salud",children:"Salud"}),f.jsx("option",{value:"Educacin",children:"Educacin"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{className:"form-label",children:[f.jsx(Gj,{size:18}),"URL de la Imagen"]}),f.jsx("input",{type:"url",value:y,onChange:P=>E(P.target.value),className:"form-input",placeholder:"https://ejemplo.com/imagen.jpg"})]})]}),y&&f.jsxs("div",{className:"imagen-preview",children:[f.jsx("img",{src:y,alt:"Preview"}),f.jsxs("p",{className:"imagen-url",children:["Vista previa: ",y]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Contenido de la Noticia *"}),f.jsx("textarea",{value:p,onChange:P=>g(P.target.value),className:"form-textarea",placeholder:"Escribe el contenido completo de la noticia...",rows:"12",required:!0})]}),f.jsxs("div",{className:"formulario-acciones",children:[f.jsxs("button",{onClick:()=>Q("Borrador"),disabled:k,className:"btn-secundario",children:[f.jsx(rO,{size:20}),k?"Guardando...":"Guardar Borrador"]}),f.jsxs("button",{onClick:()=>Q(a.rol==="Editor"?"Publicada":"En revisin"),disabled:k,className:"btn-primario",children:[f.jsx(lO,{size:20}),k?"Guardando...":a.rol==="Editor"?"Publicar":"Enviar a Revisin"]})]}),f.jsxs("div",{className:"formulario-info",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Info:"})," Los campos con * son obligatorios"]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Estado actual:"})," ",e?.estado||"Nueva"]})]})]})]})}function bO({usuario:a}){const[e,n]=D.useState([]),[s,o]=D.useState(!1),[c,h]=D.useState(null),[p,g]=D.useState({total:0,publicadas:0,revision:0,borradores:0,rechazadas:0});D.useEffect(()=>{console.log(" Dashboard cargado para usuario:",a),y()},[a]);const y=async()=>{try{console.log(" Cargando noticias de Firebase...");let F;a.rol==="Editor"?(F=Fi(ui(nt,"noticias")),console.log(" Cargando TODAS las noticias (Editor)")):(F=Fi(ui(nt,"noticias"),on("autor_id","==",a.uid)),console.log(" Cargando noticias del reportero:",a.uid));const Q=await wa(F),P=[];Q.forEach(J=>{P.push({id:J.id,...J.data()})}),console.log(" Noticias cargadas:",P.length),console.log(" Estados encontrados:",P.map(J=>J.estado)),n(P),E(P)}catch(F){console.error(" Error al cargar noticias:",F),alert("Error al cargar noticias: "+F.message)}},E=F=>{const Q={total:F.length,publicadas:F.filter(P=>P.estado==="Publicada"||P.estado==="Publicado").length,revision:F.filter(P=>P.estado==="En revisin"||P.estado==="Terminado").length,borradores:F.filter(P=>P.estado==="Borrador"||P.estado==="Edicin").length,rechazadas:F.filter(P=>P.estado==="Rechazada").length};console.log(" Estadsticas calculadas:",Q),g(Q)},b=()=>{console.log(" Iniciando nueva noticia"),h(null),o(!0)},w=F=>{console.log(" Editando noticia:",F.id),h(F),o(!0)},k=()=>{console.log(" Cerrando formulario, recargando noticias..."),o(!1),h(null),y()};return f.jsx("div",{className:"dashboard",children:s?f.jsx(TO,{usuario:a,noticia:c,onCerrar:k}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"dashboard-header",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"dashboard-title",children:a.rol==="Editor"?" Panel del Editor":" Panel del Reportero"}),f.jsx("p",{className:"dashboard-subtitle",children:a.rol==="Editor"?"Gestiona y publica todas las noticias":"Crea y enva tus reportajes para revisin"}),f.jsxs("p",{style:{color:"#64748b",fontSize:"0.9rem",marginTop:"0.5rem"},children:["Usuario: ",a.nombre," (",a.email,")"]})]}),f.jsxs("button",{onClick:b,className:"btn-nueva",children:[f.jsx(aO,{size:20}),"Nueva Noticia"]})]}),f.jsxs("div",{className:"estadisticas-grid",children:[f.jsxs("div",{className:"estadistica-card total",children:[f.jsx(LT,{className:"estadistica-icon"}),f.jsxs("div",{children:[f.jsx("p",{className:"estadistica-valor",children:p.total}),f.jsx("p",{className:"estadistica-label",children:"Total de Noticias"})]})]}),f.jsxs("div",{className:"estadistica-card publicadas",children:[f.jsx(Ah,{className:"estadistica-icon"}),f.jsxs("div",{children:[f.jsx("p",{className:"estadistica-valor",children:p.publicadas}),f.jsx("p",{className:"estadistica-label",children:"Publicadas"})]})]}),f.jsxs("div",{className:"estadistica-card revision",children:[f.jsx(Uj,{className:"estadistica-icon"}),f.jsxs("div",{children:[f.jsx("p",{className:"estadistica-valor",children:p.revision}),f.jsx("p",{className:"estadistica-label",children:"En Revisin"})]})]}),f.jsxs("div",{className:"estadistica-card borradores",children:[f.jsx(LT,{className:"estadistica-icon"}),f.jsxs("div",{children:[f.jsx("p",{className:"estadistica-valor",children:p.borradores}),f.jsx("p",{className:"estadistica-label",children:"Borradores"})]})]}),f.jsxs("div",{className:"estadistica-card rechazadas",children:[f.jsx(Vj,{className:"estadistica-icon"}),f.jsxs("div",{children:[f.jsx("p",{className:"estadistica-valor",children:p.rechazadas}),f.jsx("p",{className:"estadistica-label",children:"Rechazadas"})]})]})]}),f.jsx(EO,{noticias:e,usuario:a,onEditar:w,onActualizar:y})]})})}const SO=()=>{const[a,e]=D.useState([]),[n,s]=D.useState(!0);return D.useEffect(()=>{(async()=>{try{console.log(" Cargando noticias pblicas desde Firebase...");const c=Fi(ui(nt,"noticias"),on("estado","==","Publicado")),h=await wa(c),p=[];h.forEach(g=>{p.push({id:g.id,...g.data()})}),p.sort((g,y)=>new Date(y.fecha_creacion)-new Date(g.fecha_creacion)),console.log(" Noticias pblicas cargadas:",p.length),e(p)}catch(c){console.error(" Error cargando noticias:",c)}finally{s(!1)}})()},[]),n?f.jsxs("div",{className:"news-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando noticias..."})]}):f.jsxs("section",{className:"news-section",children:[f.jsx("h2",{className:"section-title",children:"ltimas Noticias"}),a.length===0?f.jsxs("div",{className:"no-news",children:[f.jsx("p",{children:"No hay noticias publicadas an"}),f.jsxs("p",{children:[" ",f.jsx("strong",{children:"Consejo:"})," Inicia sesin como editor y publica algunas noticias"]})]}):f.jsx("div",{className:"news-grid",children:a.map(o=>f.jsxs("article",{className:"news-article",children:[o.imagen&&f.jsx("div",{className:"news-image-container",children:f.jsx("img",{src:o.imagen,alt:o.titulo,className:"news-image"})}),f.jsxs("div",{className:"news-content",children:[f.jsxs("div",{className:"news-meta",children:[f.jsx("span",{className:"news-category",children:o.categoria||"General"}),f.jsx("span",{className:"news-date",children:o.fecha_creacion?new Date(o.fecha_creacion).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"Fecha no disponible"})]}),f.jsx("h3",{className:"news-title",children:f.jsx(ue,{to:`/noticia/${o.id}`,children:o.titulo})}),o.subtitulo&&f.jsx("p",{className:"news-subtitle",children:o.subtitulo}),f.jsxs("p",{className:"news-text",children:[o.contenido.substring(0,150),"..."]}),f.jsxs("div",{className:"news-footer",children:[f.jsxs("span",{className:"news-author",children:["Por ",o.autor]}),f.jsx(ue,{to:`/noticia/${o.id}`,className:"news-read-more",children:"Leer ms "})]})]})]},o.id))})]})};function AO(){const{id:a}=bs(),[e,n]=D.useState(null),[s,o]=D.useState(!0);D.useEffect(()=>{a&&(async()=>{try{console.log(" Cargando noticia individual:",a);const p=rn(nt,"noticias",a),g=await Qi(p);if(g.exists()){const y={id:g.id,...g.data()};console.log(" Noticia cargada:",y.titulo),n(y)}else console.log(" Noticia no encontrada"),n(null)}catch(p){console.error(" Error cargando noticia:",p)}finally{o(!1)}})()},[a]);const c=()=>{navigator.share?navigator.share({title:e.titulo,text:e.subtitulo||e.contenido.substring(0,100),url:window.location.href}).catch(h=>console.log("Error al compartir",h)):navigator.clipboard.writeText(window.location.href).then(()=>alert("Enlace copiado al portapapeles")).catch(h=>console.error("Error al copiar enlace",h))};return s?f.jsxs("div",{className:"news-detail-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando noticia..."})]}):e?e.estado!=="Publicada"?f.jsxs("div",{className:"news-detail-not-published",children:[f.jsx("h2",{children:" Noticia no disponible"}),f.jsx("p",{children:"Esta noticia no est publicada actualmente."}),f.jsxs(ue,{to:"/",className:"btn-volver",children:[f.jsx(Yl,{size:20}),"Volver al inicio"]})]}):f.jsxs("article",{className:"news-detail",children:[f.jsxs("header",{className:"news-detail-header",children:[f.jsxs(ue,{to:"/",className:"btn-volver",children:[f.jsx(Yl,{size:20}),"Volver a noticias"]}),f.jsxs("div",{className:"news-detail-meta",children:[f.jsx("span",{className:"news-detail-category",children:e.categoria||"General"}),f.jsx("span",{className:"news-detail-date",children:e.fecha_creacion?new Date(e.fecha_creacion).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"Fecha no disponible"})]}),f.jsx("h1",{className:"news-detail-title",children:e.titulo}),e.subtitulo&&f.jsx("p",{className:"news-detail-subtitle",children:e.subtitulo}),f.jsxs("div",{className:"news-detail-author",children:["Por ",f.jsx("strong",{children:e.autor})]})]}),e.imagen&&f.jsx("div",{className:"news-detail-image",children:f.jsx("img",{src:e.imagen,alt:e.titulo})}),f.jsx("div",{className:"news-detail-content",children:e.contenido.split(`
`).map((h,p)=>f.jsx("p",{children:h},p))}),f.jsxs("footer",{className:"news-detail-footer",children:[f.jsxs(ue,{to:"/",className:"btn-volver",children:[f.jsx(Yl,{size:20}),"Volver a noticias"]}),f.jsx("div",{className:"news-detail-actions",children:f.jsxs("button",{onClick:c,className:"btn-compartir",children:[f.jsx(uO,{size:20}),"Compartir noticia"]})})]})]}):f.jsxs("div",{className:"news-detail-not-found",children:[f.jsx("h2",{children:" Noticia no encontrada"}),f.jsx("p",{children:"La noticia que buscas no existe o ha sido eliminada."}),f.jsxs(ue,{to:"/",className:"btn-volver",children:[f.jsx(Yl,{size:20}),"Volver al inicio"]})]})}function wO(){return f.jsxs("footer",{className:"footer",children:[f.jsxs("div",{className:"footer-container",children:[f.jsxs("div",{className:"footer-section",children:[f.jsxs("div",{className:"footer-brand",children:[f.jsx(Wj,{className:"footer-logo"}),f.jsx("h3",{children:"Noticiero Digital"})]}),f.jsx("p",{className:"footer-description",children:"Tu fuente confiable de informacin veraz y oportuna. Comprometidos con el periodismo de calidad y la transparencia informativa."}),f.jsxs("div",{className:"footer-contact",children:[f.jsxs("div",{className:"contact-item",children:[f.jsx(Db,{size:16}),f.jsx("span",{children:"contacto@noticiero.com"})]}),f.jsxs("div",{className:"contact-item",children:[f.jsx(nO,{size:16}),f.jsx("span",{children:"+57 300 123 4567"})]}),f.jsxs("div",{className:"contact-item",children:[f.jsx(Jj,{size:16}),f.jsx("span",{children:"Bogot, Colombia"})]})]})]}),f.jsxs("div",{className:"footer-section",children:[f.jsx("h4",{children:"Secciones"}),f.jsx(ue,{to:"/noticias",children:"Todas las Noticias"}),f.jsx(ue,{to:"/politica",children:"Poltica"}),f.jsx(ue,{to:"/deportes",children:"Deportes"}),f.jsx(ue,{to:"/tecnologia",children:"Tecnologa"}),f.jsx(ue,{to:"/cultura",children:"Cultura"}),f.jsx(ue,{to:"/economia",children:"Economa"})]}),f.jsxs("div",{className:"footer-section",children:[f.jsx("h4",{children:"Enlaces Rpidos"}),f.jsx(ue,{to:"/",children:"Inicio"}),f.jsx(ue,{to:"/noticias",children:"ltimas Noticias"}),f.jsx(ue,{to:"/login",children:"Iniciar Sesin"}),f.jsx(ue,{to:"/admin",children:"Panel Administrativo"}),f.jsx("a",{href:"#mision-vision",children:"Misin y Visin"})]}),f.jsxs("div",{className:"footer-section",children:[f.jsx("h4",{children:"Datos Curiosos"}),f.jsxs("div",{className:"fun-facts",children:[f.jsxs("div",{className:"fun-fact",children:[f.jsx("strong",{children:" Fundado:"})," 2010"]}),f.jsxs("div",{className:"fun-fact",children:[f.jsx("strong",{children:" Noticias/da:"})," 50+"]}),f.jsxs("div",{className:"fun-fact",children:[f.jsx("strong",{children:" Cobertura:"})," Nacional"]}),f.jsxs("div",{className:"fun-fact",children:[f.jsx("strong",{children:" Premios:"})," 15+"]})]})]})]}),f.jsx("div",{className:"footer-bottom",children:f.jsxs("div",{className:"footer-bottom-content",children:[f.jsx("p",{children:" 2025 Noticiero Digital. Todos los derechos reservados."}),f.jsx("p",{children:"Desarrollado con  usando React & Firebase"})]})})]})}const NO="/Noticiero_2025IIg2_Ortiz_Brayan/assets/cultura-BoF8DEnY.png",RO="/Noticiero_2025IIg2_Ortiz_Brayan/assets/deportes-BohgV4RH.png",xO="/Noticiero_2025IIg2_Ortiz_Brayan/assets/economia-BoWPa1lv.png",CO="/Noticiero_2025IIg2_Ortiz_Brayan/assets/tecnologia-CBA4hjig.png",IO=()=>{const[a,e]=D.useState(0),[n,s]=D.useState(!1),o=[{title:"TECNOLOGA",subtitle:"La innovacin nunca duerme",media:NO,color:"#00f5ff",text:`El avance tecnolgico redefine cada aspecto de nuestra vida diaria. 
      Desde la inteligencia artificial que escribe y crea por nosotros, hasta los sistemas automatizados 
      que toman decisiones en milisegundos, la revolucin digital marca un punto de no retorno.`,link:"/tecnologia"},{title:"DEPORTES",subtitle:"La pasin se siente en cada gol",media:RO,color:"#ff0080",text:`El mundo del deporte atraviesa su transformacin ms emocionante. 
      Con cmaras 8K, estadsticas en tiempo real y transmisiones inmersivas, 
      los fanticos ya no solo miran: ahora viven el juego como si estuvieran en el estadio.`,link:"/deportes"},{title:"CULTURA",subtitle:"Arte, msica y revolucin digital",media:xO,color:"#ffaa00",text:`La cultura global vive una nueva edad de oro. 
      Artistas de todo el mundo fusionan tradicin y tecnologa para crear obras que trascienden fronteras.`,link:"/cultura"},{title:"ECONOMA",subtitle:"La revolucin financiera digital",media:CO,color:"#00ff99",text:`El mercado global entra en una nueva era dominada por la inteligencia artificial y el blockchain. 
      Las monedas digitales y los contratos inteligentes estn rompiendo las barreras tradicionales.`,link:"/economia"}],c=()=>{n||(s(!0),e(g=>(g+1)%o.length),setTimeout(()=>s(!1),600))},h=()=>{n||(s(!0),e(g=>(g-1+o.length)%o.length),setTimeout(()=>s(!1),600))};D.useEffect(()=>{const g=y=>{y.key==="ArrowLeft"&&h(),y.key==="ArrowRight"&&c()};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[n]);const p=o[a];return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"home-container",children:[o.map((g,y)=>f.jsx("img",{className:`bg-media ${y===a?"active":""}`,src:g.media,alt:g.title},y)),f.jsx("div",{className:"overlay-dark"}),f.jsx("button",{className:"nav-arrow left-arrow",onClick:h,children:""}),f.jsx("button",{className:"nav-arrow right-arrow",onClick:c,children:""}),f.jsx("div",{className:"section-indicators",children:o.map((g,y)=>f.jsx("div",{className:`indicator ${y===a?"active":""}`,onClick:()=>e(y),style:{backgroundColor:y===a?p.color:"rgba(255,255,255,0.3)"}},y))}),f.jsxs("div",{className:"news-content",children:[f.jsx("div",{className:"news-image",children:f.jsx("img",{src:p.media,alt:p.title})}),f.jsxs("div",{className:"news-text",children:[f.jsx("h1",{style:{"--accent":p.color},children:p.title}),f.jsx("p",{className:"subtitle",children:p.subtitle}),p.text.split(`
`).map((g,y)=>f.jsx("p",{className:"desc",children:g.trim()},y)),f.jsx(ue,{to:p.link,className:"btn-explore",style:{"--accent":p.color},children:"LEER MS"})]})]})]}),f.jsx(wO,{})]})},DO=()=>{const[a,e]=D.useState([]),[n,s]=D.useState(!0),[o,c]=D.useState("");D.useEffect(()=>{(async()=>{try{console.log(" Cargando noticias de tecnologa...");const g=Fi(ui(nt,"noticias"),on("categoria","==","Tecnologa"),on("estado","==","Publicada")),y=await wa(g),E=[];y.forEach(b=>{E.push({id:b.id,...b.data()})}),E.sort((b,w)=>new Date(w.fecha_creacion)-new Date(b.fecha_creacion)),console.log(" Noticias de tecnologa cargadas:",E.length),e(E)}catch(g){console.error(" Error cargando noticias de tecnologa:",g)}finally{s(!1)}})()},[]);const h=a.filter(p=>p.titulo.toLowerCase().includes(o.toLowerCase())||p.contenido.toLowerCase().includes(o.toLowerCase()));return n?f.jsxs("div",{className:"categoria-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando noticias de tecnologa..."})]}):f.jsxs("div",{className:"categoria-page",children:[f.jsxs("div",{className:"categoria-header",children:[f.jsx("div",{className:"categoria-hero tecnologia-hero",children:f.jsxs("div",{className:"categoria-info",children:[f.jsx("div",{className:"categoria-icon",children:""}),f.jsxs("div",{children:[f.jsx("h1",{children:"Tecnologa"}),f.jsx("p",{children:"ltimas noticias de innovacin, gadgets y mundo digital"})]})]})}),f.jsxs("div",{className:"search-bar",children:[f.jsx("input",{type:"text",placeholder:"Buscar en tecnologa...",value:o,onChange:p=>c(p.target.value),className:"search-input"}),f.jsx("span",{className:"search-icon",children:""})]})]}),f.jsxs("div",{className:"categoria-content",children:[f.jsxs("div",{className:"noticias-stats",children:[f.jsxs("span",{children:[h.length," noticias encontradas"]}),o&&f.jsxs("span",{children:[' para "',o,'"']})]}),h.length===0?f.jsxs("div",{className:"no-noticias",children:[f.jsx("div",{className:"no-noticias-icon",children:""}),f.jsx("h3",{children:"No hay noticias de tecnologa"}),f.jsx("p",{children:o?"No se encontraron noticias que coincidan con tu bsqueda.":"No hay noticias de tecnologa publicadas an."})]}):f.jsx("div",{className:"noticias-grid",children:h.map(p=>f.jsxs("article",{className:"noticia-card",children:[p.imagen&&f.jsxs("div",{className:"noticia-imagen",children:[f.jsx("img",{src:p.imagen,alt:p.titulo}),f.jsx("div",{className:"noticia-categoria",children:"Tecnologa"})]}),f.jsxs("div",{className:"noticia-content",children:[f.jsxs("div",{className:"noticia-meta",children:[f.jsx("span",{className:"noticia-fecha",children:new Date(p.fecha_creacion).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})}),f.jsxs("span",{className:"noticia-autor",children:["Por ",p.autor]})]}),f.jsx("h3",{className:"noticia-titulo",children:f.jsx(ue,{to:`/tecnologia/${p.id}`,children:p.titulo})}),p.subtitulo&&f.jsx("p",{className:"noticia-subtitulo",children:p.subtitulo}),f.jsxs("p",{className:"noticia-resumen",children:[p.contenido.substring(0,150),"..."]}),f.jsx(ue,{to:`/tecnologia/${p.id}`,className:"leer-mas",children:"Leer ms "})]})]},p.id))})]})]})},jO=()=>{const{id:a}=bs(),[e,n]=D.useState(null),[s,o]=D.useState(!0);return D.useEffect(()=>{a&&(async()=>{try{console.log(" Cargando noticia individual de tecnologa:",a);const h=rn(nt,"noticias",a),p=await Qi(h);if(p.exists()){const g={id:p.id,...p.data()};console.log(" Noticia de tecnologa cargada:",g.titulo),g.categoria!=="Tecnologa"?(console.log(" Noticia no pertenece a tecnologa"),n(null)):n(g)}else console.log(" Noticia no encontrada"),n(null)}catch(h){console.error(" Error cargando noticia:",h)}finally{o(!1)}})()},[a]),s?f.jsxs("div",{className:"categoria-detail-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando noticia de tecnologa..."})]}):e?e.estado!=="Publicada"?f.jsxs("div",{className:"categoria-detail-not-published",children:[f.jsx("h2",{children:" Noticia no disponible"}),f.jsx("p",{children:"Esta noticia no est publicada actualmente."}),f.jsx(ue,{to:"/tecnologia",className:"btn-volver",children:" Volver a Tecnologa"})]}):f.jsxs("article",{className:"categoria-detail",children:[f.jsxs("header",{className:"categoria-detail-header tecnologia-detail-header",children:[f.jsx(ue,{to:"/tecnologia",className:"btn-volver",children:" Volver a Tecnologa"}),f.jsxs("div",{className:"categoria-detail-meta",children:[f.jsx("span",{className:"categoria-detail-categoria",children:e.categoria}),f.jsx("span",{className:"categoria-detail-date",children:e.fecha_creacion?new Date(e.fecha_creacion).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"Fecha no disponible"})]}),f.jsx("h1",{className:"categoria-detail-title",children:e.titulo}),e.subtitulo&&f.jsx("p",{className:"categoria-detail-subtitle",children:e.subtitulo}),f.jsxs("div",{className:"categoria-detail-author",children:["Por ",f.jsx("strong",{children:e.autor})]})]}),e.imagen&&f.jsx("div",{className:"categoria-detail-image",children:f.jsx("img",{src:e.imagen,alt:e.titulo})}),f.jsx("div",{className:"categoria-detail-content",children:e.contenido.split(`
`).map((c,h)=>f.jsx("p",{children:c},h))}),f.jsx("footer",{className:"categoria-detail-footer",children:f.jsx(ue,{to:"/tecnologia",className:"btn-volver",children:" Volver a Tecnologa"})})]}):f.jsxs("div",{className:"categoria-detail-not-found",children:[f.jsx("h2",{children:" Noticia no encontrada"}),f.jsx("p",{children:"La noticia que buscas no existe o no es de tecnologa."}),f.jsx(ue,{to:"/tecnologia",className:"btn-volver",children:" Volver a Tecnologa"})]})},OO=()=>{const[a,e]=D.useState([]),[n,s]=D.useState(!0),[o,c]=D.useState("");D.useEffect(()=>{(async()=>{try{console.log(" Cargando noticias de deportes...");const g=Fi(ui(nt,"noticias"),on("categoria","==","Deportes"),on("estado","==","Publicada")),y=await wa(g),E=[];y.forEach(b=>{E.push({id:b.id,...b.data()})}),E.sort((b,w)=>new Date(w.fecha_creacion)-new Date(b.fecha_creacion)),console.log(" Noticias de deportes cargadas:",E.length),e(E)}catch(g){console.error(" Error cargando noticias de deportes:",g)}finally{s(!1)}})()},[]);const h=a.filter(p=>p.titulo.toLowerCase().includes(o.toLowerCase())||p.contenido.toLowerCase().includes(o.toLowerCase()));return n?f.jsxs("div",{className:"categoria-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando noticias de deportes..."})]}):f.jsxs("div",{className:"categoria-page",children:[f.jsxs("div",{className:"categoria-header",children:[f.jsx("div",{className:"categoria-hero deportes-hero",children:f.jsxs("div",{className:"categoria-info",children:[f.jsx("div",{className:"categoria-icon",children:""}),f.jsxs("div",{children:[f.jsx("h1",{children:"Deportes"}),f.jsx("p",{children:"Deportes nacionales e internacionales"})]})]})}),f.jsxs("div",{className:"search-bar",children:[f.jsx("input",{type:"text",placeholder:"Buscar en deportes...",value:o,onChange:p=>c(p.target.value),className:"search-input"}),f.jsx("span",{className:"search-icon",children:""})]})]}),f.jsxs("div",{className:"categoria-content",children:[f.jsxs("div",{className:"noticias-stats",children:[f.jsxs("span",{children:[h.length," noticias encontradas"]}),o&&f.jsxs("span",{children:[' para "',o,'"']})]}),h.length===0?f.jsxs("div",{className:"no-noticias",children:[f.jsx("div",{className:"no-noticias-icon",children:""}),f.jsx("h3",{children:"No hay noticias de deportes"}),f.jsx("p",{children:o?"No se encontraron noticias que coincidan con tu bsqueda.":"No hay noticias de deportes publicadas an."})]}):f.jsx("div",{className:"noticias-grid",children:h.map(p=>f.jsxs("article",{className:"noticia-card",children:[p.imagen&&f.jsxs("div",{className:"noticia-imagen",children:[f.jsx("img",{src:p.imagen,alt:p.titulo}),f.jsx("div",{className:"noticia-categoria",children:"Deportes"})]}),f.jsxs("div",{className:"noticia-content",children:[f.jsxs("div",{className:"noticia-meta",children:[f.jsx("span",{className:"noticia-fecha",children:new Date(p.fecha_creacion).toLocaleDateString("es-ES")}),f.jsxs("span",{className:"noticia-autor",children:["Por ",p.autor]})]}),f.jsx("h3",{className:"noticia-titulo",children:f.jsx(ue,{to:`/deportes/${p.id}`,children:p.titulo})}),p.subtitulo&&f.jsx("p",{className:"noticia-subtitulo",children:p.subtitulo}),f.jsxs("p",{className:"noticia-resumen",children:[p.contenido.substring(0,150),"..."]}),f.jsx(ue,{to:`/deportes/${p.id}`,className:"leer-mas",children:"Leer ms "})]})]},p.id))})]})]})},MO=()=>{const{id:a}=bs(),[e,n]=D.useState(null),[s,o]=D.useState(!0);return D.useEffect(()=>{a&&(async()=>{try{console.log(" Cargando noticia individual de deportes:",a);const h=rn(nt,"noticias",a),p=await Qi(h);if(p.exists()){const g={id:p.id,...p.data()};console.log(" Noticia de deportes cargada:",g.titulo),g.categoria!=="Deportes"?(console.log(" Noticia no pertenece a deportes"),n(null)):n(g)}else console.log(" Noticia no encontrada"),n(null)}catch(h){console.error(" Error cargando noticia:",h)}finally{o(!1)}})()},[a]),s?f.jsxs("div",{className:"categoria-detail-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando noticia de deportes..."})]}):e?e.estado!=="Publicada"?f.jsxs("div",{className:"categoria-detail-not-published",children:[f.jsx("h2",{children:" Noticia no disponible"}),f.jsx("p",{children:"Esta noticia no est publicada actualmente."}),f.jsx(ue,{to:"/deportes",className:"btn-volver",children:" Volver a Deportes"})]}):f.jsxs("article",{className:"categoria-detail",children:[f.jsxs("header",{className:"categoria-detail-header deportes-detail-header",children:[f.jsx(ue,{to:"/deportes",className:"btn-volver",children:" Volver a Deportes"}),f.jsxs("div",{className:"categoria-detail-meta",children:[f.jsx("span",{className:"categoria-detail-categoria",children:e.categoria}),f.jsx("span",{className:"categoria-detail-date",children:e.fecha_creacion?new Date(e.fecha_creacion).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"Fecha no disponible"})]}),f.jsx("h1",{className:"categoria-detail-title",children:e.titulo}),e.subtitulo&&f.jsx("p",{className:"categoria-detail-subtitle",children:e.subtitulo}),f.jsxs("div",{className:"categoria-detail-author",children:["Por ",f.jsx("strong",{children:e.autor})]})]}),e.imagen&&f.jsx("div",{className:"categoria-detail-image",children:f.jsx("img",{src:e.imagen,alt:e.titulo})}),f.jsx("div",{className:"categoria-detail-content",children:e.contenido.split(`
`).map((c,h)=>f.jsx("p",{children:c},h))}),f.jsx("footer",{className:"categoria-detail-footer",children:f.jsx(ue,{to:"/deportes",className:"btn-volver",children:" Volver a Deportes"})})]}):f.jsxs("div",{className:"categoria-detail-not-found",children:[f.jsx("h2",{children:" Noticia no encontrada"}),f.jsx("p",{children:"La noticia que buscas no existe o no es de deportes."}),f.jsx(ue,{to:"/deportes",className:"btn-volver",children:" Volver a Deportes"})]})},VO=()=>{const[a,e]=D.useState([]),[n,s]=D.useState(!0),[o,c]=D.useState("");D.useEffect(()=>{(async()=>{try{const g=Fi(ui(nt,"noticias"),on("categoria","==","Poltica"),on("estado","==","Publicada")),y=await wa(g),E=[];y.forEach(b=>{E.push({id:b.id,...b.data()})}),E.sort((b,w)=>new Date(w.fecha_creacion)-new Date(b.fecha_creacion)),e(E)}catch(g){console.error("Error cargando noticias de poltica:",g)}finally{s(!1)}})()},[]);const h=a.filter(p=>p.titulo.toLowerCase().includes(o.toLowerCase())||p.contenido.toLowerCase().includes(o.toLowerCase()));return n?f.jsxs("div",{className:"categoria-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando noticias de poltica..."})]}):f.jsxs("div",{className:"categoria-page",children:[f.jsxs("div",{className:"categoria-header",children:[f.jsx("div",{className:"categoria-hero politica-hero",children:f.jsxs("div",{className:"categoria-info",children:[f.jsx("div",{className:"categoria-icon",children:""}),f.jsxs("div",{children:[f.jsx("h1",{children:"Poltica"}),f.jsx("p",{children:"Noticias polticas y gobierno"})]})]})}),f.jsxs("div",{className:"search-bar",children:[f.jsx("input",{type:"text",placeholder:"Buscar en poltica...",value:o,onChange:p=>c(p.target.value),className:"search-input"}),f.jsx("span",{className:"search-icon",children:""})]})]}),f.jsxs("div",{className:"categoria-content",children:[f.jsxs("div",{className:"noticias-stats",children:[f.jsxs("span",{children:[h.length," noticias encontradas"]}),o&&f.jsxs("span",{children:[' para "',o,'"']})]}),h.length===0?f.jsxs("div",{className:"no-noticias",children:[f.jsx("div",{className:"no-noticias-icon",children:""}),f.jsx("h3",{children:"No hay noticias de poltica"}),f.jsx("p",{children:o?"No se encontraron noticias que coincidan con tu bsqueda.":"No hay noticias de poltica publicadas an."})]}):f.jsx("div",{className:"noticias-grid",children:h.map(p=>f.jsxs("article",{className:"noticia-card",children:[p.imagen&&f.jsxs("div",{className:"noticia-imagen",children:[f.jsx("img",{src:p.imagen,alt:p.titulo}),f.jsx("div",{className:"noticia-categoria",children:"Poltica"})]}),f.jsxs("div",{className:"noticia-content",children:[f.jsxs("div",{className:"noticia-meta",children:[f.jsx("span",{className:"noticia-fecha",children:new Date(p.fecha_creacion).toLocaleDateString("es-ES")}),f.jsxs("span",{className:"noticia-autor",children:["Por ",p.autor]})]}),f.jsx("h3",{className:"noticia-titulo",children:f.jsx(ue,{to:`/politica/${p.id}`,children:p.titulo})}),p.subtitulo&&f.jsx("p",{className:"noticia-subtitulo",children:p.subtitulo}),f.jsxs("p",{className:"noticia-resumen",children:[p.contenido.substring(0,150),"..."]}),f.jsx(ue,{to:`/politica/${p.id}`,className:"leer-mas",children:"Leer ms "})]})]},p.id))})]})]})},kO=()=>{const{id:a}=bs(),[e,n]=D.useState(null),[s,o]=D.useState(!0);return D.useEffect(()=>{a&&(async()=>{try{console.log(" Cargando noticia individual de poltica:",a);const h=rn(nt,"noticias",a),p=await Qi(h);if(p.exists()){const g={id:p.id,...p.data()};console.log(" Noticia de poltica cargada:",g.titulo),g.categoria!=="Poltica"?(console.log(" Noticia no pertenece a poltica"),n(null)):n(g)}else console.log(" Noticia no encontrada"),n(null)}catch(h){console.error(" Error cargando noticia:",h)}finally{o(!1)}})()},[a]),s?f.jsxs("div",{className:"categoria-detail-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando noticia de poltica..."})]}):e?e.estado!=="Publicada"?f.jsxs("div",{className:"categoria-detail-not-published",children:[f.jsx("h2",{children:" Noticia no disponible"}),f.jsx("p",{children:"Esta noticia no est publicada actualmente."}),f.jsx(ue,{to:"/politica",className:"btn-volver",children:" Volver a Poltica"})]}):f.jsxs("article",{className:"categoria-detail",children:[f.jsxs("header",{className:"categoria-detail-header politica-detail-header",children:[f.jsx(ue,{to:"/politica",className:"btn-volver",children:" Volver a Poltica"}),f.jsxs("div",{className:"categoria-detail-meta",children:[f.jsx("span",{className:"categoria-detail-categoria",children:e.categoria}),f.jsx("span",{className:"categoria-detail-date",children:e.fecha_creacion?new Date(e.fecha_creacion).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"Fecha no disponible"})]}),f.jsx("h1",{className:"categoria-detail-title",children:e.titulo}),e.subtitulo&&f.jsx("p",{className:"categoria-detail-subtitle",children:e.subtitulo}),f.jsxs("div",{className:"categoria-detail-author",children:["Por ",f.jsx("strong",{children:e.autor})]})]}),e.imagen&&f.jsx("div",{className:"categoria-detail-image",children:f.jsx("img",{src:e.imagen,alt:e.titulo})}),f.jsx("div",{className:"categoria-detail-content",children:e.contenido.split(`
`).map((c,h)=>f.jsx("p",{children:c},h))}),f.jsx("footer",{className:"categoria-detail-footer",children:f.jsx(ue,{to:"/politica",className:"btn-volver",children:" Volver a Poltica"})})]}):f.jsxs("div",{className:"categoria-detail-not-found",children:[f.jsx("h2",{children:" Noticia no encontrada"}),f.jsx("p",{children:"La noticia que buscas no existe o no es de poltica."}),f.jsx(ue,{to:"/politica",className:"btn-volver",children:" Volver a Poltica"})]})},PO=()=>{const[a,e]=D.useState([]),[n,s]=D.useState(!0),[o,c]=D.useState("");D.useEffect(()=>{(async()=>{try{const g=Fi(ui(nt,"noticias"),on("categoria","==","Cultura"),on("estado","==","Publicada")),y=await wa(g),E=[];y.forEach(b=>{E.push({id:b.id,...b.data()})}),E.sort((b,w)=>new Date(w.fecha_creacion)-new Date(b.fecha_creacion)),e(E)}catch(g){console.error("Error cargando noticias de cultura:",g)}finally{s(!1)}})()},[]);const h=a.filter(p=>p.titulo.toLowerCase().includes(o.toLowerCase())||p.contenido.toLowerCase().includes(o.toLowerCase()));return n?f.jsxs("div",{className:"categoria-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando noticias de cultura..."})]}):f.jsxs("div",{className:"categoria-page",children:[f.jsxs("div",{className:"categoria-header",children:[f.jsx("div",{className:"categoria-hero cultura-hero",children:f.jsxs("div",{className:"categoria-info",children:[f.jsx("div",{className:"categoria-icon",children:""}),f.jsxs("div",{children:[f.jsx("h1",{children:"Cultura"}),f.jsx("p",{children:"Arte, msica y entretenimiento"})]})]})}),f.jsxs("div",{className:"search-bar",children:[f.jsx("input",{type:"text",placeholder:"Buscar en cultura...",value:o,onChange:p=>c(p.target.value),className:"search-input"}),f.jsx("span",{className:"search-icon",children:""})]})]}),f.jsxs("div",{className:"categoria-content",children:[f.jsxs("div",{className:"noticias-stats",children:[f.jsxs("span",{children:[h.length," noticias encontradas"]}),o&&f.jsxs("span",{children:[' para "',o,'"']})]}),h.length===0?f.jsxs("div",{className:"no-noticias",children:[f.jsx("div",{className:"no-noticias-icon",children:""}),f.jsx("h3",{children:"No hay noticias de cultura"}),f.jsx("p",{children:o?"No se encontraron noticias que coincidan con tu bsqueda.":"No hay noticias de cultura publicadas an."})]}):f.jsx("div",{className:"noticias-grid",children:h.map(p=>f.jsxs("article",{className:"noticia-card",children:[p.imagen&&f.jsxs("div",{className:"noticia-imagen",children:[f.jsx("img",{src:p.imagen,alt:p.titulo}),f.jsx("div",{className:"noticia-categoria",children:"Cultura"})]}),f.jsxs("div",{className:"noticia-content",children:[f.jsxs("div",{className:"noticia-meta",children:[f.jsx("span",{className:"noticia-fecha",children:new Date(p.fecha_creacion).toLocaleDateString("es-ES")}),f.jsxs("span",{className:"noticia-autor",children:["Por ",p.autor]})]}),f.jsx("h3",{className:"noticia-titulo",children:f.jsx(ue,{to:`/cultura/${p.id}`,children:p.titulo})}),p.subtitulo&&f.jsx("p",{className:"noticia-subtitulo",children:p.subtitulo}),f.jsxs("p",{className:"noticia-resumen",children:[p.contenido.substring(0,150),"..."]}),f.jsx(ue,{to:`/cultura/${p.id}`,className:"leer-mas",children:"Leer ms "})]})]},p.id))})]})]})},LO=()=>{const{id:a}=bs(),[e,n]=D.useState(null),[s,o]=D.useState(!0);return D.useEffect(()=>{a&&(async()=>{try{console.log(" Cargando noticia individual de cultura:",a);const h=rn(nt,"noticias",a),p=await Qi(h);if(p.exists()){const g={id:p.id,...p.data()};console.log(" Noticia de cultura cargada:",g.titulo),g.categoria!=="Cultura"?(console.log(" Noticia no pertenece a cultura"),n(null)):n(g)}else console.log(" Noticia no encontrada"),n(null)}catch(h){console.error(" Error cargando noticia:",h)}finally{o(!1)}})()},[a]),s?f.jsxs("div",{className:"categoria-detail-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando noticia de cultura..."})]}):e?e.estado!=="Publicada"?f.jsxs("div",{className:"categoria-detail-not-published",children:[f.jsx("h2",{children:" Noticia no disponible"}),f.jsx("p",{children:"Esta noticia no est publicada actualmente."}),f.jsx(ue,{to:"/cultura",className:"btn-volver",children:" Volver a Cultura"})]}):f.jsxs("article",{className:"categoria-detail",children:[f.jsxs("header",{className:"categoria-detail-header cultura-detail-header",children:[f.jsx(ue,{to:"/cultura",className:"btn-volver",children:" Volver a Cultura"}),f.jsxs("div",{className:"categoria-detail-meta",children:[f.jsx("span",{className:"categoria-detail-categoria",children:e.categoria}),f.jsx("span",{className:"categoria-detail-date",children:e.fecha_creacion?new Date(e.fecha_creacion).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"Fecha no disponible"})]}),f.jsx("h1",{className:"categoria-detail-title",children:e.titulo}),e.subtitulo&&f.jsx("p",{className:"categoria-detail-subtitle",children:e.subtitulo}),f.jsxs("div",{className:"categoria-detail-author",children:["Por ",f.jsx("strong",{children:e.autor})]})]}),e.imagen&&f.jsx("div",{className:"categoria-detail-image",children:f.jsx("img",{src:e.imagen,alt:e.titulo})}),f.jsx("div",{className:"categoria-detail-content",children:e.contenido.split(`
`).map((c,h)=>f.jsx("p",{children:c},h))}),f.jsx("footer",{className:"categoria-detail-footer",children:f.jsx(ue,{to:"/cultura",className:"btn-volver",children:" Volver a Cultura"})})]}):f.jsxs("div",{className:"categoria-detail-not-found",children:[f.jsx("h2",{children:" Noticia no encontrada"}),f.jsx("p",{children:"La noticia que buscas no existe o no es de cultura."}),f.jsx(ue,{to:"/cultura",className:"btn-volver",children:" Volver a Cultura"})]})},UO=()=>{const[a,e]=D.useState([]),[n,s]=D.useState(!0),[o,c]=D.useState("");D.useEffect(()=>{(async()=>{try{console.log(" Cargando noticias de economa...");const g=Fi(ui(nt,"noticias"),on("categoria","==","Economa"),on("estado","==","Publicada")),y=await wa(g),E=[];y.forEach(b=>{E.push({id:b.id,...b.data()})}),E.sort((b,w)=>new Date(w.fecha_creacion)-new Date(b.fecha_creacion)),console.log(" Noticias de economa cargadas:",E.length),e(E)}catch(g){console.error(" Error cargando noticias de economa:",g)}finally{s(!1)}})()},[]);const h=a.filter(p=>p.titulo.toLowerCase().includes(o.toLowerCase())||p.contenido.toLowerCase().includes(o.toLowerCase()));return n?f.jsxs("div",{className:"categoria-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando noticias de economa..."})]}):f.jsxs("div",{className:"categoria-page",children:[f.jsxs("div",{className:"categoria-header",children:[f.jsx("div",{className:"categoria-hero economia-hero",children:f.jsxs("div",{className:"categoria-info",children:[f.jsx("div",{className:"categoria-icon",children:""}),f.jsxs("div",{children:[f.jsx("h1",{children:"Economa"}),f.jsx("p",{children:"Economa y finanzas"})]})]})}),f.jsxs("div",{className:"search-bar",children:[f.jsx("input",{type:"text",placeholder:"Buscar en economa...",value:o,onChange:p=>c(p.target.value),className:"search-input"}),f.jsx("span",{className:"search-icon",children:""})]})]}),f.jsxs("div",{className:"categoria-content",children:[f.jsxs("div",{className:"noticias-stats",children:[f.jsxs("span",{children:[h.length," noticias encontradas"]}),o&&f.jsxs("span",{children:[' para "',o,'"']})]}),h.length===0?f.jsxs("div",{className:"no-noticias",children:[f.jsx("div",{className:"no-noticias-icon",children:""}),f.jsx("h3",{children:"No hay noticias de economa"}),f.jsx("p",{children:o?"No se encontraron noticias que coincidan con tu bsqueda.":"No hay noticias de economa publicadas an."})]}):f.jsx("div",{className:"noticias-grid",children:h.map(p=>f.jsxs("article",{className:"noticia-card",children:[p.imagen&&f.jsxs("div",{className:"noticia-imagen",children:[f.jsx("img",{src:p.imagen,alt:p.titulo}),f.jsx("div",{className:"noticia-categoria",children:"Economa"})]}),f.jsxs("div",{className:"noticia-content",children:[f.jsxs("div",{className:"noticia-meta",children:[f.jsx("span",{className:"noticia-fecha",children:new Date(p.fecha_creacion).toLocaleDateString("es-ES")}),f.jsxs("span",{className:"noticia-autor",children:["Por ",p.autor]})]}),f.jsx("h3",{className:"noticia-titulo",children:f.jsx(ue,{to:`/economia/${p.id}`,children:p.titulo})}),p.subtitulo&&f.jsx("p",{className:"noticia-subtitulo",children:p.subtitulo}),f.jsxs("p",{className:"noticia-resumen",children:[p.contenido.substring(0,150),"..."]}),f.jsx(ue,{to:`/economia/${p.id}`,className:"leer-mas",children:"Leer ms "})]})]},p.id))})]})]})},zO=()=>{const{id:a}=bs(),[e,n]=D.useState(null),[s,o]=D.useState(!0);return D.useEffect(()=>{a&&(async()=>{try{console.log(" Cargando noticia individual de economa:",a);const h=rn(nt,"noticias",a),p=await Qi(h);if(p.exists()){const g={id:p.id,...p.data()};console.log(" Noticia de economa cargada:",g.titulo),g.categoria!=="Economa"?(console.log(" Noticia no pertenece a economa"),n(null)):n(g)}else console.log(" Noticia no encontrada"),n(null)}catch(h){console.error(" Error cargando noticia:",h)}finally{o(!1)}})()},[a]),s?f.jsxs("div",{className:"categoria-detail-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando noticia de economa..."})]}):e?e.estado!=="Publicada"?f.jsxs("div",{className:"categoria-detail-not-published",children:[f.jsx("h2",{children:" Noticia no disponible"}),f.jsx("p",{children:"Esta noticia no est publicada actualmente."}),f.jsx(ue,{to:"/economia",className:"btn-volver",children:" Volver a Economa"})]}):f.jsx("div",{className:"categoria-detail",children:f.jsxs("article",{children:[f.jsxs("header",{className:"categoria-detail-header economia-detail-header",children:[f.jsx(ue,{to:"/economia",className:"btn-volver",children:" Volver a Economa"}),f.jsxs("div",{className:"categoria-detail-meta",children:[f.jsx("span",{className:"categoria-detail-categoria",children:e.categoria}),f.jsx("span",{className:"categoria-detail-date",children:e.fecha_creacion?new Date(e.fecha_creacion).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"Fecha no disponible"})]}),f.jsx("h1",{className:"categoria-detail-title",children:e.titulo}),e.subtitulo&&f.jsx("p",{className:"categoria-detail-subtitle",children:e.subtitulo}),f.jsxs("div",{className:"categoria-detail-author",children:["Por ",f.jsx("strong",{children:e.autor})]})]}),e.imagen&&f.jsx("div",{className:"categoria-detail-image",children:f.jsx("img",{src:e.imagen,alt:e.titulo})}),f.jsx("div",{className:"categoria-detail-content",children:e.contenido.split(`
`).map((c,h)=>f.jsx("p",{children:c},h))}),f.jsx("footer",{className:"categoria-detail-footer",children:f.jsx(ue,{to:"/economia",className:"btn-volver",children:" Volver a Economa"})})]})}):f.jsxs("div",{className:"categoria-detail-not-found",children:[f.jsx("h2",{children:" Noticia no encontrada"}),f.jsx("p",{children:"La noticia que buscas no existe o no es de economa."}),f.jsx(ue,{to:"/economia",className:"btn-volver",children:" Volver a Economa"})]})},BO=()=>{const[a,e]=D.useState([]),[n,s]=D.useState(!0),[o,c]=D.useState("");D.useEffect(()=>{(async()=>{try{console.log(" Cargando noticias de salud...");const g=Fi(ui(nt,"noticias"),on("categoria","==","Salud"),on("estado","==","Publicada")),y=await wa(g),E=[];y.forEach(b=>{E.push({id:b.id,...b.data()})}),E.sort((b,w)=>new Date(w.fecha_creacion)-new Date(b.fecha_creacion)),console.log(" Noticias de salud cargadas:",E.length),e(E)}catch(g){console.error(" Error cargando noticias de salud:",g)}finally{s(!1)}})()},[]);const h=a.filter(p=>p.titulo.toLowerCase().includes(o.toLowerCase())||p.contenido.toLowerCase().includes(o.toLowerCase()));return n?f.jsxs("div",{className:"categoria-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando noticias de salud..."})]}):f.jsxs("div",{className:"categoria-page",children:[f.jsxs("div",{className:"categoria-header",children:[f.jsx("div",{className:"categoria-hero salud-hero",children:f.jsxs("div",{className:"categoria-info",children:[f.jsx("div",{className:"categoria-icon",children:""}),f.jsxs("div",{children:[f.jsx("h1",{children:"Salud"}),f.jsx("p",{children:"Salud y bienestar"})]})]})}),f.jsxs("div",{className:"search-bar",children:[f.jsx("input",{type:"text",placeholder:"Buscar en salud...",value:o,onChange:p=>c(p.target.value),className:"search-input"}),f.jsx("span",{className:"search-icon",children:""})]})]}),f.jsxs("div",{className:"categoria-content",children:[f.jsxs("div",{className:"noticias-stats",children:[f.jsxs("span",{children:[h.length," noticias encontradas"]}),o&&f.jsxs("span",{children:[' para "',o,'"']})]}),h.length===0?f.jsxs("div",{className:"no-noticias",children:[f.jsx("div",{className:"no-noticias-icon",children:""}),f.jsx("h3",{children:"No hay noticias de salud"}),f.jsx("p",{children:o?"No se encontraron noticias que coincidan con tu bsqueda.":"No hay noticias de salud publicadas an."})]}):f.jsx("div",{className:"noticias-grid",children:h.map(p=>f.jsxs("article",{className:"noticia-card",children:[p.imagen&&f.jsxs("div",{className:"noticia-imagen",children:[f.jsx("img",{src:p.imagen,alt:p.titulo}),f.jsx("div",{className:"noticia-categoria",children:"Salud"})]}),f.jsxs("div",{className:"noticia-content",children:[f.jsxs("div",{className:"noticia-meta",children:[f.jsx("span",{className:"noticia-fecha",children:new Date(p.fecha_creacion).toLocaleDateString("es-ES")}),f.jsxs("span",{className:"noticia-autor",children:["Por ",p.autor]})]}),f.jsx("h3",{className:"noticia-titulo",children:f.jsx(ue,{to:`/salud/${p.id}`,children:p.titulo})}),p.subtitulo&&f.jsx("p",{className:"noticia-subtitulo",children:p.subtitulo}),f.jsxs("p",{className:"noticia-resumen",children:[p.contenido.substring(0,150),"..."]}),f.jsx(ue,{to:`/salud/${p.id}`,className:"leer-mas",children:"Leer ms "})]})]},p.id))})]})]})},qO=()=>{const{id:a}=bs(),[e,n]=D.useState(null),[s,o]=D.useState(!0);return D.useEffect(()=>{a&&(async()=>{try{console.log(" Cargando noticia individual de salud:",a);const h=rn(nt,"noticias",a),p=await Qi(h);if(p.exists()){const g={id:p.id,...p.data()};console.log(" Noticia de salud cargada:",g.titulo),g.categoria!=="Salud"?(console.log(" Noticia no pertenece a salud"),n(null)):n(g)}else console.log(" Noticia no encontrada"),n(null)}catch(h){console.error(" Error cargando noticia:",h)}finally{o(!1)}})()},[a]),s?f.jsxs("div",{className:"categoria-detail-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando noticia de salud..."})]}):e?e.estado!=="Publicada"?f.jsxs("div",{className:"categoria-detail-not-published",children:[f.jsx("h2",{children:" Noticia no disponible"}),f.jsx("p",{children:"Esta noticia no est publicada actualmente."}),f.jsx(ue,{to:"/salud",className:"btn-volver",children:" Volver a Salud"})]}):f.jsxs("article",{className:"categoria-detail",children:[f.jsxs("header",{className:"categoria-detail-header salud-detail-header",children:[f.jsx(ue,{to:"/salud",className:"btn-volver",children:" Volver a Salud"}),f.jsxs("div",{className:"categoria-detail-meta",children:[f.jsx("span",{className:"categoria-detail-categoria",children:e.categoria}),f.jsx("span",{className:"categoria-detail-date",children:e.fecha_creacion?new Date(e.fecha_creacion).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"Fecha no disponible"})]}),f.jsx("h1",{className:"categoria-detail-title",children:e.titulo}),e.subtitulo&&f.jsx("p",{className:"categoria-detail-subtitle",children:e.subtitulo}),f.jsxs("div",{className:"categoria-detail-author",children:["Por ",f.jsx("strong",{children:e.autor})]})]}),e.imagen&&f.jsx("div",{className:"categoria-detail-image",children:f.jsx("img",{src:e.imagen,alt:e.titulo})}),f.jsx("div",{className:"categoria-detail-content",children:e.contenido.split(`
`).map((c,h)=>f.jsx("p",{children:c},h))}),f.jsx("footer",{className:"categoria-detail-footer",children:f.jsx(ue,{to:"/salud",className:"btn-volver",children:" Volver a Salud"})})]}):f.jsxs("div",{className:"categoria-detail-not-found",children:[f.jsx("h2",{children:" Noticia no encontrada"}),f.jsx("p",{children:"La noticia que buscas no existe o no es de salud."}),f.jsx(ue,{to:"/salud",className:"btn-volver",children:" Volver a Salud"})]})},HO=()=>{const[a,e]=D.useState([]),[n,s]=D.useState(!0),[o,c]=D.useState("");D.useEffect(()=>{(async()=>{try{console.log(" Cargando noticias de educacin...");const g=Fi(ui(nt,"noticias"),on("categoria","==","Educacin"),on("estado","==","Publicada")),y=await wa(g),E=[];y.forEach(b=>{E.push({id:b.id,...b.data()})}),E.sort((b,w)=>new Date(w.fecha_creacion)-new Date(b.fecha_creacion)),console.log(" Noticias de educacin cargadas:",E.length),e(E)}catch(g){console.error(" Error cargando noticias de educacin:",g)}finally{s(!1)}})()},[]);const h=a.filter(p=>p.titulo.toLowerCase().includes(o.toLowerCase())||p.contenido.toLowerCase().includes(o.toLowerCase()));return n?f.jsxs("div",{className:"categoria-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando noticias de educacin..."})]}):f.jsxs("div",{className:"categoria-page",children:[f.jsxs("div",{className:"categoria-header",children:[f.jsx("div",{className:"categoria-hero educacion-hero",children:f.jsxs("div",{className:"categoria-info",children:[f.jsx("div",{className:"categoria-icon",children:""}),f.jsxs("div",{children:[f.jsx("h1",{children:"Educacin"}),f.jsx("p",{children:"Educacin y ciencia"})]})]})}),f.jsxs("div",{className:"search-bar",children:[f.jsx("input",{type:"text",placeholder:"Buscar en educacin...",value:o,onChange:p=>c(p.target.value),className:"search-input"}),f.jsx("span",{className:"search-icon",children:""})]})]}),f.jsxs("div",{className:"categoria-content",children:[f.jsxs("div",{className:"noticias-stats",children:[f.jsxs("span",{children:[h.length," noticias encontradas"]}),o&&f.jsxs("span",{children:[' para "',o,'"']})]}),h.length===0?f.jsxs("div",{className:"no-noticias",children:[f.jsx("div",{className:"no-noticias-icon",children:""}),f.jsx("h3",{children:"No hay noticias de educacin"}),f.jsx("p",{children:o?"No se encontraron noticias que coincidan con tu bsqueda.":"No hay noticias de educacin publicadas an."})]}):f.jsx("div",{className:"noticias-grid",children:h.map(p=>f.jsxs("article",{className:"noticia-card",children:[p.imagen&&f.jsxs("div",{className:"noticia-imagen",children:[f.jsx("img",{src:p.imagen,alt:p.titulo}),f.jsx("div",{className:"noticia-categoria",children:"Educacin"})]}),f.jsxs("div",{className:"noticia-content",children:[f.jsxs("div",{className:"noticia-meta",children:[f.jsx("span",{className:"noticia-fecha",children:new Date(p.fecha_creacion).toLocaleDateString("es-ES")}),f.jsxs("span",{className:"noticia-autor",children:["Por ",p.autor]})]}),f.jsx("h3",{className:"noticia-titulo",children:f.jsx(ue,{to:`/educacion/${p.id}`,children:p.titulo})}),p.subtitulo&&f.jsx("p",{className:"noticia-subtitulo",children:p.subtitulo}),f.jsxs("p",{className:"noticia-resumen",children:[p.contenido.substring(0,150),"..."]}),f.jsx(ue,{to:`/educacion/${p.id}`,className:"leer-mas",children:"Leer ms "})]})]},p.id))})]})]})},FO=()=>{const{id:a}=bs(),[e,n]=D.useState(null),[s,o]=D.useState(!0);return D.useEffect(()=>{a&&(async()=>{try{console.log(" Cargando noticia individual de educacin:",a);const h=rn(nt,"noticias",a),p=await Qi(h);if(p.exists()){const g={id:p.id,...p.data()};console.log(" Noticia de educacin cargada:",g.titulo),g.categoria!=="Educacin"?(console.log(" Noticia no pertenece a educacin"),n(null)):n(g)}else console.log(" Noticia no encontrada"),n(null)}catch(h){console.error(" Error cargando noticia:",h)}finally{o(!1)}})()},[a]),s?f.jsxs("div",{className:"categoria-detail-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando noticia de educacin..."})]}):e?e.estado!=="Publicada"?f.jsxs("div",{className:"categoria-detail-not-published",children:[f.jsx("h2",{children:" Noticia no disponible"}),f.jsx("p",{children:"Esta noticia no est publicada actualmente."}),f.jsx(ue,{to:"/educacion",className:"btn-volver",children:" Volver a Educacin"})]}):f.jsxs("article",{className:"categoria-detail",children:[f.jsxs("header",{className:"categoria-detail-header educacion-detail-header",children:[f.jsx(ue,{to:"/educacion",className:"btn-volver",children:" Volver a Educacin"}),f.jsxs("div",{className:"categoria-detail-meta",children:[f.jsx("span",{className:"categoria-detail-categoria",children:e.categoria}),f.jsx("span",{className:"categoria-detail-date",children:e.fecha_creacion?new Date(e.fecha_creacion).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"Fecha no disponible"})]}),f.jsx("h1",{className:"categoria-detail-title",children:e.titulo}),e.subtitulo&&f.jsx("p",{className:"categoria-detail-subtitle",children:e.subtitulo}),f.jsxs("div",{className:"categoria-detail-author",children:["Por ",f.jsx("strong",{children:e.autor})]})]}),e.imagen&&f.jsx("div",{className:"categoria-detail-image",children:f.jsx("img",{src:e.imagen,alt:e.titulo})}),f.jsx("div",{className:"categoria-detail-content",children:e.contenido.split(`
`).map((c,h)=>f.jsx("p",{children:c},h))}),f.jsx("footer",{className:"categoria-detail-footer",children:f.jsx(ue,{to:"/educacion",className:"btn-volver",children:" Volver a Educacin"})})]}):f.jsxs("div",{className:"categoria-detail-not-found",children:[f.jsx("h2",{children:" Noticia no encontrada"}),f.jsx("p",{children:"La noticia que buscas no existe o no es de educacin."}),f.jsx(ue,{to:"/educacion",className:"btn-volver",children:" Volver a Educacin"})]})};function GO(){const[a,e]=D.useState(null),[n,s]=D.useState(!0);D.useEffect(()=>{const p=Sx(dc,async g=>{if(console.log(" Usuario Firebase:",g),g)try{const y=await Qi(rn(nt,"usuarios",g.uid));if(y.exists()){const E=y.data();e({uid:g.uid,email:g.email,nombre:E.nombre||g.email.split("@")[0],rol:E.rol||"Reportero"}),console.log(" Usuario cargado desde Firestore:",E)}else{const E={email:g.email,nombre:g.email.split("@")[0],rol:g.email.includes("editor")?"Editor":"Reportero",fecha_creacion:new Date().toISOString()};await _g(rn(nt,"usuarios",g.uid),E),e({uid:g.uid,...E}),console.log(" Nuevo usuario creado en Firestore:",E)}}catch(y){console.error(" Error cargando usuario:",y),e({uid:g.uid,email:g.email,nombre:g.email.split("@")[0],rol:g.email.includes("editor")?"Editor":"Reportero"})}else e(null);s(!1)});return()=>p()},[]);const o=p=>{console.log(" Login exitoso:",p),e(p)},c=p=>{console.log(" Registro exitoso:",p),e(p)},h=async()=>{try{await k0(dc),e(null)}catch(p){console.error(" Error al cerrar sesin:",p)}};return n?f.jsxs("div",{className:"cargando",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Cargando aplicacin..."})]}):f.jsx(Dw,{children:f.jsx("div",{className:"app",children:f.jsxs(lw,{children:[f.jsx(pt,{path:"/",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(IO,{})})]})}),f.jsx(pt,{path:"/tecnologia",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(DO,{})})]})}),f.jsx(pt,{path:"/tecnologia/:id",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(jO,{})})]})}),f.jsx(pt,{path:"/deportes",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(OO,{})})]})}),f.jsx(pt,{path:"/deportes/:id",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(MO,{})})]})}),f.jsx(pt,{path:"/politica",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(VO,{})})]})}),f.jsx(pt,{path:"/politica/:id",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(kO,{})})]})}),f.jsx(pt,{path:"/cultura",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(PO,{})})]})}),f.jsx(pt,{path:"/cultura/:id",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(LO,{})})]})}),f.jsx(pt,{path:"/economia",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(UO,{})})]})}),f.jsx(pt,{path:"/economia/:id",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(zO,{})})]})}),f.jsx(pt,{path:"/salud",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(BO,{})})]})}),f.jsx(pt,{path:"/salud/:id",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(qO,{})})]})}),f.jsx(pt,{path:"/educacion",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(HO,{})})]})}),f.jsx(pt,{path:"/educacion/:id",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(FO,{})})]})}),f.jsx(pt,{path:"/noticias",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(SO,{})})]})}),f.jsx(pt,{path:"/noticia/:id",element:f.jsxs("div",{className:"app-publico",children:[f.jsx(Ht,{usuario:a}),f.jsx("main",{className:"main-publico",children:f.jsx(AO,{})})]})}),f.jsx(pt,{path:"/login",element:a?f.jsx(wm,{to:"/admin"}):f.jsx(_O,{onLogin:o})}),f.jsx(pt,{path:"/register",element:f.jsx(vO,{onRegister:c})}),f.jsx(pt,{path:"/admin",element:a?f.jsxs("div",{className:"app-administrativo",children:[f.jsx(Ht,{usuario:a,onLogout:h}),f.jsx(bO,{usuario:a})]}):f.jsx(wm,{to:"/login"})}),f.jsx(pt,{path:"*",element:f.jsx(wm,{to:"/"})})]})})})}_A.createRoot(document.getElementById("root")).render(f.jsx(D.StrictMode,{children:f.jsx(GO,{})}));
